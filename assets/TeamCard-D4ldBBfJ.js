import{u as I,a as G,ab as S,b as e,B as n,C as x,T as l,d as D,e as A,ah as B,an as j,R as E,M as $,Y as H,f as M,h as W,bI as L,r as p,aZ as P,bP as R,i as _,k as q,cT as O,g as Q,D as V,S as F,bQ as Y,bU as Z,aQ as J,V as X,n as K,o as ee,p as ie,q as se}from"./index-3j9gmnXW.js";import{u as te,d as ae}from"./consts-Dj6X4iBG.js";import{T as ne}from"./TeamDelModal-CbGNofPo.js";function ue({teamId:i,onClick:u,bgt:b}){const r=I(i),{name:t,description:c,loadoutData:g}=r,N=G(),[C,s,f]=S();return e(M,{bgt:b,sx:{height:"100%",border:"1px rgba(200,200,200,0.4) solid"},children:e(n,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e(n,{sx:{display:"flex",flexDirection:"row"},children:[e(x,{onClick:()=>u(),sx:{p:1},children:e(l,{sx:{display:"flex",gap:1},variant:"h6",children:[e("span",{children:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:84,columnNumber:15},this)," ",c&&e(D,{title:e(l,{children:c},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:87,columnNumber:26},this),children:e(A,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:89,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:86,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:83,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:82,columnNumber:11},this),e(ne,{teamId:i,show:C,onHide:f,onDel:function(){}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:94,columnNumber:11},this),e(B,{onClick:s,color:"error",children:e(j,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:101,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:100,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:76,columnNumber:9},this),e(n,{sx:{marginTop:"auto"},children:g.map((o,h)=>{var d;const a=o==null?void 0:o.teamCharId,m=a&&((d=N.teamChars.get(a))==null?void 0:d.key);return e(E.Fragment,{children:[e($,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:111,columnNumber:17},this),m?e(x,{onClick:()=>u(m),children:e(re,{characterKey:m,teamId:i,teamCharId:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:114,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:113,columnNumber:19},this):e(x,{onClick:()=>u(),sx:{height:120,position:"relative"},children:e(n,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:120},children:e(n,{component:"img",src:H.team[`team${h+1}`],sx:{width:"auto",my:"15px",height:90,opacity:.7,mx:"auto"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:134,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:125,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:121,columnNumber:19},this)]},h,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:110,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:104,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:69,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:62,columnNumber:5},this)}function re({characterKey:i,teamId:u,teamCharId:b}){var v;const r=G(),t=W(i),{gender:c}=L(),{silly:g}=p.useContext(P),N=R(i),{name:C}=te(b),s=r.teams.getLoadoutDatum(u,b),f=r.teams.getActiveBuildName(s),o=r.teams.getLoadoutWeapon(s),h=(()=>{const{buildType:U,buildTcId:z}=s;return U==="tc"&&z?_(r.buildTcs.get(z)):Object.values(r.teams.getLoadoutArtifacts(s)).filter(w=>w)})(),a=q(i,void 0,h,o),m=(v=a==null?void 0:a[i])==null?void 0:v.target,d=p.useMemo(()=>t&&{character:t},[t]),T=p.useMemo(()=>m&&a&&{data:m,teamData:a},[m,a]),y=O(i,"banner",c),k=Q(i);return!d||!T?null:e(se.Provider,{value:d,children:e(V.Provider,{value:T,children:e(p.Suspense,{fallback:e(F,{variant:"rectangular",width:"100%",height:300},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:214,columnNumber:13},this),children:e(n,{className:y?void 0:`grad-${N.rarity}star`,sx:{display:"flex","&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.5,backgroundImage:`url(${y})`,backgroundPosition:"center",backgroundSize:"cover",zIndex:0}},children:[e(n,{sx:{position:"absolute",width:"100%",height:"100%",zIndex:2,top:0,background:"linear-gradient(to top, rgba(50,50,50,0.7), rgba(0,0,0,0) 25% )"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:245,columnNumber:13},this),e(n,{sx:{height:120,width:120,position:"relative"},children:[e(n,{component:"img",src:Y(i,c,g),sx:{height:120,width:120,zIndex:1}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:263,columnNumber:15},this),t&&e(l,{sx:{position:"absolute",lineHeight:1,bottom:0,p:.5,textShadow:"0 0 5px black",zIndex:3},children:e("strong",{children:Z(t.level,t.ascension)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:283,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:273,columnNumber:17},this),t&&e(l,{sx:{position:"absolute",lineHeight:1,bottom:0,right:0,p:.5,textShadow:"0 0 5px black",zIndex:3},children:e("strong",{children:["C",t.constellation]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:300,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:289,columnNumber:17},this),i.startsWith("Traveler")&&e(l,{sx:{position:"absolute",lineHeight:1,top:0,left:0,p:.5,textShadow:"0 0 5px black",zIndex:3},children:e(J,{color:k,children:e(X,{ele:k},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:316,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:315,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:304,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:256,columnNumber:13},this),e(n,{sx:{pr:.5,py:.5,display:"flex",flexDirection:"column",flexGrow:1,width:"100%",minWidth:0,justifyContent:"space-between",zIndex:3},children:[e(l,{noWrap:!0,sx:{display:"flex",gap:1,alignItems:"center",textShadow:"0 0 5px black"},children:[e(ae,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:344,columnNumber:17},this),e("span",{children:C},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:345,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:335,columnNumber:15},this),e(l,{noWrap:!0,sx:{display:"flex",gap:1,alignItems:"center",textShadow:"0 0 5px black"},children:[e(K,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:357,columnNumber:17},this),e("span",{children:f},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:358,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:348,columnNumber:15},this),(s==null?void 0:s.buildType)==="tc"&&(s!=null&&s.buildTcId)?e(ee,{weapon:o},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:361,columnNumber:17},this):e(ie,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:363,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:322,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:224,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:212,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:211,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/team/TeamCard.tsx",lineNumber:210,columnNumber:5},this)}export{ue as T};
