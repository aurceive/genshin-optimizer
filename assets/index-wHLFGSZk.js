import{r as x,bp as Gi,bo as Ei,bq as it,cU as ap,br as Ne,bs as Mi,bt as bi,cV as Oy,j as ze,bu as Et,ck as D0,cW as _0,P as w,bv as Pi,cX as Al,cY as zy,cZ as w0,c_ as A0,bw as mi,J as $i,c$ as U0,d0 as G0,T as W,d1 as E0,c as Or,by as ya,d2 as Un,a as oe,ar as ir,d3 as Se,cP as Tr,d4 as Dy,d5 as np,d6 as Co,d7 as _y,d8 as wy,d9 as Li,da as Gn,db as M0,dc as ki,y as pe,b as o,aa as Oe,O as pr,at as pi,dd as Ay,de as rt,ch as P0,cA as Ea,cg as Ce,K as Yi,ct as ci,df as $0,cu as I0,B as M,dg as R0,dh as la,di as j0,aN as ws,aO as fi,ad as Y,an as As,aL as gi,aP as Ft,c4 as sp,c3 as Uy,c5 as Gy,H as Ey,bR as My,bT as Py,am as ce,bU as $y,dj as Iy,bY as et,f as H,c7 as Mt,c8 as op,bM as zr,dk as Ma,s as rr,t as ar,v as nr,dl as Pa,L as Ve,ah as Le,ai as gt,N as ae,ag as bt,D as he,dm as Ry,S as Ke,dn as lp,dp as B0,M as be,dq as jy,dr as Oo,ds as zo,bI as $t,ab as He,bL as Ul,bj as Ai,aV as dt,aW as Pe,q as Je,bP as sr,G as I,cn as up,co as Gl,dt as L0,du as By,dv as F0,cE as at,Q as Si,cp as W0,X as dn,cq as Ly,bG as El,_ as Us,cr as dc,cs as cp,dw as q0,dx as H0,dy as K0,dz as V0,dA as X0,dB as Y0,dC as Hr,dD as Fy,dE as Ut,aQ as Ee,dF as eh,dG as J0,b8 as Z0,b9 as vu,au as st,dH as th,dI as ih,dJ as gc,dK as Gs,dL as Kn,dM as bc,dN as yc,C as gn,dO as mp,dP as Wy,dQ as Do,dR as Ml,dS as Q0,ay as Vi,cz as pp,bE as vc,dT as e1,aI as $a,dU as ua,dV as fp,dW as t1,dX as i1,dY as r1,dZ as qy,cv as rh,d_ as a1,d$ as n1,g as bn,b$ as Xr,b_ as Es,bZ as Ia,n as Ra,e0 as as,e1 as s1,A as ot,I as Ze,e2 as o1,aR as ti,e3 as Qs,e4 as aa,e5 as l1,c6 as kr,e6 as _o,e7 as Pl,e8 as hp,e9 as Hy,ea as Di,eb as $l,i as Ky,ec as Vy,a$ as dp,b0 as gp,cx as yi,ed as u1,b4 as Ms,bB as Cu,ee as Zt,ax as qe,ef as oi,eg as Xy,eh as ah,ei as ns,ej as ss,bH as c1,bF as Yy,aw as Cc,ek as bp,af as nh,el as m1,em as p1,en as f1,eo as h1,w as Re,ep as eo,R as G,eq as d1,er as g1,es as b1,et as y1,eu as yp,ev as Nc,d as ht,ew as v1,cF as os,cl as C1,ex as sh,ey as vp,ez as N1,aA as Jy,aC as x1,aF as T1,al as k1,as as Zy,aD as Qy,Z as S1,eA as O1,eB as z1,eC as D1,bd as _1,eD as w1,eE as ev,eF as Br,l as tv,m as iv,p as rv,cC as A1,aZ as av,E as oh,F as lh,cO as uh,cM as U1,b6 as G1,cI as E1,cJ as M1,cK as P1,bK as Il,e as gr,cm as Cp,eG as nv,eH as sv,eI as $1,eJ as ov,eK as lv,eL as I1,eM as Ps,eN as $s,eO as uv,bJ as Rl,cB as cv,cD as mv,eP as pv,eQ as fv,bN as hv,eR as R1,eS as j1,eT as B1,eU as L1,eV as F1,eW as W1,eX as q1,eY as H1,eZ as K1,e_ as V1,e$ as Vn,f0 as Np,f1 as X1,f2 as ch,cf as Y1,bh as J1,f3 as Z1,f4 as mh,f5 as Q1,f6 as eT,f7 as tT,f8 as iT,f9 as ph,fa as rT,fb as aT,aG as nT,cc as dv,cd as Fi,ce as gv,cT as sT,ca as bv,cb as fr,z as xp,u as Is,a8 as oT,fc as fh,h as yv,fd as va,k as lT,fe as to,ff as Nu,fg as io,fh as uT,cH as cT,fi as mT,c9 as hh,cR as pT,ci as fT,fj as hT,fk as dT}from"./index-CihC3QCq.js";import{A as jl,C as gT,c as No,h as xo}from"./CharacterCardPico-BaoHQTQ2.js";import{B as Tp,u as vv,E as Cv,a as Rs,d as Bl,T as Wt,L as bT,h as yT,b as vT,c as CT,C as Nv,g as xv,f as NT,i as xT,j as TT,e as kT}from"./LoadoutInfoAlert-BZt7B7y5.js";import{d as wo,C as ST,U as OT,a as zT,u as kp,O as DT,b as _T,B as wT}from"./consts-DDeIGJse.js";import{d as AT}from"./Upload-CoKllus-.js";import{L as Sp}from"./Link-CMN5QqXI.js";import{d as Op}from"./Settings-CJHuoLGc.js";import{A as UT}from"./AddArtInfo-DWvu0t48.js";import{O as GT,T as ET}from"./TeamDelModal-BTjCnK2x.js";class MT{constructor(){this.head=[],this.tail=[]}get length(){return this.head.length+this.tail.length}push(t){this.tail.push(t)}pop(){return!this.head.length&&this.tail.length&&([this.head,this.tail]=[this.tail.reverse(),this.head]),this.head.pop()}}const zp=x.createContext({});zp.displayName="AccordionContext";function PT(e){return Ei("MuiAccordion",e)}const $T=Gi("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),ro=$T,IT=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],RT=e=>{const{classes:t,square:i,expanded:r,disabled:a,disableGutters:n}=e;return Pi({root:["root",!i&&"rounded",r&&"expanded",a&&"disabled",!n&&"gutters"],region:["region"]},PT,t)},jT=it(ap,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{[`& .${ro.region}`]:t.region},t.root,!i.square&&t.rounded,!i.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${ro.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${ro.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>Ne({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${ro.expanded}`]:{margin:"16px 0"}})),Tv=x.forwardRef(function(t,i){const r=Mi({props:t,name:"MuiAccordion"}),{children:a,className:n,defaultExpanded:s=!1,disabled:l=!1,disableGutters:u=!1,expanded:c,onChange:m,square:p=!1,TransitionComponent:f=Al,TransitionProps:b}=r,g=bi(r,IT),[h,y]=Oy({controlled:c,default:s,name:"Accordion",state:"expanded"}),C=x.useCallback(S=>{y(!h),m&&m(S,!h)},[h,m,y]),[N,...d]=x.Children.toArray(a),v=x.useMemo(()=>({expanded:h,disabled:l,disableGutters:u,toggle:C}),[h,l,u,C]),k=Ne({},r,{square:p,disabled:l,disableGutters:u,expanded:h}),T=RT(k);return ze.jsxs(jT,Ne({className:Et(T.root,n),ref:i,ownerState:k,square:p},g,{children:[ze.jsx(zp.Provider,{value:v,children:N}),ze.jsx(f,Ne({in:h,timeout:"auto"},b,{children:ze.jsx("div",{"aria-labelledby":N.props.id,id:N.props["aria-controls"],role:"region",className:T.region,children:d})}))]}))});Tv.propTypes={children:D0(w.node.isRequired,e=>{const t=x.Children.toArray(e.children)[0];return _0.isFragment(t)?new Error("MUI: The Accordion doesn't accept a Fragment as a child. Consider providing an array instead."):x.isValidElement(t)?null:new Error("MUI: Expected the first child of Accordion to be a valid element.")}),classes:w.object,className:w.string,defaultExpanded:w.bool,disabled:w.bool,disableGutters:w.bool,expanded:w.bool,onChange:w.func,square:w.bool,sx:w.oneOfType([w.arrayOf(w.oneOfType([w.func,w.object,w.bool])),w.func,w.object]),TransitionComponent:w.elementType,TransitionProps:w.object};const kv=Tv;function BT(e){return Ei("MuiAccordionDetails",e)}Gi("MuiAccordionDetails",["root"]);const LT=["className"],FT=e=>{const{classes:t}=e;return Pi({root:["root"]},BT,t)},WT=it("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),Sv=x.forwardRef(function(t,i){const r=Mi({props:t,name:"MuiAccordionDetails"}),{className:a}=r,n=bi(r,LT),s=r,l=FT(s);return ze.jsx(WT,Ne({className:Et(l.root,a),ref:i,ownerState:s},n))});Sv.propTypes={children:w.node,classes:w.object,className:w.string,sx:w.oneOfType([w.arrayOf(w.oneOfType([w.func,w.object,w.bool])),w.func,w.object])};const Ov=Sv;function qT(e){return Ei("MuiAccordionSummary",e)}const HT=Gi("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Oa=HT,KT=["children","className","expandIcon","focusVisibleClassName","onClick"],VT=e=>{const{classes:t,expanded:i,disabled:r,disableGutters:a}=e;return Pi({root:["root",i&&"expanded",r&&"disabled",!a&&"gutters"],focusVisible:["focusVisible"],content:["content",i&&"expanded",!a&&"contentGutters"],expandIconWrapper:["expandIconWrapper",i&&"expanded"]},qT,t)},XT=it(zy,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const i={duration:e.transitions.duration.shortest};return Ne({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],i),[`&.${Oa.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Oa.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Oa.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${Oa.expanded}`]:{minHeight:64}})}),YT=it("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>Ne({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Oa.expanded}`]:{margin:"20px 0"}})),JT=it("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Oa.expanded}`]:{transform:"rotate(180deg)"}})),zv=x.forwardRef(function(t,i){const r=Mi({props:t,name:"MuiAccordionSummary"}),{children:a,className:n,expandIcon:s,focusVisibleClassName:l,onClick:u}=r,c=bi(r,KT),{disabled:m=!1,disableGutters:p,expanded:f,toggle:b}=x.useContext(zp),g=C=>{b&&b(C),u&&u(C)},h=Ne({},r,{expanded:f,disabled:m,disableGutters:p}),y=VT(h);return ze.jsxs(XT,Ne({focusRipple:!1,disableRipple:!0,disabled:m,component:"div","aria-expanded":f,className:Et(y.root,n),focusVisibleClassName:Et(y.focusVisible,l),onClick:g,ref:i,ownerState:h},c,{children:[ze.jsx(YT,{className:y.content,ownerState:h,children:a}),s&&ze.jsx(JT,{className:y.expandIconWrapper,ownerState:h,children:s})]}))});zv.propTypes={children:w.node,classes:w.object,className:w.string,expandIcon:w.node,focusVisibleClassName:w.string,onClick:w.func,sx:w.oneOfType([w.arrayOf(w.oneOfType([w.func,w.object,w.bool])),w.func,w.object])};const Dv=zv;function ZT(e){return Ei("MuiDialog",e)}const QT=Gi("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),xu=QT,_v=x.createContext({});_v.displayName="DialogContext";const wv=_v,ek=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],tk=it(w0,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),ik=e=>{const{classes:t,scroll:i,maxWidth:r,fullWidth:a,fullScreen:n}=e,s={root:["root"],container:["container",`scroll${mi(i)}`],paper:["paper",`paperScroll${mi(i)}`,`paperWidth${mi(String(r))}`,a&&"paperFullWidth",n&&"paperFullScreen"]};return Pi(s,ZT,t)},rk=it(A0,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),ak=it("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.container,t[`scroll${mi(i.scroll)}`]]}})(({ownerState:e})=>Ne({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),nk=it(ap,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.paper,t[`scrollPaper${mi(i.scroll)}`],t[`paperWidth${mi(String(i.maxWidth))}`],i.fullWidth&&t.paperFullWidth,i.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>Ne({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${xu.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${xu.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${xu.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Av=x.forwardRef(function(t,i){const r=Mi({props:t,name:"MuiDialog"}),a=$i(),n={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":l,BackdropComponent:u,BackdropProps:c,children:m,className:p,disableEscapeKeyDown:f=!1,fullScreen:b=!1,fullWidth:g=!1,maxWidth:h="sm",onBackdropClick:y,onClose:C,open:N,PaperComponent:d=ap,PaperProps:v={},scroll:k="paper",TransitionComponent:T=G0,transitionDuration:S=n,TransitionProps:O}=r,_=bi(r,ek),A=Ne({},r,{disableEscapeKeyDown:f,fullScreen:b,fullWidth:g,maxWidth:h,scroll:k}),z=ik(A),D=x.useRef(),U=q=>{D.current=q.target===q.currentTarget},P=q=>{D.current&&(D.current=null,y&&y(q),C&&C(q,"backdropClick"))},$=U0(l),B=x.useMemo(()=>({titleId:$}),[$]);return ze.jsx(rk,Ne({className:Et(z.root,p),closeAfterTransition:!0,components:{Backdrop:tk},componentsProps:{backdrop:Ne({transitionDuration:S,as:u},c)},disableEscapeKeyDown:f,onClose:C,open:N,ref:i,onClick:P,ownerState:A},_,{children:ze.jsx(T,Ne({appear:!0,in:N,timeout:S,role:"presentation"},O,{children:ze.jsx(ak,{className:Et(z.container),onMouseDown:U,ownerState:A,children:ze.jsx(nk,Ne({as:d,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":$},v,{className:Et(z.paper,v.className),ownerState:A,children:ze.jsx(wv.Provider,{value:B,children:m})}))})}))}))});Av.propTypes={"aria-describedby":w.string,"aria-labelledby":w.string,BackdropComponent:w.elementType,BackdropProps:w.object,children:w.node,classes:w.object,className:w.string,disableEscapeKeyDown:w.bool,fullScreen:w.bool,fullWidth:w.bool,maxWidth:w.oneOfType([w.oneOf(["xs","sm","md","lg","xl",!1]),w.string]),onBackdropClick:w.func,onClose:w.func,open:w.bool.isRequired,PaperComponent:w.elementType,PaperProps:w.object,scroll:w.oneOf(["body","paper"]),sx:w.oneOfType([w.arrayOf(w.oneOfType([w.func,w.object,w.bool])),w.func,w.object]),TransitionComponent:w.elementType,transitionDuration:w.oneOfType([w.number,w.shape({appear:w.number,enter:w.number,exit:w.number})]),TransitionProps:w.object};const sk=Av;function ok(e){return Ei("MuiDialogActions",e)}Gi("MuiDialogActions",["root","spacing"]);const lk=["className","disableSpacing"],uk=e=>{const{classes:t,disableSpacing:i}=e;return Pi({root:["root",!i&&"spacing"]},ok,t)},ck=it("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.disableSpacing&&t.spacing]}})(({ownerState:e})=>Ne({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Uv=x.forwardRef(function(t,i){const r=Mi({props:t,name:"MuiDialogActions"}),{className:a,disableSpacing:n=!1}=r,s=bi(r,lk),l=Ne({},r,{disableSpacing:n}),u=uk(l);return ze.jsx(ck,Ne({className:Et(u.root,a),ownerState:l,ref:i},s))});Uv.propTypes={children:w.node,classes:w.object,className:w.string,disableSpacing:w.bool,sx:w.oneOfType([w.arrayOf(w.oneOfType([w.func,w.object,w.bool])),w.func,w.object])};const Gv=Uv;function mk(e){return Ei("MuiDialogContent",e)}Gi("MuiDialogContent",["root","dividers"]);function pk(e){return Ei("MuiDialogTitle",e)}const fk=Gi("MuiDialogTitle",["root"]),hk=fk,dk=["className","dividers"],gk=e=>{const{classes:t,dividers:i}=e;return Pi({root:["root",i&&"dividers"]},mk,t)},bk=it("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>Ne({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${hk.root} + &`]:{paddingTop:0}})),Ev=x.forwardRef(function(t,i){const r=Mi({props:t,name:"MuiDialogContent"}),{className:a,dividers:n=!1}=r,s=bi(r,dk),l=Ne({},r,{dividers:n}),u=gk(l);return ze.jsx(bk,Ne({className:Et(u.root,a),ownerState:l,ref:i},s))});Ev.propTypes={children:w.node,classes:w.object,className:w.string,dividers:w.bool,sx:w.oneOfType([w.arrayOf(w.oneOfType([w.func,w.object,w.bool])),w.func,w.object])};const Mv=Ev;function yk(e){return Ei("MuiDialogContentText",e)}Gi("MuiDialogContentText",["root"]);const vk=["children","className"],Ck=e=>{const{classes:t}=e,r=Pi({root:["root"]},yk,t);return Ne({},t,r)},Nk=it(W,{shouldForwardProp:e=>E0(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Pv=x.forwardRef(function(t,i){const r=Mi({props:t,name:"MuiDialogContentText"}),{className:a}=r,n=bi(r,vk),s=Ck(n);return ze.jsx(Nk,Ne({component:"p",variant:"body1",color:"text.secondary",ref:i,ownerState:n,className:Et(s.root,a)},r,{classes:s}))});Pv.propTypes={children:w.node,classes:w.object,className:w.string,sx:w.oneOfType([w.arrayOf(w.oneOfType([w.func,w.object,w.bool])),w.func,w.object])};const $v=Pv,xk=["className","id"],Tk=e=>{const{classes:t}=e;return Pi({root:["root"]},pk,t)},kk=it(W,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Iv=x.forwardRef(function(t,i){const r=Mi({props:t,name:"MuiDialogTitle"}),{className:a,id:n}=r,s=bi(r,xk),l=r,u=Tk(l),{titleId:c=n}=x.useContext(wv);return ze.jsx(kk,Ne({component:"h2",className:Et(u.root,a),ownerState:l,ref:i,variant:"h6",id:n??c},s))});Iv.propTypes={children:w.node,classes:w.object,className:w.string,id:w.string,sx:w.oneOfType([w.arrayOf(w.oneOfType([w.func,w.object,w.bool])),w.func,w.object])};const Rv=Iv;function Sk(e){return Ei("MuiPagination",e)}Gi("MuiPagination",["root","ul","outlined","text"]);const Ok=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function zk(e={}){const{boundaryCount:t=1,componentName:i="usePagination",count:r=1,defaultPage:a=1,disabled:n=!1,hideNextButton:s=!1,hidePrevButton:l=!1,onChange:u,page:c,showFirstButton:m=!1,showLastButton:p=!1,siblingCount:f=1}=e,b=bi(e,Ok),[g,h]=Oy({controlled:c,default:a,name:i,state:"page"}),y=(_,A)=>{c||h(A),u&&u(_,A)},C=(_,A)=>{const z=A-_+1;return Array.from({length:z},(D,U)=>_+U)},N=C(1,Math.min(t,r)),d=C(Math.max(r-t+1,t+1),r),v=Math.max(Math.min(g-f,r-t-f*2-1),t+2),k=Math.min(Math.max(g+f,t+f*2+2),d.length>0?d[0]-2:r-1),T=[...m?["first"]:[],...l?[]:["previous"],...N,...v>t+2?["start-ellipsis"]:t+1<r-t?[t+1]:[],...C(v,k),...k<r-t-1?["end-ellipsis"]:r-t>t?[r-t]:[],...d,...s?[]:["next"],...p?["last"]:[]],S=_=>{switch(_){case"first":return 1;case"previous":return g-1;case"next":return g+1;case"last":return r;default:return null}},O=T.map(_=>typeof _=="number"?{onClick:A=>{y(A,_)},type:"page",page:_,selected:_===g,disabled:n,"aria-current":_===g?"true":void 0}:{onClick:A=>{y(A,S(_))},type:_,page:S(_),selected:!1,disabled:n||_.indexOf("ellipsis")===-1&&(_==="next"||_==="last"?g>=r:g<=1)});return Ne({items:O},b)}function Dk(e){return Ei("MuiPaginationItem",e)}const _k=Gi("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]),Xt=_k,dh=Or(ze.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),gh=Or(ze.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),bh=Or(ze.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),yh=Or(ze.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),wk=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],jv=(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],t[`size${mi(i.size)}`],i.variant==="text"&&t[`text${mi(i.color)}`],i.variant==="outlined"&&t[`outlined${mi(i.color)}`],i.shape==="rounded"&&t.rounded,i.type==="page"&&t.page,(i.type==="start-ellipsis"||i.type==="end-ellipsis")&&t.ellipsis,(i.type==="previous"||i.type==="next")&&t.previousNext,(i.type==="first"||i.type==="last")&&t.firstLast]},Ak=e=>{const{classes:t,color:i,disabled:r,selected:a,size:n,shape:s,type:l,variant:u}=e,c={root:["root",`size${mi(n)}`,u,s,i!=="standard"&&`${u}${mi(i)}`,r&&"disabled",a&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[l]],icon:["icon"]};return Pi(c,Dk,t)},Uk=it("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:jv})(({theme:e,ownerState:t})=>Ne({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${Xt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),Gk=it(zy,{name:"MuiPaginationItem",slot:"Root",overridesResolver:jv})(({theme:e,ownerState:t})=>Ne({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${Xt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Xt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xt.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ya(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Xt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ya(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${Xt.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},t.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},t.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:t})=>Ne({},t.variant==="text"&&{[`&.${Xt.selected}`]:Ne({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}},[`&.${Xt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}},{[`&.${Xt.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},t.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Xt.selected}`]:Ne({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:ya(e.palette[t.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:ya(e.palette[t.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ya(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ya(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${Xt.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),Ek=it("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})(({theme:e,ownerState:t})=>Ne({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},t.size==="small"&&{fontSize:e.typography.pxToRem(18)},t.size==="large"&&{fontSize:e.typography.pxToRem(22)})),Bv=x.forwardRef(function(t,i){const r=Mi({props:t,name:"MuiPaginationItem"}),{className:a,color:n="standard",component:s,components:l={},disabled:u=!1,page:c,selected:m=!1,shape:p="circular",size:f="medium",slots:b={},type:g="page",variant:h="text"}=r,y=bi(r,wk),C=Ne({},r,{color:n,disabled:u,selected:m,shape:p,size:f,type:g,variant:h}),N=$i(),d=Ak(C),k=(N.direction==="rtl"?{previous:b.next||l.next||yh,next:b.previous||l.previous||bh,last:b.first||l.first||dh,first:b.last||l.last||gh}:{previous:b.previous||l.previous||bh,next:b.next||l.next||yh,first:b.first||l.first||dh,last:b.last||l.last||gh})[g];return g==="start-ellipsis"||g==="end-ellipsis"?ze.jsx(Uk,{ref:i,ownerState:C,className:Et(d.root,a),children:"â€¦"}):ze.jsxs(Gk,Ne({ref:i,ownerState:C,component:s,disabled:u,className:Et(d.root,a)},y,{children:[g==="page"&&c,k?ze.jsx(Ek,{as:k,ownerState:C,className:d.icon}):null]}))});Bv.propTypes={children:w.node,classes:w.object,className:w.string,color:w.oneOfType([w.oneOf(["primary","secondary","standard"]),w.string]),component:w.elementType,components:w.shape({first:w.elementType,last:w.elementType,next:w.elementType,previous:w.elementType}),disabled:w.bool,page:w.node,selected:w.bool,shape:w.oneOf(["circular","rounded"]),size:w.oneOfType([w.oneOf(["small","medium","large"]),w.string]),slots:w.shape({first:w.elementType,last:w.elementType,next:w.elementType,previous:w.elementType}),sx:w.oneOfType([w.arrayOf(w.oneOfType([w.func,w.object,w.bool])),w.func,w.object]),type:w.oneOf(["end-ellipsis","first","last","next","page","previous","start-ellipsis"]),variant:w.oneOfType([w.oneOf(["outlined","text"]),w.string])};const Mk=Bv,Pk=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],$k=e=>{const{classes:t,variant:i}=e;return Pi({root:["root",i],ul:["ul"]},Sk,t)},Ik=it("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant]]}})({}),Rk=it("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function jk(e,t,i){return e==="page"?`${i?"":"Go to "}page ${t}`:`Go to ${e} page`}const Lv=x.forwardRef(function(t,i){const r=Mi({props:t,name:"MuiPagination"}),{boundaryCount:a=1,className:n,color:s="standard",count:l=1,defaultPage:u=1,disabled:c=!1,getItemAriaLabel:m=jk,hideNextButton:p=!1,hidePrevButton:f=!1,renderItem:b=O=>ze.jsx(Mk,Ne({},O)),shape:g="circular",showFirstButton:h=!1,showLastButton:y=!1,siblingCount:C=1,size:N="medium",variant:d="text"}=r,v=bi(r,Pk),{items:k}=zk(Ne({},r,{componentName:"Pagination"})),T=Ne({},r,{boundaryCount:a,color:s,count:l,defaultPage:u,disabled:c,getItemAriaLabel:m,hideNextButton:p,hidePrevButton:f,renderItem:b,shape:g,showFirstButton:h,showLastButton:y,siblingCount:C,size:N,variant:d}),S=$k(T);return ze.jsx(Ik,Ne({"aria-label":"pagination navigation",className:Et(S.root,n),ownerState:T,ref:i},v,{children:ze.jsx(Rk,{className:S.ul,ownerState:T,children:k.map((O,_)=>ze.jsx("li",{children:b(Ne({},O,{color:s,"aria-label":m(O.type,O.page,O.selected),shape:g,size:N,variant:d}))},_))})}))});Lv.propTypes={boundaryCount:Un,classes:w.object,className:w.string,color:w.oneOfType([w.oneOf(["primary","secondary","standard"]),w.string]),count:Un,defaultPage:Un,disabled:w.bool,getItemAriaLabel:w.func,hideNextButton:w.bool,hidePrevButton:w.bool,onChange:w.func,page:Un,renderItem:w.func,shape:w.oneOf(["circular","rounded"]),showFirstButton:w.bool,showLastButton:w.bool,siblingCount:Un,size:w.oneOfType([w.oneOf(["small","medium","large"]),w.string]),sx:w.oneOfType([w.arrayOf(w.oneOfType([w.func,w.object,w.bool])),w.func,w.object]),variant:w.oneOfType([w.oneOf(["outlined","text"]),w.string])};const Bk=Lv;function vh(e){const[t,i]=x.useState(e),r=JSON.stringify(t);return x.useEffect(()=>{JSON.stringify(e)!==r&&i(e)},[e,r]),t}function Lk(){const e=x.useRef(!0);return x.useEffect(()=>{e.current=!1},[]),e.current}function Fk(e){const t=oe(),[i,r]=ir(),a=x.useMemo(()=>i&&t.teams.getLoadoutArtifacts(e),[i,t.teams,e]);return x.useEffect(()=>{const n=Object.values(a).map(l=>l!=null&&l.id?t.arts.follow(l.id,(u,c)=>(c==="update"||c==="remove")&&r()):()=>{}),s=t.builds.follow(e.buildId,(l,u)=>u==="update"&&r());return()=>{n.forEach(l=>l()),s()}},[a,t,e,r]),a}function Wk(){const{teamCharId:e,team:{loadoutData:t}}=x.useContext(Se),i=oe();return x.useMemo(()=>Array.from(new Set(t.filter(Tr).filter(r=>r.teamCharId!==e).map(r=>i.teams.getLoadoutArtifacts(r)).flatMap(r=>Object.values(r)).filter(Tr).map(({id:r})=>r))),[i,t,e])}function To(e,t,i){let r=!0;return Dy([e],a=>{},a=>{const{operation:n}=a;switch(n){case"read":if(a.type!=="number"||a.accu&&a.accu!=="add")throw new Error(`Unsupported [${n}] node in zero_deriv`);t(a)===i&&(r=!1)}}),r}function Ni(e,t,i){const{operation:r}=e;switch(r){case"read":{if(e.type!=="number"||e.accu&&e.accu!=="add")throw new Error(`Unsupported [${r}] node in d/dx`);return t(e)===i?ki(1):ki(0)}case"const":return ki(0);case"res":if(!To(e,t,i))throw new Error(`[${r}] node takes only constant inputs. ${e}`);return ki(0);case"add":return Li(...e.operands.map(a=>Ni(a,t,i)));case"mul":{const a=e.operands.map((n,s)=>Gn(Ni(n,t,i),...e.operands.filter((l,u)=>u!==s)));return Li(...a)}case"sum_frac":{const a=e.operands[0],n=Ni(a,t,i),s=Li(...e.operands.slice(1)),l=Ni(s,t,i),u=Gn(Li(...e.operands),Li(...e.operands)),c=Li(Gn(s,n),Gn(-1,a,l));return M0(c,Li(Gn(-1,c),u))}case"min":case"max":{let a=Ni(e.operands[0],t,i);for(let n=1;n<e.operands.length;n++){const s=e.operands[n];if(r==="min"){const l=_y(...e.operands.slice(0,n));a=Co(s,l,a,Ni(s,t,i))}else if(r==="max"){const l=wy(...e.operands.slice(0,n));a=Co(s,l,Ni(s,t,i),a)}}return a}case"threshold":{const[a,n,s,l]=e.operands;if(!To(a,t,i)||!To(n,t,i))throw new Error(`[${r}] node must branch on constant inputs. ${e}`);return Co(a,n,Ni(s,t,i),Ni(l,t,i))}default:np(r)}}function Fv(){const{t:e}=pe("page_character_optimize");return o(pi,{severity:"warning",variant:"filled",children:o(Oe,{t:e,i18nKey:"noArtis",children:["Oops! It looks like you haven't added any artifacts to GO yet! You should go to the",o(Sp,{component:pr,to:"/artifacts",children:"Artifacts"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/NoArtWarning.tsx",lineNumber:12,columnNumber:9},this),"page and add some!"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/NoArtWarning.tsx",lineNumber:9,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/NoArtWarning.tsx",lineNumber:8,columnNumber:5},this)}function Dp({statKeys:e,statFilters:t,setStatFilters:i,disabled:r=!1,wrapperFunc:a=s=>s,label:n}){const{t:s}=pe("statKey_gen"),l=x.useMemo(()=>e.map(f=>({key:f,grouper:Wv[f],label:[...Ay,...rt].includes(f)?`${s(f)}${P0(f)}`:Ea.getStr(f)??"ERROR",color:Ea.getVariant(f)})).sort((f,b)=>Nh.indexOf(f.grouper)-Nh.indexOf(b.grouper)),[s,e]),u=x.useCallback(f=>Object.keys(t).includes(f.key),[t]),c=x.useCallback((f,b)=>{if(b)i(Object.fromEntries(Object.entries(t).map(([g,h])=>[g===b?f:g,h])));else{const g={...t};g[f]=0,i({...g})}},[t,i]),m=x.useCallback((f,b)=>{const g={...t};g[f]=b,i({...g})},[t,i]),p=x.useCallback(f=>{const b={...t};delete b[f],i({...b})},[t,i]);return o(Ce,{children:[Object.entries(t).map(([f,b])=>a(o(Ch,{statKey:f,statKeyOptions:l,disabled:r,value:b,setValue:m,setKey:c,delKey:p,getOptionDisabled:u},f,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:116,columnNumber:11},this),f)),a(o(Ch,{statKey:null,statKeyOptions:l,setValue:m,setKey:c,delKey:p,disabled:r,getOptionDisabled:u,label:n},Object.entries(t).length,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:131,columnNumber:9},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:113,columnNumber:5},this)}function Ch({statKey:e,statKeyOptions:t=[],value:i=0,delKey:r,setKey:a,setValue:n,disabled:s=!1,getOptionDisabled:l,label:u}){const c=$i(),{t:m}=pe("ui"),p=Yi(c.breakpoints.up("lg")),f=Yi(c.breakpoints.down("md")),b=e?ci(e)==="%":!1,g=x.useCallback(N=>e&&n(e,N??0),[n,e]),h=x.useCallback(N=>{N?a(N,e):e&&r(e)},[e,a,r]),y=x.useCallback(()=>e&&r(e),[r,e]),C={p:1,flexBasis:30,flexGrow:0,flexShrink:0};return o(gi,{sx:{width:"100%"},children:[o($0,{size:"small",options:t,onChange:h,valueKey:e,getOptionDisabled:l,groupBy:N=>Wv[N.key],renderGroup:N=>o(I0,{component:M,sx:{paddingTop:0,marginTop:0},children:[o(R0,{sx:{top:"-1em"},children:o("strong",{children:m(`statGroupKey.${N.group}`)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:209,columnNumber:15},this)},`${N.group}Header`,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:208,columnNumber:13},this),N.children]},N.key,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:203,columnNumber:11},this),toImg:N=>o(la,{statKey:N,iconProps:{color:Ea.getVariant(N)}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:215,columnNumber:11},this),ListboxProps:{style:{display:"grid",gridTemplateColumns:f?"100%":p?"33% 33% 33%":"50% 50%"}},PopperComponent:N=>o(j0,{...N,style:{width:"60%"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:232,columnNumber:11},this),sx:{flexGrow:1,flexBasis:150},textFieldProps:{sx:{"& .MuiInputBase-root":{borderRadius:"4px 0 0 4px"}}},label:u},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:195,columnNumber:7},this),o(ws,{sx:{flexBasis:30,flexGrow:1,borderRadius:"0 4px 4px 0"},children:o(fi,{disabled:!e||s,float:b,value:i,placeholder:"Stat Value",onChange:g,sx:{px:1},inputProps:{sx:{textAlign:"right"}},endAdornment:e?ci(e):void 0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:243,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:240,columnNumber:7},this),!!e&&o(Y,{sx:C,color:"error",onClick:y,disabled:s,children:o(As,{fontSize:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:261,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:255,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/StatEditorList.tsx",lineNumber:194,columnNumber:5},this)}const Nh=["basic_stats","elem_dmg_bonus","enemy_debuffs","self_res","reaction_dmg_bonus","reaction_crit","elem_dmgInc","talent_dmgInc","elem_crit","talent_dmg_bonus","talent_crit","talent_level_boost","base_stat_mod","stamina_buffs","misc"],Wv={hp:"basic_stats",hp_:"basic_stats",atk:"basic_stats",atk_:"basic_stats",def:"basic_stats",def_:"basic_stats",eleMas:"basic_stats",enerRech_:"basic_stats",critRate_:"basic_stats",critDMG_:"basic_stats",electro_dmg_:"elem_dmg_bonus",hydro_dmg_:"elem_dmg_bonus",pyro_dmg_:"elem_dmg_bonus",cryo_dmg_:"elem_dmg_bonus",physical_dmg_:"elem_dmg_bonus",anemo_dmg_:"elem_dmg_bonus",geo_dmg_:"elem_dmg_bonus",dendro_dmg_:"elem_dmg_bonus",heal_:"basic_stats",all_dmg_:"elem_dmg_bonus",overloaded_dmg_:"reaction_dmg_bonus",shattered_dmg_:"reaction_dmg_bonus",electrocharged_dmg_:"reaction_dmg_bonus",superconduct_dmg_:"reaction_dmg_bonus",swirl_dmg_:"reaction_dmg_bonus",burning_dmg_:"reaction_dmg_bonus",bloom_dmg_:"reaction_dmg_bonus",burgeon_dmg_:"reaction_dmg_bonus",hyperbloom_dmg_:"reaction_dmg_bonus",vaporize_dmg_:"reaction_dmg_bonus",melt_dmg_:"reaction_dmg_bonus",spread_dmg_:"reaction_dmg_bonus",aggravate_dmg_:"reaction_dmg_bonus",normal_dmg_:"talent_dmg_bonus",charged_dmg_:"talent_dmg_bonus",plunging_dmg_:"talent_dmg_bonus",plunging_collision_dmg_:"talent_dmg_bonus",plunging_impact_dmg_:"talent_dmg_bonus",skill_dmg_:"talent_dmg_bonus",burst_dmg_:"talent_dmg_bonus",elemental_dmg_:"talent_dmg_bonus",normalEle_dmg_:"talent_dmg_bonus",physical_dmgInc:"elem_dmgInc",physical_critDMG_:"elem_crit",physical_res_:"self_res",anemo_dmgInc:"elem_dmgInc",anemo_critDMG_:"elem_crit",anemo_res_:"self_res",geo_dmgInc:"elem_dmgInc",geo_critDMG_:"elem_crit",geo_res_:"self_res",electro_dmgInc:"elem_dmgInc",electro_critDMG_:"elem_crit",electro_res_:"self_res",hydro_dmgInc:"elem_dmgInc",hydro_critDMG_:"elem_crit",hydro_res_:"self_res",pyro_dmgInc:"elem_dmgInc",pyro_critDMG_:"elem_crit",pyro_res_:"self_res",cryo_dmgInc:"elem_dmgInc",cryo_critDMG_:"elem_crit",cryo_res_:"self_res",dendro_dmgInc:"elem_dmgInc",dendro_critDMG_:"elem_crit",dendro_res_:"self_res",autoBoost:"talent_level_boost",skillBoost:"talent_level_boost",burstBoost:"talent_level_boost",normal_dmgInc:"talent_dmgInc",normal_critDMG_:"talent_crit",normal_critRate_:"talent_crit",charged_dmgInc:"talent_dmgInc",charged_critDMG_:"talent_crit",charged_critRate_:"talent_crit",plunging_dmgInc:"talent_dmgInc",plunging_critDMG_:"talent_crit",plunging_critRate_:"talent_crit",plunging_collision_dmgInc:"talent_dmgInc",plunging_collision_critDMG_:"talent_crit",plunging_collision_critRate_:"talent_crit",plunging_impact_dmgInc:"talent_dmgInc",plunging_impact_critDMG_:"talent_crit",plunging_impact_critRate_:"talent_crit",skill_dmgInc:"talent_dmgInc",skill_critDMG_:"talent_crit",skill_critRate_:"talent_crit",burst_dmgInc:"talent_dmgInc",burst_critDMG_:"talent_crit",burst_critRate_:"talent_crit",elemental_dmgInc:"talent_dmgInc",elemental_critDMG_:"talent_crit",elemental_critRate_:"talent_crit",burning_critRate_:"reaction_crit",burning_critDMG_:"reaction_crit",bloom_critRate_:"reaction_crit",bloom_critDMG_:"reaction_crit",burgeon_critRate_:"reaction_crit",burgeon_critDMG_:"reaction_crit",hyperbloom_critRate_:"reaction_crit",hyperbloom_critDMG_:"reaction_crit",all_dmgInc:"elem_dmgInc",physical_enemyRes_:"enemy_debuffs",anemo_enemyRes_:"enemy_debuffs",geo_enemyRes_:"enemy_debuffs",electro_enemyRes_:"enemy_debuffs",hydro_enemyRes_:"enemy_debuffs",pyro_enemyRes_:"enemy_debuffs",cryo_enemyRes_:"enemy_debuffs",dendro_enemyRes_:"enemy_debuffs",enemyDefRed_:"enemy_debuffs",enemyDefIgn_:"misc",stamina:"stamina_buffs",staminaDec_:"stamina_buffs",staminaSprintDec_:"stamina_buffs",staminaGlidingDec_:"stamina_buffs",staminaChargedDec_:"stamina_buffs",incHeal_:"misc",shield_:"misc",cdRed_:"misc",moveSPD_:"misc",atkSPD_:"misc",weakspotDMG_:"misc",dmgRed_:"misc",healInc:"misc",base_atk:"base_stat_mod",base_hp:"base_stat_mod",base_def:"base_stat_mod"},qk=Or(ze.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),qv=Or(ze.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),Hk=Or(ze.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6z"}),"Science"),Kk=Or(ze.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");function Vk(){const[,e]=x.useState();return x.useCallback(t=>{e(()=>{throw t})},[])}const xh="num_opt_workers";function Xk(){const e=(navigator==null?void 0:navigator.hardwareConcurrency)||8,[t,i]=x.useState(()=>{const a=localStorage.getItem(xh);if(!a)return e;const n=parseInt(a);return Number.isInteger(n)?n:e}),r=Ft(t,1,e);return x.useEffect(()=>{localStorage.setItem(xh,r.toFixed())},[r]),[r,e,x.useCallback(a=>{i(Ft(Math.round(a),1,e))},[e])]}function Yk({weapon:e,bgt:t="normal"}){const i=(e==null?void 0:e.key)&&sp(e.key),r=x.useMemo(()=>i&&e&&Uy([i.data,Gy(e)]),[i,e]);return!e||!i||!r?null:o(H,{bgt:t,children:o(M,{display:"flex",children:[o(M,{flexShrink:1,maxWidth:"35%",display:"flex",flexDirection:"column",alignContent:"flex-end",className:`grad-${Ey(e.key).rarity}star`,children:o(M,{component:"img",src:My(e.key,e.ascension>=2),width:"100%",height:"auto",sx:{mt:"auto"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:52,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:44,columnNumber:9},this),o(M,{flexGrow:1,sx:{p:1},children:[o(W,{variant:"body2",gutterBottom:!0,children:o("strong",{children:o(Py,{weaponKey:e.key},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:63,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:62,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:61,columnNumber:11},this),o(W,{variant:"subtitle1",sx:{display:"flex",gap:1},gutterBottom:!0,children:[o(ce,{color:"primary",children:["Lv. ",$y(e.level,e.ascension)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:71,columnNumber:13},this),Iy(e.key)&&o(ce,{color:"info",children:["R",e.refinement]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:75,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:66,columnNumber:11},this),o(W,{variant:"subtitle1",sx:{display:"flex",gap:1},children:[o(Th,{node:r.get(et.weapon.main)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:79,columnNumber:13},this),o(Th,{node:r.get(et.weapon.sub)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:78,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:60,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:43,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:42,columnNumber:5},this)}function Th({node:e}){const{icon:t}=Mt(e.info);return Number.isNaN(e.value)?null:o(ce,{color:"secondary",children:[t," ",op(e).valueString]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/weapon/WeaponFullCard.tsx",lineNumber:90,columnNumber:5},this)}function _p({setKey:e,setNumKey:t,hideHeader:i=!1,conditionalsOnly:r=!1,disabled:a=!1}){var l;const n=Ma(e),s=r?(l=n.setEffectDocument(t))==null?void 0:l.filter(u=>"states"in u):n.setEffectDocument(t);return o(M,{display:"flex",flexDirection:"column",children:s?o(zr,{sections:s,hideHeader:i,disabled:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/artifact/SetEffectDisplay.tsx",lineNumber:31,columnNumber:9},this):null},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/ui/src/components/artifact/SetEffectDisplay.tsx",lineNumber:29,columnNumber:5},this)}const kt=x.createContext({});var wp={},Jk=nr;Object.defineProperty(wp,"__esModule",{value:!0});var Hv=wp.default=void 0,Zk=Jk(rr()),Qk=ar(),eS=(0,Zk.default)((0,Qk.jsx)("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM10 17H5v-2h5v2zm0-4H5v-2h5v2zm0-4H5V7h5v2zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42L14.82 15z"}),"FactCheck");Hv=wp.default=eS;var Ap={},tS=nr;Object.defineProperty(Ap,"__esModule",{value:!0});var Kv=Ap.default=void 0,iS=tS(rr()),rS=ar(),aS=(0,iS.default)((0,rS.jsx)("path",{d:"M16 18v2H8v-2h8zM11 7.99V16h2V7.99h3L12 4 8 7.99h3z"}),"Upgrade");Kv=Ap.default=aS;function nS(){const{modalOpen:e}=x.useContext(Pa),{setFormulaData:t}=x.useContext(Pa),i=x.useCallback(()=>t==null?void 0:t(void 0,void 0),[t]);return o(bt,{open:!!e,onClose:i,children:o(H,{children:[o(Ve,{title:"Formulas & Calculations",action:o(Le,{onClick:i,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:59,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:58,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:55,columnNumber:9},this),o(ae,{sx:{pt:0},children:o(sS,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:64,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:63,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:54,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:53,columnNumber:5},this)}function sS(){const{data:e}=x.useContext(he),{data:t}=x.useContext(Pa),i=Ry(t??e);return o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:"100%",height:1e3},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:77,columnNumber:17},this),children:o(M,{sx:{mr:-1,mb:-1},children:i.map(([r,a])=>o(oS,{displayNs:a,sectionKey:r},r,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:81,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:79,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:76,columnNumber:5},this)}function oS({sectionKey:e,displayNs:t}){const{data:i}=x.useContext(he),r=oe(),{data:a}=x.useContext(Pa),n=x.useMemo(()=>lp(a??i,e,r),[r,a,i,e]);if(!n||Object.entries(t).every(([c,m])=>m.isEmpty))return null;const{title:s,icon:l,action:u}=n;return o(H,{bgt:"light",sx:{mb:1},children:[o(B0,{avatar:l,title:s,action:u&&o(ce,{children:u},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:109,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:106,columnNumber:7},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:111,columnNumber:7},this),o(ae,{children:Object.entries(t).map(([c,m])=>!m.isEmpty&&o(lS,{node:m},c,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:115,columnNumber:30},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:112,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:105,columnNumber:5},this)}function lS({node:e}){const{node:t}=x.useContext(Pa),[i,r]=x.useState(!1),a=x.useCallback((c,m)=>r(m),[]),n=x.useRef();x.useEffect(()=>{e===t&&setTimeout(()=>{var c,m;return(m=(c=n==null?void 0:n.current)==null?void 0:c.scrollIntoView)==null?void 0:m.call(c,{behavior:"smooth"})},300)},[n,e,t]);const{variant:s,subVariant:l}=Mt(e.info),u=op(e);return o(kv,{sx:{bgcolor:"contentNormal.main"},expanded:e===t||i,onChange:a,ref:n,children:[o(Dv,{expandIcon:o(jy,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:148,columnNumber:37},this),children:[o(W,{children:[u.name,o("strong",{children:u.valueString},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:149,columnNumber:9},this),Oo.includes(s)&&o(M,{sx:{display:"inline-block",ml:"auto",mr:2},children:o(zo,{reaction:s,trigger:l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:155,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:154,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:148,columnNumber:7},this),o(Ov,{children:[u.assignment,u.formulas.map((c,m)=>o(W,{component:"div",children:c},m,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:165,columnNumber:11},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:162,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/FormulaModal.tsx",lineNumber:142,columnNumber:5},this)}var Up={},uS=nr;Object.defineProperty(Up,"__esModule",{value:!0});var Gp=Up.default=void 0,cS=uS(rr()),mS=ar(),pS=(0,cS.default)((0,mS.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41-1.41-1.42zm-6.78.66h5v1.5h-5v-1.5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2V16zm6.5 1.25h-5v-1.5h5v1.5zm0-2.5h-5v-1.5h5v1.5z"}),"Calculate");Gp=Up.default=pS;function Vv({teamCharId:e,onChangeTeamCharId:t,dropdownBtnProps:i={},label:r=!1}){const a=oe(),{key:n,name:s}=a.teamChars.get(e),{gender:l}=$t(),u=a.teamChars.keys.filter(C=>a.teamChars.get(C).key===n),[c,m,p]=He(),[f,b]=x.useState(""),[g,h]=x.useState("");return o(Ce,{children:[o(bt,{open:c,onClose:p,children:o(H,{children:[o(Ve,{title:o(Ce,{children:["Create a new Loadout For"," ",o(Ul,{characterKey:n,gender:l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:63,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:61,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:59,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:67,columnNumber:11},this),o(ae,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o(Ai,{fullWidth:!0,label:"New Loadout Name",placeholder:"New Loadout Name",value:f,onChange:C=>b(C.target.value)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:71,columnNumber:13},this),o(Ai,{fullWidth:!0,label:"New Loadout Description",value:g,onChange:C=>h(C.target.value),multiline:!0,minRows:2},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:78,columnNumber:13},this),o(M,{sx:{display:"flex",gap:2},children:[o(Y,{color:"error",fullWidth:!0,onClick:p,children:"Cancel"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:87,columnNumber:15},this),o(Y,{color:"success",fullWidth:!0,onClick:()=>{const C=a.teamChars.new(n,{name:f,description:g});C&&t(C),p()},disabled:!f,children:"Confirm"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:90,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:86,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:68,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:58,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:57,columnNumber:7},this),o(dt,{startIcon:o(wo,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:103,columnNumber:20},this),title:o(M,{sx:{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"center"},children:r?o("span",{children:["Loadout: ",o("strong",{children:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:115,columnNumber:26},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:114,columnNumber:15},this):o("span",{children:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:118,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:105,columnNumber:11},this),...i,children:[o(Pe,{onClick:()=>m(),children:"Create a new Loadout"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:124,columnNumber:9},this),u.map(C=>{const{name:N,buildIds:d,buildTcIds:v,customMultiTargets:k}=a.teamChars.get(C);return o(Pe,{disabled:C===e,onClick:()=>t(C),sx:{display:"flex",gap:1},children:[o("span",{children:N},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:135,columnNumber:15},this),o(ce,{color:d.length?"primary":"secondary",sx:{marginLeft:"auto"},children:[d.length," Builds"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:136,columnNumber:15},this),o(ce,{color:v.length?"primary":"secondary",children:[v.length," TC Builds"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:142,columnNumber:15},this),o(ce,{color:k.length?"success":"secondary",children:[k.length," Multi-Opt"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:145,columnNumber:15},this)]},C,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:129,columnNumber:13},this)})]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:102,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/LoadoutDropdown.tsx",lineNumber:56,columnNumber:5},this)}function fS({active:e=!1}){const{teamId:t,teamCharId:i}=x.useContext(Se),{character:{key:r,equippedArtifacts:a,equippedWeapon:n}}=x.useContext(Je),s=oe(),l=()=>s.teams.setLoadoutDatum(t,i,{buildType:"equipped"}),u=()=>s.teamChars.newBuild(i,{name:"Duplicate of Equipped",artifactIds:a,weaponId:n}),c=sr(r).weaponType;return o(Tp,{name:"Equipped Build",active:e,onActive:l,onCopyToTc:()=>{const p=s.teamChars.newBuildTcFromBuild(i,c,s.weapons.get(n),Object.values(a).map(f=>s.arts.get(f)));p&&s.buildTcs.set(p,{name:"Equipped Build - Copied",description:"Copied from Equipped Build"})},onDupe:u,children:o(hS,{weaponId:n,artifactIds:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildEquipped.tsx",lineNumber:56,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildEquipped.tsx",lineNumber:49,columnNumber:5},this)}function hS({weaponId:e,artifactIds:t}){const{character:{key:i}}=x.useContext(Je),r=sr(i).weaponType;return o(I,{container:!0,spacing:1,columns:{xs:2,sm:2,md:2,lg:3,xl:3},children:[o(I,{item:!0,xs:1,children:o(H,{sx:{height:"100%",maxHeight:"8em"},children:o(up,{weaponId:e,weaponTypeKey:r},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildEquipped.tsx",lineNumber:75,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildEquipped.tsx",lineNumber:74,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildEquipped.tsx",lineNumber:73,columnNumber:7},this),Object.entries(t).map(([a,n])=>o(I,{item:!0,xs:1,children:o(H,{sx:{height:"100%",maxHeight:"8em"},children:o(Gl,{artifactId:n,slotKey:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildEquipped.tsx",lineNumber:81,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildEquipped.tsx",lineNumber:80,columnNumber:11},this)},n||a,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildEquipped.tsx",lineNumber:79,columnNumber:9},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildEquipped.tsx",lineNumber:72,columnNumber:5},this)}function dS({buildId:e,active:t=!1}){const[i,r,a]=He(),{teamId:n,teamCharId:s,teamChar:{key:l}}=x.useContext(Se),{character:{equippedWeapon:u,equippedArtifacts:c}}=x.useContext(Je),m=oe(),{name:p,description:f,weaponId:b,artifactIds:g}=vv(e),h=()=>m.teams.setLoadoutDatum(n,s,{buildType:"real",buildId:e}),y=()=>{if(!b)return;const z=m.chars.get(l);Object.entries(g).forEach(([D,U])=>{if(U)m.arts.set(U,{location:at(l)});else{const P=z.equippedArtifacts[D];P&&m.arts.get(P)&&m.arts.set(P,{location:""})}}),b&&m.weapons.set(b,{location:at(l)})},C=()=>{m.builds.remove(e)},N=sr(l).weaponType,d=()=>{const z=m.teamChars.newBuildTcFromBuild(s,N,m.weapons.get(b),Object.values(g).map(D=>m.arts.get(D)));z&&m.buildTcs.set(z,{name:`${p} - Copied`,description:f})},v=()=>m.teamChars.newBuild(s,{name:`Duplicate of ${p}`,artifactIds:g,weaponId:b}),{weaponUsedInTeamCharKey:k,artUsedInTeamCharKeys:T}=L0(b,g),S={currentName:"Equipped",currentWeapon:u,currentArtifacts:c,newWeapon:b,newArtifacts:g},[O,_,A]=He();return o(Ce,{children:[o(bt,{open:i,onClose:a,children:o(gS,{buildId:e,onClose:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:120,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:119,columnNumber:7},this),o(By,{equipChangeProps:S,showPrompt:O,onEquip:y,OnHidePrompt:A},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:122,columnNumber:7},this),o(Tp,{name:p,description:f,active:t,onEdit:r,onActive:h,onCopyToTc:d,onDupe:v,onEquip:b?_:void 0,onRemove:C,children:o(M,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"stretch"},children:[o(I,{container:!0,spacing:1,columns:{xs:2,sm:2,md:2,lg:3,xl:3},children:[o(I,{item:!0,xs:1,children:o(H,{sx:{height:"100%",maxHeight:"8em",boxShadow:k?"0px 0px 0px 2px yellow":void 0},children:o(up,{weaponId:b,weaponTypeKey:N},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:162,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:153,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:152,columnNumber:13},this),Object.entries(g).map(([z,D])=>o(I,{item:!0,xs:1,children:o(H,{sx:{height:"100%",maxHeight:"8em",boxShadow:T[z]?"0px 0px 0px 2px yellow":void 0},children:o(Gl,{artifactId:D,slotKey:z},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:179,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:170,columnNumber:17},this)},D||z,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:169,columnNumber:15},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:147,columnNumber:11},this),o(F0,{weaponUsedInTeamCharKey:k,artUsedInTeamCharKeys:T},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:184,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:139,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:128,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:118,columnNumber:5},this)}function gS({buildId:e,onClose:t}){const{character:{key:i}}=x.useContext(Je),r=sr(i).weaponType,a=oe(),n=vv(e),[s,l]=x.useState(n.name),u=x.useDeferredValue(s),[c,m]=x.useState(n.description),p=x.useDeferredValue(c);return x.useEffect(()=>{const f=a.builds.get(e);if(!f)return;const{name:b,description:g}=f;l(b),m(g)},[a,e]),x.useEffect(()=>{a.builds.set(e,f=>{f.name=u})},[a,u]),x.useEffect(()=>{a.builds.set(e,f=>{f.description=p})},[a,p]),o(H,{children:[o(Ve,{title:"Build Settings",action:o(Le,{onClick:t,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:243,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:242,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:239,columnNumber:7},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:247,columnNumber:7},this),o(ae,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o(Ai,{fullWidth:!0,label:"Build Name",placeholder:"Build Name",value:s,onChange:f=>l(f.target.value)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:249,columnNumber:9},this),o(Ai,{fullWidth:!0,label:"Build Description",value:c,onChange:f=>m(f.target.value),multiline:!0,minRows:2},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:256,columnNumber:9},this),o(M,{children:o(Cv,{weaponTypeKey:r,weaponId:n.weaponId,artifactIds:n.artifactIds,setWeapon:f=>a.builds.set(e,{weaponId:f}),setArtifact:(f,b)=>a.builds.set(e,g=>{g.artifactIds[f]=b})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:265,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:264,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:248,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildReal.tsx",lineNumber:238,columnNumber:5},this)}function bS({buildTcId:e,active:t=!1}){const[i,r,a]=He(),{teamId:n,teamCharId:s}=x.useContext(Se),l=oe(),u=Rs(e),{name:c,description:m}=u;return o(Ce,{children:[o(bt,{open:i,onClose:a,children:o(vS,{buildTcId:e,onClose:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:68,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:67,columnNumber:7},this),o(Tp,{name:c,description:m,active:t,onActive:()=>l.teams.setLoadoutDatum(n,s,{buildType:"tc",buildTcId:e}),onEdit:r,onDupe:()=>l.teamChars.newBuildTc(s,{...structuredClone(u),name:`Duplicate of ${c}`}),onRemove:()=>{l.buildTcs.remove(e)},children:o(yS,{buildTcId:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:79,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:70,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:66,columnNumber:5},this)}function yS({buildTcId:e}){const{weapon:t,artifact:{slots:i,substats:{stats:r},sets:a},character:n}=Rs(e),s=sp(t.key),l=Object.entries(r),u=l.slice(0,5),c=l.slice(5);return o(M,{children:[!!n&&o(H,{sx:{mb:1},children:o(ae,{sx:{display:"flex",gap:1},children:[o(Si,{size:"small",label:`Lv. ${$y(n.level,n.ascension)}`,sx:{color:"yellow"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:103,columnNumber:13},this),o(Si,{size:"small",label:`C${n.constellation}`,sx:{color:"yellow"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:112,columnNumber:13},this),o(W,{color:"yellow",children:"Character Overriden"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:102,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:101,columnNumber:9},this),o(I,{container:!0,spacing:1,columns:{xs:2,sm:2,md:2,lg:2,xl:2},children:[o(I,{item:!0,xs:1,sx:{display:"flex",flexDirection:"column",gap:1},children:[o(H,{sx:{height:"100%",maxHeight:"8em"},children:o(W0,{weapon:t,weaponSheet:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:133,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:132,columnNumber:11},this),!!Object.keys(a).length&&o(H,{sx:{flexGrow:1},children:o(M,{sx:{p:1,display:"flex",flexDirection:"column",gap:1},children:Object.entries(a).map(([m,p])=>o(M,{sx:{display:"flex",alignItems:"center",gap:1},children:[o(dn,{size:2,src:Ly(m,"flower")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:154,columnNumber:21},this),o("span",{children:o(El,{setKey:m},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:156,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:155,columnNumber:21},this),o(ce,{children:["x",p]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:158,columnNumber:21},this)]},m,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:150,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:141,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:140,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:127,columnNumber:9},this),o(I,{item:!0,xs:1,children:o(H,{sx:{flexGrow:1,height:"100%",p:1,display:"flex",flexDirection:"column",gap:1,justifyContent:"space-between"},children:Object.entries(i).map(([m,{level:p,statKey:f}])=>o(M,{sx:{display:"flex",alignItems:"center",gap:1},children:[o(Us,{slotKey:m},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:183,columnNumber:17},this),o(ce,{children:["+",p]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:184,columnNumber:17},this),o(dc,{statKey:f},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:185,columnNumber:17},this)]},m,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:179,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:167,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:166,columnNumber:9},this),[u,c].map((m,p)=>o(I,{item:!0,xs:1,children:o(H,{sx:{flexGrow:1,height:"100%"},children:o(M,{sx:{p:1,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",gap:1},children:m.map(([f,b])=>o(M,{sx:{display:"flex",alignItems:"center",gap:1,justifyContent:"space-between"},children:[o(dc,{statKey:f},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:213,columnNumber:21},this),o("span",{children:[cp(b,ci(f)),ci(f)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:214,columnNumber:21},this)]},f,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:204,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:193,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:192,columnNumber:13},this)},p,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:191,columnNumber:11},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:122,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:99,columnNumber:5},this)}function vS({buildTcId:e,onClose:t}){const i=oe(),r=Rs(e),[a,n]=x.useState(r.name),s=x.useDeferredValue(a),[l,u]=x.useState(r.description),c=x.useDeferredValue(l);return x.useEffect(()=>{const m=i.buildTcs.get(e);if(!m)return;const{name:p,description:f}=m;n(p),u(f)},[i,e]),x.useEffect(()=>{i.buildTcs.set(e,m=>{m.name=s})},[i,s]),x.useEffect(()=>{i.buildTcs.set(e,m=>{m.description=c})},[i,c]),o(H,{children:[o(Ve,{title:"Build Settings",action:o(Le,{onClick:t,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:274,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:273,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:270,columnNumber:7},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:278,columnNumber:7},this),o(ae,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o(Ai,{fullWidth:!0,label:"Build Name",placeholder:"Build Name",value:a,onChange:m=>n(m.target.value)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:280,columnNumber:9},this),o(Ai,{fullWidth:!0,label:"Build Description",value:l,onChange:m=>u(m.target.value),multiline:!0,minRows:2},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:287,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:279,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Build/BuildTc.tsx",lineNumber:269,columnNumber:5},this)}function CS(){const{t:e}=pe("page_character");return o(pi,{severity:"warning",variant:"filled",children:o(Oe,{t:e,i18nKey:"jsonDescWarning",children:["It seems like you're trying to import a multi-opt config. This isn't the right place for that! Please go back one modal and press"," ",o("strong",{children:"Import Multi-Opt."},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/JsonDescWarning.tsx",lineNumber:11,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/JsonDescWarning.tsx",lineNumber:8,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/JsonDescWarning.tsx",lineNumber:7,columnNumber:5},this)}function Ep({show:e,onClose:t,setTarget:i,showEmptyTargets:r=!1,flatOnly:a=!1,excludeSections:n=[],excludeHeal:s=!1}){const{data:l}=x.useContext(he),{t:u}=pe("page_character_optimize"),c=x.useMemo(()=>Ry(l).filter(([m])=>!n.includes(m)).map(([m,p])=>[m,Object.fromEntries(Object.entries(p).filter(([f,b])=>{const{unit:g,variant:h}=Mt(b.info);return!(a&&g==="%"||s&&h==="heal"||!r&&b.isEmpty)}))]).filter(([m,p])=>Object.keys(p).length),[l,n,a,r,s]);return o(bt,{open:e,onClose:t,children:o(H,{children:[o(Ve,{title:u`targetSelectorTitle`,action:o(Le,{onClick:t,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:79,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:78,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:75,columnNumber:9},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:83,columnNumber:9},this),o(ae,{children:o(q0,{columns:{xs:1,sm:2,md:3},spacing:1,children:c.map(([m,p])=>o(NS,{displayNs:p,sectionKey:m,setTarget:i},m,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:87,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:84,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:74,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:73,columnNumber:5},this)}function NS({displayNs:e,sectionKey:t,setTarget:i}){const{data:r}=x.useContext(he),a=oe(),n=x.useMemo(()=>lp(r,t,a),[r,t,a]);return o(H,{bgt:"light",children:[n&&o(Ve,{avatar:n.icon,title:n.title,action:n.action&&o(ce,{children:n.action},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:122,columnNumber:36},this),titleTypographyProps:{variant:"subtitle1"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:119,columnNumber:9},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:126,columnNumber:7},this),o(H0,{children:Object.entries(e).map(([s,l])=>o(xS,{node:l,onClick:()=>i([t,s],l.info.multi)},s,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:129,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:127,columnNumber:7},this)]},t,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:117,columnNumber:5},this)}function xS({node:e,onClick:t}){return o(Pe,{onClick:t,style:{whiteSpace:"normal"},children:o(K0,{node:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:149,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/TargetSelectorModal.tsx",lineNumber:148,columnNumber:5},this)}function TS({addItem:e,sia:t,setSIA:i,functions:r,expression:a}){const{t:n}=pe("page_character"),[s,l,u]=He(!1),[c,m]=x.useState(),p=x.useCallback(N=>{let d=t;d?d.type!=="function"?d={type:"function",layer:d.layer}:d.layer++:d={type:"function",layer:r.length},e(d,V0(N,r)),i(d)},[e,r,i,t]),f=x.useCallback(N=>{let d=t;if(!d||d.type!=="argument"){if(r.length===0)return;const v=d&&d.layer<r.length?d.layer:r.length-1,k=r[v];d={type:"argument",layer:v,index:k.args.length}}else d.index++;e(d,X0(N,r[d.layer])),i(d)},[e,r,i,t]),b=x.useCallback(N=>{var v,k,T,S,O;let d=t;if(!d||d.type!=="unit"){const _=(d==null?void 0:d.layer)??r.length,A=_<r.length?r[_].expression:a;d={type:"unit",layer:_,index:A.length}}else d.index++;N.type==="function"&&!N.name&&(!N.name&&(t==null?void 0:t.type)==="argument"&&(N.name=(k=(v=r[t.layer])==null?void 0:v.args[t.index])==null?void 0:k.name),!N.name&&d.layer<r.length&&(N.name=(S=(T=r[d.layer])==null?void 0:T.args[0])==null?void 0:S.name),N.name||(N.name=(O=r[d.layer-1])==null?void 0:O.name)),e(d,Y0(N)),i(d)},[e,a,r,i,t]),g=x.useCallback(()=>{b({type:"constant",value:c??0}),m(void 0)},[b,c]),h=x.useMemo(()=>["addition","subtraction","multiplication"].map(N=>o(I,{item:!0,xs:1.5,children:o(Y,{onClick:()=>b({type:"operation",operation:N}),children:Hr[N].symbol},N,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:118,columnNumber:13},this)},N,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:117,columnNumber:11},this)),[b]),y=x.useMemo(()=>{const N=[];for(const d of["minimum","maximum","average"])N.push(o(I,{item:!0,xs:1.5,children:o(Y,{onClick:()=>b({type:"enclosing",operation:d,part:"head"}),children:Hr[d].symbol},d,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:135,columnNumber:11},this)},d,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:134,columnNumber:9},this));N.push(o(I,{item:!0,xs:.5,children:o(Y,{onClick:()=>b({type:"enclosing",operation:"priority",part:"head"}),children:"("},"priority",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:152,columnNumber:9},this)},"priority",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:151,columnNumber:7},this));for(const d of["comma","tail"])N.push(o(I,{item:!0,xs:.5,children:o(Y,{onClick:()=>b({type:"enclosing",part:d}),children:d==="comma"?",":")"},d,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:169,columnNumber:11},this)},d,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:168,columnNumber:9},this));return N},[b]),C=x.useMemo(()=>o(Y,{sx:{flexGrow:1},onClick:()=>b({type:"function"}),children:"Æ’"},"addFunctionUnit",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:183,columnNumber:7},this),[b]);return o(H,{bgt:"light",sx:{boxShadow:"0 0 10px black",position:"sticky",top:"10px",zIndex:1e3},children:o(M,{display:"flex",gap:1,children:[o(M,{sx:{flexGrow:1},display:"flex",flexDirection:"column",gap:1,children:[o(M,{display:"flex",gap:1,children:[o(Y,{sx:{flexGrow:1},onClick:()=>p({}),children:n`multiTarget.addNewFunction`},"addNewFunction",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:206,columnNumber:13},this),o(Y,{sx:{flexGrow:1},onClick:()=>f({}),children:n`multiTarget.addNewArgument`},"addNewArgument",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:211,columnNumber:13},this),o(Y,{sx:{flexGrow:2},onClick:l,children:n`multiTarget.addNewTarget`},"addNewTarget",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:216,columnNumber:13},this),C,o(gi,{children:[o(Y,{onClick:g,children:n`multiTarget.add`},"addConstant",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:223,columnNumber:15},this),o(ws,{children:o(fi,{float:!0,value:c,onChange:m,inputProps:{sx:{pl:1}}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:227,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:226,columnNumber:15},this),o(Y,{onClick:()=>b({type:"constant",value:1}),children:"1"},"addConstant",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:234,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:222,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:205,columnNumber:11},this),o(gi,{fullWidth:!0,children:[h,y]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:242,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:204,columnNumber:9},this),o(Ep,{showEmptyTargets:!0,show:s,onClose:u,setTarget:(N,d)=>{u(),b({type:"target",target:Fy(N,d)})},excludeSections:["bounsStats","character","custom"]},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:247,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:203,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/AddItemsPanel.tsx",lineNumber:194,columnNumber:5},this)}function kS({expression:e,functions:t,layer:i,sia:r,setSIA:a,sirpa:n,onFocused:s}){const{data:l}=x.useContext(he),u=x.useCallback(d=>{var k;const v=Ut(l.getDisplay(),d);return v?((k=Mt(v.info))==null?void 0:k.name)??d.join("."):d.join(".")},[l]),c=x.useRef(null);x.useEffect(()=>{var d;r&&((d=c.current)==null||d.scrollIntoView({block:"center",behavior:"smooth"}))},[r,s]);const m=x.useMemo(()=>r?r.type+r.layer+(r.index??""):"",[r]),p=x.useMemo(()=>[n.this].concat(n.all).map(d=>{if(!d)return"";const v=d.type!=="function"?d.index:"";return d.type+d.layer+v}),[n]),f=i<t.length&&t[i],b=f?f.expression:e,g=[],h=[],y=[];for(const d of t.slice(0,i))g.includes(d.name)||(g.push(d.name),d.args.length?h.push(d.name):y.push(d.name));for(const d of f?f.args:[])g.includes(d.name)||(g.push(d.name),y.push(d.name));const C=[];if(f){const d=t.slice(0,i).map(S=>S.name);let v=d.includes(f.name)?o(Ee,{color:"burning",children:f.name},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:103,columnNumber:7},this):f.name;f.args.length?v=o(Ce,{children:[v,"("]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:109,columnNumber:9},this):v=o(Ce,{children:[v,"Â Â ="]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:116,columnNumber:9},this);const k="function"+i,T=(S,O)=>o(vu,{value:k,sx:{minWidth:"0",pl:.25,pr:.35,pt:1,pb:1},onClick:()=>a({type:"function",layer:i}),ref:m===k?c:void 0,children:S},k+O,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:124,columnNumber:9},this);C.push(T(v,"name"));for(const[S,O]of f.args.entries()){const _=d.includes(O.name)?o(Ee,{color:"burning",children:O.name},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:138,columnNumber:9},this):O.name;S>0&&C.push(T(",","comma"+S));const A="argument"+i+S;C.push(o(vu,{value:A,sx:{minWidth:"0",pl:.25,pr:.35,pt:1,pb:1},onClick:()=>a({type:"argument",layer:i,index:S}),ref:m===A?c:void 0,children:_},A,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:146,columnNumber:9},this))}f.args.length&&C.push(T(")Â Â =","tail"))}const N=[];for(const[d,v]of b.entries()){const{type:k}=v;let T="";if(k==="constant")T=v.value.toString();else if(k==="target")T=u(v.target.path);else if(k==="operation")T=Hr[v.operation].symbol;else if(k==="function"){if(T=v.name===""?"...":v.name,g.includes(v.name)||(T=o(Ee,{color:"burning",children:T},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:173,columnNumber:16},this)),h.includes(v.name)){const O=eh(d,b,t),_=b[O[O.length-1]];_&&_.type==="enclosing"&&_.part==="tail"?T=o(Ce,{children:[T,"("]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:180,columnNumber:13},this):T=o(Ce,{children:[T,o(Ee,{color:"burning",children:"("},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:189,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:187,columnNumber:13},this),N.push(v.name)}}else if(k==="enclosing"){if(v.part==="head"){T=Hr[v.operation].symbol;const O=eh(d,b,t),_=b[O[O.length-1]];_&&_.type==="enclosing"&&_.part==="tail"?T=o(Ce,{children:[T,Hr[v.operation].enclosing.left]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:202,columnNumber:13},this):T=o(Ce,{children:[T,o(Ee,{color:"burning",children:Hr[v.operation].enclosing.left},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:211,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:209,columnNumber:13},this),N.push(v.operation)}else if(v.part==="comma")T=",",N.length||(T=o(Ee,{color:"burning",children:","},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:221,columnNumber:18},this));else if(v.part==="tail")if(N.length){const O=N.pop();J0(O)?T=Hr[O].enclosing.right:T=")"}else T=o(Ee,{color:"burning",children:")"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:232,columnNumber:18},this)}else k==="null"?T=o(Ee,{color:"burning",children:"null"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:236,columnNumber:14},this):T=(O=>O)(k);const S="unit"+i+d;C.push(o(vu,{value:S,sx:{minWidth:"0",pl:.25,pr:.35,pt:1,pb:1},onClick:()=>a({type:"unit",layer:i,index:d}),ref:m===S?c:void 0,children:T},S,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:242,columnNumber:7},this))}return o(M,{display:"flex",gap:1,children:o(Z0,{sx:{flexWrap:"wrap",alignItems:"flex-start"},value:p,size:"small",baseColor:"secondary",children:C},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:256,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ExpressionDisplay.tsx",lineNumber:255,columnNumber:5},this)}var Mp={},SS=nr;Object.defineProperty(Mp,"__esModule",{value:!0});var Xv=Mp.default=void 0,OS=SS(rr()),zS=ar(),DS=(0,OS.default)((0,zS.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft");Xv=Mp.default=DS;var Pp={},_S=nr;Object.defineProperty(Pp,"__esModule",{value:!0});var Yv=Pp.default=void 0,wS=_S(rr()),AS=ar(),US=(0,wS.default)((0,AS.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");Yv=Pp.default=US;function Jv({optimizationTarget:e,showEmptyTargets:t=!1,defaultText:i}){const{t:r}=pe("page_character_optimize"),{data:a}=x.useContext(he),n=oe(),s=x.useMemo(()=>e&&lp(a,e[0],n),[a,e,n]);i||(i=r("targetSelector.selectOptTarget"));const{title:l,icon:u,action:c}=s??{},m=e&&Ut(a.getDisplay(),e),p=!e||!s||!m||!t&&m.isEmpty,{name:f,textSuffix:b,icon:g,variant:h=p?"secondary":void 0}=((m==null?void 0:m.info)&&Mt(m==null?void 0:m.info))??{},y=b&&o("span",{children:[" ",b]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetDisplay.tsx",lineNumber:56,columnNumber:39},this),C=u||g,N=$i(),d=Yi(N.breakpoints.down("md"));return p?o("strong",{children:i},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetDisplay.tsx",lineNumber:63,columnNumber:5},this):o(st,{direction:"row",divider:o(be,{orientation:"vertical",flexItem:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetDisplay.tsx",lineNumber:67,columnNumber:16},this),spacing:1,children:[o(M,{sx:{display:"flex",gap:1,alignItems:"center"},children:[C,!d&&o("span",{children:l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetDisplay.tsx",lineNumber:72,columnNumber:23},this),!!c&&o(ce,{color:"success",sx:{whiteSpace:"normal"},children:c},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetDisplay.tsx",lineNumber:74,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetDisplay.tsx",lineNumber:70,columnNumber:7},this),o(M,{sx:{display:"flex",alignItems:"center"},children:o(ce,{color:h==="invalid"?void 0:h,sx:{whiteSpace:"normal"},children:[o("strong",{children:f},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetDisplay.tsx",lineNumber:84,columnNumber:11},this),y]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetDisplay.tsx",lineNumber:80,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetDisplay.tsx",lineNumber:79,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetDisplay.tsx",lineNumber:65,columnNumber:5},this)}function ca({optimizationTarget:e,setTarget:t,disabled:i=!1,showEmptyTargets:r=!1,defaultText:a,targetSelectorModalProps:n={},buttonProps:s={}}){const[l,u,c]=He(!1),m=x.useCallback(p=>{c(),t(p)},[c,t]);return o(Ce,{children:[o(Y,{color:"info",onClick:u,disabled:i,sx:{flexGrow:1},...s,children:o(Jv,{optimizationTarget:e,showEmptyTargets:r,defaultText:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetSelector.tsx",lineNumber:44,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetSelector.tsx",lineNumber:37,columnNumber:7},this),o(Ep,{show:l,onClose:c,setTarget:m,showEmptyTargets:r,...n},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetSelector.tsx",lineNumber:50,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetSelector.tsx",lineNumber:36,columnNumber:5},this)}function Zv({node:e,reaction:t,setReactionMode:i,infusionAura:r}){const a=e.info.variant??"physical",{t:n}=pe("page_character");if(!["pyro","hydro","cryo","electro","dendro"].some(u=>u===a||u===r))return null;const s=[...new Set([...th[a]??[],...th[r??""]??[],...ih[a]??[],...ih[r??""]??[]])],l=t?[...Oo].includes(t)?o(zo,{reaction:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ReactionDropdown.tsx",lineNumber:50,columnNumber:7},this):o(gc,{reaction:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ReactionDropdown.tsx",lineNumber:52,columnNumber:7},this):n`noReaction`;return o(dt,{title:l,sx:{ml:"auto"},children:[o(Pe,{value:"",disabled:!t,onClick:()=>i(),children:"No Reactions"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ReactionDropdown.tsx",lineNumber:59,columnNumber:7},this),s.map(u=>o(Pe,{disabled:t===u,onClick:()=>i(u),children:[...Oo].includes(u)?o(zo,{reaction:u},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ReactionDropdown.tsx",lineNumber:69,columnNumber:13},this):o(gc,{reaction:u},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ReactionDropdown.tsx",lineNumber:71,columnNumber:13},this)},u,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ReactionDropdown.tsx",lineNumber:63,columnNumber:9},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ReactionDropdown.tsx",lineNumber:58,columnNumber:5},this)}function GS({item:e,addItem:t,setItem:i,moveItem:r,removeItem:a,sia:n,sirpa:s,functions:l,expression:u,setSIA:c,focusToSIA:m}){const[p,f]=x.useState(!0),b=x.useCallback((k,T)=>{i(k,T),m()},[m,i]),g=x.useCallback(()=>{const k=n;k.type==="function"?k.layer++:k.index++,t(k,Gs(e)),c(k)},[t,e,c,n]),h=x.useCallback(k=>{if(b(n,{name:k}),n.type==="function"||n.type==="argument"){for(const T of s.dependent)if(T.type==="unit"){const S=Kn(u,l,T);S&&S.type==="function"&&i(T,{name:k})}}},[u,l,b,i,n,s.dependent]),y=x.useCallback((k,T)=>{if(T.type==="function")T.layer=Ft(T.layer,0,l.length);else{T.layer=Ft(T.layer,0,l.length+1);const S=T.layer<l.length?l[T.layer].expression:u;T.index=Ft(T.index,0,S.length)}r(k,T),c(T)},[u,l,r,c]),C=x.useMemo(()=>{const k=[];if(n.type!=="function"){k.push(o(Le,{onClick:()=>y(n,{...n,index:n.index-1}),disabled:n.index===0,children:o(Xv,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:157,columnNumber:11},this)},"left",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:152,columnNumber:9},this));let T;n.type==="argument"?T=l[n.layer].args.length-1:T=(n.layer<l.length?l[n.layer].expression:u).length-1,k.push(o(Le,{onClick:()=>y(n,{...n,index:n.index+1}),disabled:n.index===T,children:o(Yv,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:176,columnNumber:11},this)},"right",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:171,columnNumber:9},this))}return k.push(o(Le,{onClick:()=>y(n,{...n,layer:n.layer-1}),disabled:n.layer===0,children:o(bc,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:186,columnNumber:9},this)},"up",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:181,columnNumber:7},this)),k.push(o(Le,{onClick:()=>y(n,{...n,layer:n.layer+1}),disabled:n.layer===l.length,children:o(yc,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:195,columnNumber:9},this)},"down",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:190,columnNumber:7},this)),k},[u,l,y,n]),N=x.useMemo(()=>o(Le,{color:"info",onClick:g,children:o(Bl,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:204,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:203,columnNumber:7},this),[g]),d=x.useMemo(()=>o(Le,{color:"error",onClick:()=>a(n),children:o(As,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:212,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:211,columnNumber:7},this),[a,n]),v=x.useMemo(()=>{const k=[];if(n.type==="function"||n.type==="argument"){const T=e;k.push(o(M,{sx:{display:"flex",gap:1},flexDirection:"column",children:[o(Wt,{fullWidth:!0,label:"Name",value:T.name,onChange:h},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:223,columnNumber:11},this),o(Wt,{fullWidth:!0,label:"Description",value:T.description??"",onChange:S=>i(n,{description:S}),multiline:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:229,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:222,columnNumber:9},this))}else n.type==="unit"&&k.push(o(ES,{unit:e,setUnit:T=>b(n,T),functions:l,sia:n,focusToSIA:m},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:240,columnNumber:9},this));return k},[m,l,e,b,h,i,n]);return o(H,{bgt:"light",sx:{boxShadow:"0 0 10px black",position:"sticky",bottom:"10px",zIndex:1e3},children:[o(Al,{in:!p,children:o(M,{sx:{p:1,flexGrow:1},children:v},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:263,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:262,columnNumber:7},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:265,columnNumber:7},this),o(M,{sx:{display:"flex",gap:1,alignItems:"center"},children:[o(gn,{sx:{display:"flex",flexGrow:1,gap:1,height:"100%",py:1,alignItems:"center"},onClick:()=>f(k=>!k),children:[o(W,{variant:"h6",children:"Item Config"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:278,columnNumber:11},this),p?o(yc,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:279,columnNumber:23},this):o(bc,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:279,columnNumber:51},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:267,columnNumber:9},this),C,N,d]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:266,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:253,columnNumber:5},this)}function ES({unit:e,setUnit:t,functions:i,sia:r,focusToSIA:a}){const n=x.useMemo(()=>{const l=[];for(const u of i.slice(0,r.layer))l.push(u.name);if(r.layer<i.length)for(const u of i[r.layer].args)l.push(u.name);return l},[i,r.layer]),s=x.useMemo(()=>{const l=[];if(e.type==="function"){let u=e.name;n.length===0?u="No available names, add some function or argument":n.includes(e.name)||(u="Select a name"),l.push(o(dt,{title:u,children:n.map(c=>o(Pe,{value:c,onClick:()=>t({name:c}),children:c},"avaibleNames"+r.layer+r.index+c,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:328,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:326,columnNumber:9},this))}else e.type==="constant"?l.push(o(gi,{variant:"outlined",fullWidth:!0,children:o(ws,{children:o(fi,{float:!0,value:e.value,onChange:u=>{t({value:u}),a()},inputProps:{sx:{pl:1}}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:342,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:341,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:340,columnNumber:9},this)):e.type==="target"&&l.push(o($S,{customTarget:e.target,setCustomTarget:u=>t({target:u})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:356,columnNumber:9},this));return e.type!=="target"&&l.push(o(Wt,{fullWidth:!0,label:"Description",value:e.description??"",onChange:u=>t({description:u}),multiline:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:364,columnNumber:9},this)),l},[n,a,t,r.index,r.layer,e]);return o(M,{sx:{flexGrow:1},display:"flex",flexDirection:"column",gap:1,children:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:377,columnNumber:5},this)}const MS=[...Ml],PS=(e,t)=>o(I,{item:!0,xs:1,children:e},t,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:385,columnNumber:3},void 0);function $S({customTarget:e,setCustomTarget:t}){const{t:i}=pe("page_character"),{character:{key:r}}=x.useContext(Je),{data:a}=x.useContext(he),{path:n,hitMode:s,reaction:l,infusionAura:u,bonusStats:c,description:m}=e,p=Ut(a.getDisplay(),n),f=x.useCallback(y=>t({...e,bonusStats:y}),[e,t]),b=x.useMemo(()=>o(Dp,{statKeys:MS,statFilters:c,setStatFilters:f,wrapperFunc:PS,label:i("addStats.label")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:414,columnNumber:7},this),[c,f,i]),g=mp(r)&&(n[0]==="normal"||n[0]==="charged"||n[0]==="plunging"),h=n[0]==="reaction";return o(Ce,{children:[o(M,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[o(ca,{optimizationTarget:n,setTarget:y=>t({...e,path:y,reaction:void 0,infusionAura:void 0}),showEmptyTargets:!0,targetSelectorModalProps:{excludeSections:["bounsStats","character","custom"]}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:432,columnNumber:9},this),p&&o(Zv,{reaction:l,setReactionMode:y=>t({...e,reaction:y}),node:p,infusionAura:u},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:448,columnNumber:11},this),o(dt,{title:i(`hitmode.${s}`),children:Wy.map(y=>o(Pe,{value:y,disabled:s===y,onClick:()=>t({...e,hitMode:y}),children:i(`hitmode.${y}`)},y,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:459,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:457,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:431,columnNumber:7},this),o(I,{container:!0,columns:{xs:1,md:2},spacing:1,children:[o(I,{item:!0,xs:1,children:o(M,{children:o(I,{container:!0,columns:{xs:1},sx:{pt:1},spacing:1,children:[(g||h)&&o(I,{item:!0,xs:1,children:o(dt,{title:Do[u??""],color:u||"secondary",disableElevation:!0,fullWidth:!0,children:Object.entries(Do).map(([y,C])=>o(Pe,{sx:y?{color:`${y}.main`}:void 0,selected:y===u,disabled:y===u,onClick:()=>t({...e,infusionAura:y||void 0,reaction:void 0}),children:C},y,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:483,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:476,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:475,columnNumber:17},this),b]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:473,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:472,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:471,columnNumber:9},this),o(I,{item:!0,xs:1,children:o(Wt,{fullWidth:!0,label:"Target Description",value:m,onChange:y=>t({...e,description:y}),multiline:!0,minRows:2,sx:{mt:1}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:507,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:506,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:470,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/ItemConfigPanel.tsx",lineNumber:430,columnNumber:5},this)}function xc(e,t){return JSON.stringify(e)===JSON.stringify(t)}function IS(e){const[t,i]=x.useState(e),r=x.useMemo(()=>t?{...t}:void 0,[t]),a=x.useCallback(n=>{if(n instanceof Function&&(n=n(r?{...r}:void 0)),!n)return i(void 0);r&&xc(r,n)||i({...n})},[r]);return[t,a]}function RS({customMultiTarget:e,setCustomMultiTarget:t}){const i=x.useMemo(()=>[...e.functions??[]],[e]),r=x.useMemo(()=>[...e.expression??[]],[e]),a=x.useCallback(d=>{t(v=>(d instanceof Function&&(d=d(v)),{...v,...d}))},[t]),[n,s]=IS(),[l,u]=x.useState(!1),c=x.useCallback(()=>u(d=>!d),[]),m=x.useMemo(()=>Q0(r,i,n),[n,r,i]);x.useEffect(()=>{Kn(r,i,n)||s(void 0)},[r,i,n,s]);const p=x.useCallback((d,v)=>{a(k=>{const T=k.functions??[],S=T[d];return S&&(v instanceof Function&&(v=v(S)),T.splice(d,1,{...S,...v})),k})},[a]),f=x.useCallback((d,v)=>{if(!d)return;const k=Kn(r,i,d);if(!k)return;v instanceof Function&&(v=v(k));const T={...k,...v};if(d.type==="function")p(d.layer,T);else if(d.type==="argument")p(d.layer,S=>(S.args.splice(d.index,1,T),S));else if(d.type==="unit")d.layer<i.length?p(d.layer,S=>(S.expression.splice(d.index,1,T),S)):(r.splice(d.index,1,T),a({expression:r}));else return void 0},[r,i,a,p]),b=x.useCallback((d,v)=>{const k=Ft(d.layer,0,i.length);if(d.type==="function")i.splice(k,0,v),a({functions:i});else if(d.type==="argument")p(k,T=>{const S=Ft(d.index,0,T.args.length);return T.args.splice(S,0,v),T});else if(d.type==="unit"){const T=Ft(d.index,0,r.length);k<i.length?p(k,S=>(S.expression.splice(T,0,v),S)):(r.splice(T,0,v),a({expression:r}))}else return void 0},[r,i,a,p]),g=x.useCallback(d=>{if(d)if(d.type==="function")i.splice(d.layer,1),a({functions:i});else if(d.type==="argument")p(d.layer,v=>(v.args.splice(d.index,1),v));else if(d.type==="unit")d.layer<i.length?p(d.layer,v=>(v.expression.splice(d.index,1),v)):(r.splice(d.index,1),a({expression:r}));else return void 0},[r,i,a,p]),h=x.useCallback((d,v)=>{if(!d||!v||xc(d,v))return;const k=Kn(r,i,d);k&&(g(d),b(v,k))},[b,r,i,g]),y=x.useCallback(d=>{s(v=>{if(d instanceof Function&&(d=d(v)),!!d&&!(v&&xc(v,d)))return d})},[s]),C=x.useMemo(()=>Vi(0,i.length).map(d=>o(kS,{expression:r,functions:i,layer:d,sia:n,setSIA:y,sirpa:m,onFocused:l},d,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetExpressionEditor.tsx",lineNumber:218,columnNumber:9},this)),[r,i,l,y,n,m]),N=x.useMemo(()=>{if(!n)return null;const d=Kn(r,i,n);return d?o(GS,{item:d,setItem:f,removeItem:g,moveItem:h,addItem:b,sia:n,sirpa:m,functions:i,expression:r,setSIA:s,focusToSIA:c},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetExpressionEditor.tsx",lineNumber:237,columnNumber:7},this):null},[b,r,c,i,h,g,f,s,n,m]);return o(Ce,{children:[o(TS,{expression:r,functions:i,sia:n,setSIA:s,addItem:b},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetExpressionEditor.tsx",lineNumber:266,columnNumber:7},this),o(M,{display:"flex",flexDirection:"column",gap:1,pb:"50vh",children:C},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetExpressionEditor.tsx",lineNumber:273,columnNumber:7},this),N]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetExpressionEditor.tsx",lineNumber:265,columnNumber:5},this)}function jS({selected:e,setSelect:t,customTarget:i,rank:r}){const{t:a}=pe("page_character"),{data:n}=x.useContext(he),{path:s,weight:l,hitMode:u,reaction:c,infusionAura:m,bonusStats:p}=i,f=Ut(n.getDisplay(),s);return o(H,{bgt:"light",sx:{display:"flex",border:e?"2px solid green":void 0},children:o(gn,{sx:{p:1,flexGrow:1},onClick:t,children:o(W,{component:"div",sx:{display:"flex",gap:1,flexWrap:"wrap",alignItems:"center"},children:[o(Si,{label:`#${r}`,sx:{minWidth:"4em"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:55,columnNumber:11},this),o(Si,{label:`x${l}`,sx:{minWidth:"5em"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:56,columnNumber:11},this),o(Jv,{optimizationTarget:s,showEmptyTargets:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:58,columnNumber:11},this),o(M,{sx:{flexGrow:1}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:62,columnNumber:11},this),f&&o(BS,{reaction:c,node:f,infusionAura:m},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:64,columnNumber:13},this),!!Object.values(p).length&&o(Si,{avatar:o(pp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:72,columnNumber:23},this),label:o("strong",{children:Object.values(p).length},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:73,columnNumber:22},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:71,columnNumber:13},this),o(Si,{label:a(`hitmode.${u}`)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:76,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:46,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:45,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:41,columnNumber:5},this)}function BS({node:e,reaction:t,infusionAura:i}){const r=e.info.variant??"physical";if(!["pyro","hydro","cryo","electro","dendro"].some(n=>n===r||n===i))return null;const a=t&&([...Oo].includes(t)?o(zo,{reaction:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:102,columnNumber:7},this):o(gc,{reaction:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:104,columnNumber:7},this));return a?o(Si,{label:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomTargetDisplay.tsx",lineNumber:108,columnNumber:10},this):null}const LS=[...Ml],FS=(e,t)=>o(I,{item:!0,xs:1,children:e},t,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:42,columnNumber:3},void 0);function WS({customTarget:e,setCustomTarget:t,deleteCustomTarget:i,rank:r,maxRank:a,setTargetIndex:n,onDup:s}){const{t:l}=pe("page_character"),{character:{key:u}}=x.useContext(Je),{data:c}=x.useContext(he),{path:m,weight:p,hitMode:f,reaction:b,infusionAura:g,bonusStats:h,description:y}=e,[C,N]=x.useState(!0),d=x.useCallback(z=>t({...e,weight:z}),[e,t]),v=Ut(c.getDisplay(),m),k=x.useCallback(z=>t({...e,bonusStats:z}),[e,t]);x.useEffect(()=>{N(!1)},[e]);const T=x.useMemo(()=>o(Dp,{statKeys:LS,statFilters:h,setStatFilters:k,wrapperFunc:FS,label:l("addStats.label")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:98,columnNumber:7},this),[h,k,l]),S=mp(u)&&(m[0]==="normal"||m[0]==="charged"||m[0]==="plunging"),O=m[0]==="reaction",_=$i(),A=Yi(_.breakpoints.down("sm"));return o(H,{bgt:"light",sx:{boxShadow:"0 0 10px black",position:"sticky",bottom:"10px",zIndex:1e3},children:[o(M,{sx:{display:"flex",gap:1,alignItems:"center"},children:[o(gn,{sx:{display:"flex",flexGrow:1,gap:1,height:"100%",py:1,alignItems:"center"},onClick:()=>N(z=>!z),children:[o(W,{variant:"h6",children:"Target Editor"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:138,columnNumber:11},this),C?o(bc,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:139,columnNumber:23},this):o(yc,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:139,columnNumber:49},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:127,columnNumber:9},this),o(Wt,{InputProps:{startAdornment:o(vc,{position:"start",children:A?"#":"Rank #"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:144,columnNumber:15},this)},inputProps:{sx:{width:"2em"},min:1,max:a},type:"number",value:r.toString(),onChange:z=>n(parseInt(z)),size:"small",sx:{minWidth:A?"4em":"6em"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:141,columnNumber:9},this),o(Le,{color:"info",onClick:s,children:o(Bl,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:162,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:161,columnNumber:9},this),o(Le,{color:"error",onClick:i,children:o(As,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:165,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:164,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:126,columnNumber:7},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:168,columnNumber:7},this),o(Al,{in:!C,children:o(M,{display:"flex",children:o(M,{sx:{p:1,flexGrow:1},children:[o(M,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[o(Wt,{InputProps:{startAdornment:o(vc,{position:"start",children:"x"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:176,columnNumber:21},this)},inputProps:{sx:{width:"2em"}},type:"number",value:p.toString(),onChange:z=>d(parseFloat(z)),size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:173,columnNumber:15},this),o(ca,{optimizationTarget:m,setTarget:z=>t({...e,path:z,reaction:void 0,infusionAura:void 0}),showEmptyTargets:!0,targetSelectorModalProps:{flatOnly:!0,excludeSections:["basic","bounsStats","custom","character","teamBuff"]}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:187,columnNumber:15},this),v&&o(Zv,{reaction:b,setReactionMode:z=>t({...e,reaction:z}),node:v,infusionAura:g},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:210,columnNumber:17},this),o(dt,{title:l(`hitmode.${f}`),children:Wy.map(z=>o(Pe,{value:z,disabled:f===z,onClick:()=>t({...e,hitMode:z}),children:l(`hitmode.${z}`)},z,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:221,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:219,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:172,columnNumber:13},this),o(I,{container:!0,columns:{xs:1,md:2},spacing:1,children:[o(I,{item:!0,xs:1,children:o(M,{children:o(I,{container:!0,columns:{xs:1},sx:{pt:1},spacing:1,children:[(S||O)&&o(I,{item:!0,xs:1,children:o(dt,{title:Do[g??""],color:g||"secondary",disableElevation:!0,fullWidth:!0,children:Object.entries(Do).map(([z,D])=>o(Pe,{sx:z?{color:`${z}.main`}:void 0,selected:z===g,disabled:z===g,onClick:()=>t({...e,infusionAura:z||void 0,reaction:void 0}),children:D},z,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:252,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:245,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:244,columnNumber:23},this),T]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:237,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:236,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:235,columnNumber:15},this),o(I,{item:!0,xs:1,children:o(Wt,{fullWidth:!0,label:"Target Description",value:y,onChange:z=>t({...e,description:z}),multiline:!0,minRows:2,sx:{mt:1}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:276,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:275,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:234,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:171,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:170,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:169,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/MTargetEditor.tsx",lineNumber:117,columnNumber:5},this)}function qS({customMultiTarget:e,setCustomMultiTarget:t}){const[i,r]=x.useState(-1),a=x.useCallback((p,f)=>{t({...e,targets:[...e.targets,Fy(p,f)]})},[e,t]),n=x.useCallback(p=>f=>{const b=[...e.targets];b[p]=f,t({...e,targets:b})},[e,t]),s=x.useCallback(p=>()=>{if(Object.values(e.targets[p].bonusStats).length&&!window.confirm("Are you sure you want to delete this target?"))return;const f=[...e.targets];f.splice(p,1),t({...e,targets:f})},[e,t]),l=x.useCallback(p=>f=>{if(f===void 0||f===0)return;f=Ft(f,1,e.targets.length);const b=f-1,g=[...e.targets];e1(g,p,b),t({...e,targets:g}),r(f-1)},[e,t]),u=x.useCallback(p=>()=>{const f=[...e.targets];f.splice(p,0,Gs(f[p])),t({...e,targets:f})},[e,t]),c=x.useMemo(()=>e.targets.map((p,f)=>o(jS,{selected:i===f,setSelect:()=>r(i===f?-1:f),customTarget:p,rank:f+1},p.path.join()+f,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetListEditor.tsx",lineNumber:80,columnNumber:9},this)),[e.targets,i]),m=Ft(i,-1,e.targets.length-1);return o(Ce,{children:[c,o(HS,{setTarget:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetListEditor.tsx",lineNumber:101,columnNumber:7},this),e.targets[m]&&o(WS,{customTarget:e.targets[m],setCustomTarget:n(m),deleteCustomTarget:s(m),rank:m+1,maxRank:e.targets.length,setTargetIndex:l(m),onDup:u(m)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetListEditor.tsx",lineNumber:103,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetListEditor.tsx",lineNumber:99,columnNumber:5},this)}function HS({setTarget:e}){const{t}=pe("page_character"),[i,r,a]=He(!1),n=x.useCallback((s,l)=>{a(),e(s,l)},[a,e]);return o(Ce,{children:[o(Y,{fullWidth:!0,onClick:r,startIcon:o($a,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetListEditor.tsx",lineNumber:137,columnNumber:20},this),sx:{mb:1},children:t`multiTarget.addNewTarget`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetListEditor.tsx",lineNumber:134,columnNumber:7},this),o(Ep,{showEmptyTargets:!0,flatOnly:!0,excludeHeal:!0,show:i,onClose:a,setTarget:n,excludeSections:["basic","bounsStats","custom","character","teamBuff"]},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetListEditor.tsx",lineNumber:140,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/TargetListEditor.tsx",lineNumber:133,columnNumber:5},this)}function KS({customMultiTarget:e,setTarget:t,onDelete:i,onDup:r}){const{t:a}=pe("page_character"),[n,s]=x.useState(structuredClone(e));x.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(n)&&s(structuredClone(e))},[e]);const{name:l,description:u}=n,[c,m,p]=He(),[f,b]=x.useState(!1),g=()=>{r(),p()},h=x.useCallback(()=>{p(),t(n)},[p,t,n]),y=()=>navigator.clipboard.writeText(JSON.stringify(n)).then(()=>alert("Copied configuration to clipboard.")).catch(console.error);return o(Ce,{children:[o(H,{bgt:"light",children:o(gn,{onClick:m,children:o(Ve,{title:o(M,{display:"flex",gap:1,alignItems:"center",children:[n.expression?o(Si,{sx:{minWidth:"8em"},color:"electro",label:o(Oe,{t:a,i18nKey:"multiTarget.expression",children:"Expression"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:82,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:78,columnNumber:19},this):o(Si,{sx:{minWidth:"8em"},color:n.targets.length?"success":void 0,label:o(Oe,{t:a,i18nKey:"multiTarget.target",count:n.targets.length,children:[{count:n.targets.length}," Targets"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:92,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:88,columnNumber:19},this),o(W,{children:l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:102,columnNumber:17},this),n.description&&o(ua,{title:o(W,{children:u},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:104,columnNumber:39},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:104,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:76,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:74,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:73,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:72,columnNumber:7},this),o(bt,{open:c,onClose:h,children:o(H,{sx:{overflow:"visible"},children:[o(Ve,{title:l,action:o(Le,{onClick:h,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:117,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:116,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:113,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:121,columnNumber:11},this),o(ae,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o(Wt,{fullWidth:!0,label:"Custom Multi-target Name",value:l,onChange:C=>s(N=>({...N,name:C}))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:125,columnNumber:13},this),u&&f&&o(CS,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:136,columnNumber:43},this),o(Wt,{fullWidth:!0,label:"Custom Multi-target Description",value:u,onChange:C=>{b(C?(()=>{try{return JSON.parse(C),!0}catch{return!1}})():!1),s(N=>({...N,description:C}))},multiline:!0,minRows:2},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:137,columnNumber:13},this),o(M,{display:"flex",gap:2,children:[o(Y,{onClick:g,color:"info",sx:{flexGrow:1},startIcon:o(Bl,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:168,columnNumber:28},this),children:a("multiTarget.duplicate")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:164,columnNumber:15},this),o(Y,{color:"info",onClick:y,startIcon:o(fp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:175,columnNumber:28},this),sx:{flexGrow:1},children:"Export"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:172,columnNumber:15},this),!n.expression&&o(Y,{color:"warning",onClick:()=>s(t1(n)),children:a`multiTarget.convertToExpression`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:181,columnNumber:17},this),o(Y,{color:"error",onClick:i,children:o(As,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:189,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:188,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:163,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:122,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:193,columnNumber:11},this),o(ae,{sx:{display:"flex",flexDirection:"column",gap:1,position:"relative"},children:n.expression?o(RS,{customMultiTarget:n,setCustomMultiTarget:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:203,columnNumber:15},this):o(qS,{customMultiTarget:n,setCustomMultiTarget:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:208,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:194,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:112,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:111,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetCard.tsx",lineNumber:71,columnNumber:5},this)}function VS({setCustomMultiTarget:e,btnProps:t={}}){const[i,r,a]=He(),[n,s]=x.useState(""),l=()=>{try{const u=JSON.parse(n),c=i1(u);c?(e(c),a()):window.alert("Invalid Multi-Optimization Config")}catch(u){window.alert(`Data Import failed. ${u}`);return}};return o(Ce,{children:[o(Y,{...t,onClick:r,children:"Import Multi-Opt"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetImportBtn.tsx",lineNumber:43,columnNumber:7},this),o(bt,{open:i,onClose:a,children:o(H,{children:[o(Ve,{title:"Import Multi-Opt"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetImportBtn.tsx",lineNumber:48,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetImportBtn.tsx",lineNumber:49,columnNumber:11},this),o(ae,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o(W,{children:"Import a Multi-opt in JSON form below."},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetImportBtn.tsx",lineNumber:53,columnNumber:13},this),o(Ai,{fullWidth:!0,label:"JSON Data",placeholder:"Paste your Team JSON here",value:n,onChange:u=>s(u.target.value),multiline:!0,rows:4},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetImportBtn.tsx",lineNumber:54,columnNumber:13},this),o(Y,{startIcon:o(AT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetImportBtn.tsx",lineNumber:64,columnNumber:26},this),disabled:!n,onClick:l,children:"Import"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetImportBtn.tsx",lineNumber:63,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetImportBtn.tsx",lineNumber:50,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetImportBtn.tsx",lineNumber:47,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetImportBtn.tsx",lineNumber:46,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/CustomMultiTargetImportBtn.tsx",lineNumber:42,columnNumber:5},this)}var kh={ALLUSERSPROFILE:"C:\\ProgramData",AMDRMSDKPATH:"C:\\Program Files\\AMD\\RyzenMasterSDK\\",APPDATA:"C:\\Users\\kulay\\AppData\\Roaming",BERRY_BIN_FOLDER:"C:\\Users\\kulay\\AppData\\Local\\Temp\\xfs-b6e99e8a",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133106374986503655",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_25196_KCAITITPNRSBDVVH",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"EVICTUS",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",COREPACK_ENABLE_DOWNLOAD_PROMPT:"0",COREPACK_ROOT:"C:\\Program Files\\nodejs\\node_modules\\corepack",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EFC_11780:"1",FORCE_COLOR:"true",GIT_ASKPASS:"c:\\Users\\kulay\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\kulay",INIT_CWD:"C:\\Users\\kulay\\Git\\genshin-optimizer",LANG:"ru_RU.UTF-8",LERNA_PACKAGE_NAME:"frontend",LOCALAPPDATA:"C:\\Users\\kulay\\AppData\\Local",LOGONSERVER:"\\\\EVICTUS",NODE_ENV:"development",npm_config_user_agent:"yarn/3.4.1 npm/? node/v21.7.2 win32 x64",npm_execpath:"C:\\Users\\kulay\\AppData\\Local\\Temp\\xfs-b6e99e8a\\yarn",npm_lifecycle_event:"silent-release",npm_node_execpath:"C:\\Users\\kulay\\AppData\\Local\\Temp\\xfs-b6e99e8a\\node",npm_package_json:"C:\\Users\\kulay\\Git\\genshin-optimizer\\package.json",npm_package_name:"genshin-optimizer",npm_package_version:"10.8.1",NUMBER_OF_PROCESSORS:"12",NVTOOLSEXT_PATH:"C:\\Program Files\\NVIDIA Corporation\\NvToolsExt\\",NX_CLI_SET:"true",NX_GA_TRACKINGID:"UA-000000-01",NX_LOAD_DOT_ENV_FILES:"true",NX_TASK_HASH:"8985393001779812299",NX_TASK_TARGET_PROJECT:"frontend",NX_TASK_TARGET_TARGET:"build",NX_URL_DISCORD_GDEV:"https://discord.com/",NX_URL_DISCORD_GO:"https://discord.com/",NX_URL_GITHUB_API_GO_RELEASES:"https://api.github.com/repos///releases/tags/",NX_URL_GITHUB_FRZYC:"https://github.com/",NX_URL_GITHUB_GO:"https://github.com/",NX_URL_GITHUB_GO_CURRENT_VERSION:"",NX_URL_GITHUB_LANTUA:"https://github.com/",NX_URL_GITHUB_VAN:"https://github.com/",NX_URL_KQM_MULTI_GUIDE:"https://keqingmains.com/misc/multi-optimization/",NX_URL_PATREON_FRZYC:"https://www.patreon.com/",NX_URL_PAYPAL_FRZYC:"https://www.paypal.com/",NX_URL_TWITCH_FRZYC:"https://www.twitch.tv/",NX_URL_TWITTER_FRZYC:"https://twitter.com/frzyc",NX_URL_WEBSITE_KQM:"https://keqingmains.com/",NX_URL_YOUTUBE_TUTPL:"https://www.youtube.com/",NX_URLS_GUIDES:"[]",NX_WORKSPACE_ROOT:"C:\\Users\\kulay\\Git\\genshin-optimizer",OneDrive:"C:\\Users\\kulay\\OneDrive",OneDriveConsumer:"C:\\Users\\kulay\\OneDrive",OnlineServices:"Online Services",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",PATH:"C:\\Users\\kulay\\Git\\genshin-optimizer\\apps\\frontend\\node_modules\\.bin;C:\\Users\\kulay\\Git\\genshin-optimizer\\apps\\node_modules\\.bin;C:\\Users\\kulay\\Git\\genshin-optimizer\\node_modules\\.bin;C:\\Users\\kulay\\Git\\node_modules\\.bin;C:\\Users\\kulay\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs;C:\\Users\\kulay\\AppData\\Local\\Temp\\xfs-b6e99e8a;C:\\Users\\kulay\\AppData\\Local\\cloud-code\\installer\\google-cloud-sdk\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\Microsoft VS Code\\bin;C:\\Program Files\\Python312\\Scripts;C:\\Program Files\\Python312;C:\\Program Files\\HP\\HP One Agent;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Program Files\\dotnet\\;C:\\Users\\kulay\\AppData\\Local\\Microsoft\\WindowsApps;C:\\ProgramData\\Miniconda3\\python.exe;C:\\Users\\kulay\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\kulay\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",platformcode:"M7",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 80 Stepping 0, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"5000",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROJECT_CWD:"C:\\Users\\kulay\\Git\\genshin-optimizer",PROMPT:"$P$G",PSModulePath:"C:\\Users\\kulay\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",RegionCode:"EMEA",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\kulay\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.89.1",TMP:"C:\\Users\\kulay\\AppData\\Local\\Temp",USERDOMAIN:"EVICTUS",USERDOMAIN_ROAMINGPROFILE:"EVICTUS",USERNAME:"kulay",USERPROFILE:"C:\\Users\\kulay",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\kulay\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\kulay\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-29a24468e3-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",YARN_IGNORE_CWD:"1"};function XS({buttonProps:e={}}){const t=oe(),{t:i}=pe("page_character"),[r,a,n]=He(),{teamChar:s,teamCharId:l}=x.useContext(Se),[u,c]=x.useState(()=>s.customMultiTargets);x.useEffect(()=>c(s.customMultiTargets),[c,s.customMultiTargets]);const m=x.useCallback(()=>{c([r1(),...u])},[u,c]),p=x.useCallback(d=>v=>{const k=[...u];k[d]=v,c(k)},[u,c]),f=x.useCallback(d=>()=>{if(u[d].targets.length&&!window.confirm(`Are you sure you want to delete "${u[d].name}"?`))return;const v=[...u];v.splice(d,1),c(v)},[u,c]),b=x.useCallback(d=>()=>{const v=[...u],k=Gs(u[d]);k.name=`${k.name} (Duplicate)`,v.splice(d,0,k),c(v)},[u,c]),g=x.useCallback(()=>{n(),t.teamChars.set(l,{customMultiTargets:u})},[t,l,u,n]),{data:h,teamData:y}=x.useContext(he),C=x.useMemo(()=>{const d=h.data[0],v={...d,hit:{...d.hit},infusion:{...d.infusion}};return delete v.hit.reaction,delete v.infusion.team,{data:new qy(v,void 0),teamData:y}},[h,y]),N=x.useMemo(()=>u.map((d,v)=>o(I,{item:!0,xs:1,children:o(KS,{customMultiTarget:d,setTarget:p(v),onDup:b(v),onDelete:f(v)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:130,columnNumber:11},this)},`${v}${d.name}`,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:124,columnNumber:9},this)),[u,f,b,p]);return o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",height:"100%",width:100},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:148,columnNumber:17},this),children:[o(Y,{color:"info",onClick:a,startIcon:o(rh,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:153,columnNumber:20},this),...e,children:o(M,{display:"flex",gap:1,children:[o("span",{children:i`multiTarget.title`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:157,columnNumber:11},this),o(ce,{color:u.length?"success":"secondary",children:u.length},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:158,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:156,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:150,columnNumber:7},this),o(he.Provider,{value:C,children:o(bt,{open:r,onClose:g,containerProps:{sx:{overflow:"visible"}},children:o(H,{children:[o(Ve,{title:o(M,{display:"flex",gap:1,alignItems:"center",children:[o(rh,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:173,columnNumber:19},this),o(W,{variant:"h6",children:i`multiTarget.title`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:174,columnNumber:19},this),o(ua,{title:o(W,{children:[o(Oe,{t:i,i18nKey:"multiTarget.info1",children:["Note: Community created Multi-Optimization Targets can be found within the",o("a",{href:kh.NX_URL_DISCORD_GO,target:"_blank",rel:"noreferrer",children:"GO Discord"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:181,columnNumber:27},this),"or",o("a",{href:kh.NX_URL_KQM_MULTI_GUIDE,target:"_blank",rel:"noreferrer",children:"KQM Multi-Opt Guide"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:189,columnNumber:27},this),", however the validity of such configurations cannot be guaranteed."]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:178,columnNumber:25},this),o("br",{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:199,columnNumber:25},this),o("br",{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:200,columnNumber:25},this),i("multiTarget.info2")]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:177,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:175,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:172,columnNumber:17},this),action:o(Le,{onClick:g,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:209,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:208,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:170,columnNumber:13},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:213,columnNumber:13},this),o(ae,{sx:{display:"flex",flexDirection:"column",gap:1},children:o(M,{children:o(I,{container:!0,columns:{xs:1,md:2},spacing:2,children:[o(I,{item:!0,xs:1,children:o(Y,{fullWidth:!0,onClick:m,startIcon:o($a,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:223,columnNumber:34},this),children:i`multiTarget.addNewMTarget`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:220,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:219,columnNumber:19},this),o(I,{item:!0,xs:1,children:o(VS,{setCustomMultiTarget:p(u.length),btnProps:{fullWidth:!0}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:227,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:226,columnNumber:19},this),N]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:218,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:217,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:214,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:169,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:164,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:163,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CustomMultiTarget/index.tsx",lineNumber:147,columnNumber:5},this)}const Qv={xs:1,md:2,lg:3};function YS({open:e,onClose:t}){const{t:i}=pe("page_character");return o(bt,{open:e,onClose:t,children:o(H,{children:[o(Ve,{title:o(M,{sx:{display:"flex",gap:1,alignItems:"center"},children:[o(pp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:53,columnNumber:15},this),o("span",{children:i`addStats.title`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:54,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:52,columnNumber:13},this),action:o(Le,{onClick:t,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:59,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:58,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:50,columnNumber:9},this),o(ae,{sx:{pt:0},children:o(st,{spacing:1,children:[o(QS,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:65,columnNumber:13},this),o(aO,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:66,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:64,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:63,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:49,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:48,columnNumber:5},this)}const JS=[...Ml],ZS=(e,t)=>o(I,{item:!0,xs:1,children:e},t,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:75,columnNumber:3},void 0);function QS(){const{t:e}=pe("page_character"),t=oe(),{teamCharId:i,teamChar:{bonusStats:r}}=x.useContext(Se);return o(H,{bgt:"light",children:o(ae,{sx:{display:"flex"},children:o(I,{container:!0,columns:Qv,sx:{pt:1},spacing:1,children:[o(I,{item:!0,xs:12,children:o(pi,{severity:"info",variant:"filled",children:o(Oe,{i18nKey:"addStats.info",t:e,children:["You can use these fields to add buffs/debuffs not directly supported in GO, such as food buffs, abyss cards, or Superconduct. Please refer to the",o("a",{href:"https://genshin-impact.fandom.com/wiki/Genshin_Impact_Wiki",children:"Genshin Impact Wiki"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:99,columnNumber:17},this),"for specific values."]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:95,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:94,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:93,columnNumber:11},this),o(Dp,{statKeys:JS,statFilters:r,setStatFilters:n=>t.teamChars.set(i,{bonusStats:n}),wrapperFunc:ZS,label:e("addStats.label")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:106,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:92,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:91,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:90,columnNumber:5},this)}const eO=["hp","atk","def"],eC=["eleMas","critRate_","critDMG_","enerRech_","heal_"],tO=[...eO,...eC].map(e=>et.total[e]),iO=["atk_","atk","hp_","hp","def_","def",...eC],tC=[...a1,...n1,"stamina","incHeal_","shield_","cdRed_"],rO=Ml.filter(e=>!iO.includes(e)&&!tC.includes(e));function Tu({nodes:e,extra:t}){const{data:i,compareData:r}=x.useContext(he);return o(Ia,{children:[e.map(a=>o(Es,{component:Xr,calcRes:i.get(a),compareCalcRes:r==null?void 0:r.get(a)},JSON.stringify(a.info),!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:166,columnNumber:9},this)),t]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:164,columnNumber:5},this)}function aO(){const{character:{key:e}}=x.useContext(Je),{data:t}=x.useContext(he),i=t.get(et.special),r=bn(e),a=mp(e),n=x.useMemo(()=>tC.filter(p=>p.includes(r)?!1:(a&&p.includes("physical"),!0)).map(p=>et.total[p]).filter(p=>!!t.get(p).value),[t,r,a]),s=x.useMemo(()=>rO.map(m=>et.total[m]).filter(m=>t.get(m).value),[t]),{icon:l,variant:u,name:c}=(i&&Mt(i.info))??{};return o(H,{bgt:"light",children:o(ae,{children:o(I,{container:!0,columns:Qv,spacing:1,children:[o(I,{item:!0,xs:1,children:o(ku,{title:"Main Stats",children:o(Tu,{nodes:tO,extra:i&&o(Xr,{sx:{display:"flex",justifyContent:"space-between"},children:[o("span",{children:[o("b",{children:"Special:"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:220,columnNumber:25},this)," ",o(Ee,{color:u&&u==="invalid"?void 0:u,children:[l," ",c]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:221,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:219,columnNumber:23},this),o("span",{children:op(i).valueString},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:231,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:216,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:212,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:211,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:210,columnNumber:11},this),o(I,{item:!0,xs:1,children:o(ku,{title:"Other Stats",children:o(Tu,{nodes:n},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:240,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:239,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:238,columnNumber:11},this),!!s.length&&o(I,{item:!0,xs:1,children:o(ku,{title:"Misc Stats",children:o(Tu,{nodes:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:246,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:245,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:244,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:209,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:208,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:207,columnNumber:5},this)}function ku({title:e,children:t}){return o(H,{children:[o(ae,{sx:{py:1},children:o(M,{display:"flex",justifyContent:"space-between",children:o(W,{variant:"subtitle1",children:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:260,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:259,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:258,columnNumber:7},this),t]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/StatModal.tsx",lineNumber:257,columnNumber:5},this)}const Su={xs:1,sm:1,md:2,lg:2};function nO(){const e=oe(),{teamId:t,teamChar:i,teamChar:{name:r,description:a},teamCharId:n}=x.useContext(Se),s=u=>{const c=e.teams.get(t).loadoutData.findIndex(m=>(m==null?void 0:m.teamCharId)===n);c<0||e.teams.set(t,m=>{m.loadoutData[c]={teamCharId:u}})},l=bn(i.key);return o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:"100%",height:1e3},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:61,columnNumber:17},this),children:[o(M,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o(bT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:64,columnNumber:9},this),o(Vv,{teamCharId:n,onChangeTeamCharId:s,dropdownBtnProps:{fullWidth:!0,sx:{flexGrow:1,backgroundColor:"contentLight.main"},color:l??"info",variant:"outlined"},label:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:65,columnNumber:9},this),o(Wt,{fullWidth:!0,label:"Loadout Name",placeholder:"Loadout Name",value:r,onChange:u=>e.teamChars.set(n,{name:u})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:76,columnNumber:9},this),o(Wt,{fullWidth:!0,label:"Loadout Description",value:a,onChange:u=>e.teamChars.set(n,{description:u}),multiline:!0,minRows:2},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:83,columnNumber:9},this),o(M,{display:"flex",gap:2,flexWrap:"wrap",children:[o(oO,{buttonProps:{sx:{backgroundColor:"contentLight.main",flexGrow:1},color:l??"info",variant:"outlined"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:94,columnNumber:11},this),o(XS,{buttonProps:{sx:{backgroundColor:"contentLight.main",flexGrow:1},color:l??"info",variant:"outlined"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:101,columnNumber:11},this),o(lO,{buttonProps:{sx:{backgroundColor:"contentLight.main",flexGrow:1},color:l??"info",variant:"outlined"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:108,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:93,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:63,columnNumber:7},this),o(sO,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:117,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:60,columnNumber:5},this)}function sO(){const e=oe(),{teamCharId:t,loadoutDatum:i,teamChar:{key:r,buildIds:a,buildTcIds:n}}=x.useContext(Se),s=sr(r).weaponType;return o(Ce,{children:[o(Ve,{title:o(M,{sx:{display:"flex",gap:1,alignItems:"center"},children:[o(Ra,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:136,columnNumber:13},this),o("span",{children:"Build Management"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:137,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:135,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:133,columnNumber:7},this),o(M,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o(yT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:142,columnNumber:9},this),o(I,{container:!0,columns:Su,spacing:2,children:[o(I,{item:!0,xs:1,children:o(fS,{active:(i==null?void 0:i.buildType)==="equipped"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:145,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:144,columnNumber:11},this),o(I,{item:!0,xs:1,children:o(jl,{dataAdSlot:"5385429639",bgt:"light"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:148,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:147,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:143,columnNumber:9},this),o(M,{sx:{display:"flex",gap:2},children:[o(W,{variant:"h6",children:"Builds"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:153,columnNumber:11},this),o(Y,{startIcon:o($a,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:155,columnNumber:24},this),color:"info",size:"small",onClick:()=>e.teamChars.newBuild(t),children:"New Build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:154,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:152,columnNumber:9},this),o(vT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:163,columnNumber:9},this),o(M,{children:o(I,{container:!0,columns:Su,spacing:2,children:a.map(l=>o(I,{item:!0,xs:1,children:o(dS,{buildId:l,active:(i==null?void 0:i.buildType)==="real"&&(i==null?void 0:i.buildId)===l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:168,columnNumber:17},this)},l,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:167,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:165,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:164,columnNumber:9},this),o(M,{sx:{display:"flex",gap:2},children:[o(W,{variant:"h6",children:"TC Builds"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:181,columnNumber:11},this),o(Y,{startIcon:o($a,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:183,columnNumber:24},this),color:"info",size:"small",onClick:()=>e.teamChars.newBuildTcFromBuild(t,s),children:"New TC Build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:182,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:180,columnNumber:9},this),o(CT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:193,columnNumber:9},this),o(M,{children:o(I,{container:!0,columns:Su,spacing:2,children:n.map(l=>o(I,{item:!0,xs:1,children:o(bS,{buildTcId:l,active:(i==null?void 0:i.buildType)==="tc"&&(i==null?void 0:i.buildTcId)===l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:198,columnNumber:17},this)},l,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:197,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:195,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:194,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:141,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:132,columnNumber:5},this)}function oO({buttonProps:e={}}){const{t}=pe("page_character"),[i,r,a]=He(),{teamChar:{bonusStats:n}}=x.useContext(Se),s=Object.keys(n).length;return o(Ce,{children:[o(Y,{color:"info",startIcon:o(pp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:224,columnNumber:20},this),onClick:r,...e,children:[t`addStats.title`,!!s&&o(ce,{sx:{ml:1},color:"success",children:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:230,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:222,columnNumber:7},this),o(YS,{open:i,onClose:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:235,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:221,columnNumber:5},this)}function lO({buttonProps:e={}}){const{onModalOpen:t}=x.useContext(Pa);return o(Y,{color:"info",startIcon:o(Gp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:244,columnNumber:18},this),onClick:t,...e,children:["Show Formulas ","&"," Calcs"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/LoadoutSettingElement.tsx",lineNumber:242,columnNumber:5},this)}function uO(e,t,i,r,a,n){let s=n;const l={pruneOrder:{pruneNodeRange:!0},pruneArtRange:{pruneNodeRange:!0},pruneNodeRange:{reaffine:!0},reaffine:{pruneOrder:!0,pruneArtRange:!0,pruneNodeRange:!0}};let u=0;for(;Object.values(s).some(c=>c)&&u++<20;){if(s.pruneOrder){delete s.pruneOrder;const c=pO(i,r,a);i!==c&&(i=c,s={...s,...l.pruneOrder})}if(s.pruneArtRange){delete s.pruneArtRange;const c=fO(e,i,t);i!==c&&(i=c,s={...s,...l.pruneArtRange})}if(s.pruneNodeRange){delete s.pruneNodeRange;const c=hO(e,i);e!==c&&(e=c,s={...s,...l.pruneNodeRange})}if(s.reaffine){delete s.reaffine;const{nodes:c,arts:m}=mO(e,i);(e!==c||i!==m)&&(e=c,i=m,s={...s,...l.reaffine})}}return{nodes:e,arts:i}}function cO(e,t){const i={};for(const[r,a]of Object.entries(t))a.includes(4)&&(i[r]=a.includes(2)?1:3);return as(e,r=>r,r=>{if(r.operation!=="threshold")return r;const[a,n,s,l]=r.operands;if(a.operation==="read"&&n.operation==="const"){const u=a.path[a.path.length-1],c=n.value;if(u in i){if(i[u]<c)return l;if(c===2&&t[u].includes(2))return Co(a,4,s,l)}}return r})}function mO(e,t,i=!1){const r=new Set,a=new Set;function n(g,h){return h?r.add(g):g.operands.forEach(y=>r.has(y)&&a.add(y)),g}const s=new Set;if(e=as(e,g=>g,g=>{const{operation:h}=g;switch(h){case"read":return s.add(g.path[1]),n(g,!0);case"add":{const y=g.operands.filter(d=>r.has(d)),C=g.operands.filter(d=>!r.has(d));if(C.length===0)return n(g,!0);if(y.length<=1)return n(g,!1);const N=n(Li(...y),!0);return n(Li(N,...C),!1)}case"mul":{const y=g.operands.filter(C=>C.operation!=="const");return n(g,y.length===0||y.length===1&&r.has(y[0]))}case"const":return n(g,!0);case"res":case"threshold":case"sum_frac":case"max":case"min":return n(g,!1);default:np(h)}}),e.filter(g=>r.has(g)).forEach(g=>a.add(g)),[...a].every(({operation:g})=>g==="read"||g==="const")&&Object.keys(t.base).length===s.size)return{nodes:e,arts:t};let l=-1;function u(){for(;s.has(`${++l}`););return`${l}`}const c=[...a].filter(g=>g.operation!=="const"),m=new Map(c.map(g=>[g,!i&&g.operation==="read"&&g.path[0]==="dyn"?g:s1(u())]));e=as(e,g=>m.get(g)??g,g=>g);function p(g){const h=o1([...m.keys()],{dyn:ti(g,y=>ki(y))},y=>!0);return Object.fromEntries([...m.values()].map((y,C)=>[y.path[1],h[C].value]))}const f={nodes:e,arts:{base:p(t.base),values:ot(Ze,g=>t.values[g].map(({id:h,set:y,values:C})=>({id:h,set:y,values:p(C)})))}},b=Object.entries(p({}));for(const g of Object.values(f.arts.values))for(const{values:h}of g)for(const[y,C]of b)h[y]-=C;return f}function pO(e,t,i){var c;let r=!1;const a=!((c=i.rainbow)!=null&&c.length),n=Object.keys(e.base),s=new Set(Object.entries(i).filter(([m,p])=>p.length).map(([m])=>m)),l=new Set(Object.entries(i).filter(([m,p])=>p.includes(2)&&!p.includes(4)).map(([m])=>m)),u=ot(Ze,m=>{const p=e.values[m],f=p.filter(b=>{let g=0;return p.every(h=>{const y=n.every(v=>(h.values[v]??0)>=(b.values[v]??0)),C=n.some(v=>(h.values[v]??0)>(b.values[v]??0)),N=y&&(C||h.id>b.id),d=a&&!s.has(h.set)&&!l.has(b.set)||b.set===h.set;return N&&d&&g++,g<t})});return f.length!==p.length&&(r=!0),f});return r?{base:e.base,values:u}:e}function fO(e,t,i){const r=Object.fromEntries(Object.entries(t.base).map(([n,s])=>[n,{min:s,max:s}])),a={arts:t};for(;;){const n=ot(Ze,c=>kc(a.arts.values[c])),s=ot(Ze,c=>Tc(Object.entries(n).map(m=>m[0]===c?r:m[1]).filter(m=>m)));let l=!1;const u=ot(Ze,c=>{const m=a.arts.values[c].filter(p=>{const f=Tc([kc([p]),s[c]]),b=iC(e,f);return e.every((g,h)=>b.get(g).max>=(i[h]??-1/0))});return m.length!==a.arts.values[c].length&&(l=!0),m});if(!l)break;a.arts={base:a.arts.base,values:u}}return a.arts}function hO(e,t){const i=Object.fromEntries(Object.entries(t.base).map(([n,s])=>[n,{min:s,max:s}])),r=Tc([i,...Object.values(t.values).map(n=>kc(n))]),a=iC(e,r);return as(e,n=>{{const{min:u,max:c}=a.get(n);if(u===c)return ki(u)}const{operation:s}=n,l=n.operands.map(u=>a.get(u));switch(s){case"threshold":{const[u,c,m,p]=l;if(u.min>=c.max)return n.operands[2];if(u.max<c.min)return n.operands[3];if(m.max===m.min&&p.max===p.min&&m.min===p.min&&isFinite(m.min))return ki(m.max);break}case"min":{const u=n.operands.filter((c,m)=>{const p=l[m];return l.every(f=>p.min<=f.max)});if(u.length<l.length)return _y(...u);break}case"max":{const u=n.operands.filter((c,m)=>{const p=l[m];return l.every(f=>p.max>=f.min)});if(u.length<l.length)return wy(...u);break}}return n},n=>n)}function Tc(e){const t={};return e.forEach(i=>{Object.entries(i).forEach(([r,a])=>{t[r]?(t[r].min+=a.min,t[r].max+=a.max):t[r]={...a}})}),t}function kc(e){const t={};return e.length&&(Object.keys(e[0].values).filter(i=>e.every(r=>r.values[i])).forEach(i=>t[i]={min:e[0].values[i],max:e[0].values[i]}),e.forEach(({values:i})=>{for(const[r,a]of Object.entries(i))t[r]?(t[r].max<a&&(t[r].max=a),t[r].min>a&&(t[r].min=a)):t[r]={min:0,max:a}})),t}function iC(e,t){const i=new Map;return Dy(e,r=>{},r=>{const{operation:a}=r,n=r.operands.map(l=>i.get(l));let s;switch(a){case"read":if(r.path[0]!=="dyn")throw new Error(`Found non-dyn path ${r.path} while computing range`);s=t[r.path[1]]??{min:0,max:0};break;case"const":s=ao([r.value]);break;case"add":case"min":case"max":s={min:Qs[a](n.map(l=>l.min)),max:Qs[a](n.map(l=>l.max))};break;case"res":s={min:Qs[a]([n[0].max]),max:Qs[a]([n[0].min])};break;case"mul":s=n.reduce((l,u)=>ao([l.min*u.min,l.min*u.max,l.max*u.min,l.max*u.max]));break;case"threshold":n[0].min>=n[1].max?s=n[2]:n[0].max<n[1].min?s=n[3]:s=ao([],[n[2],n[3]]);break;case"sum_frac":{const[l,u]=n,c={min:l.min+u.min,max:l.max+u.max};c.min<=0&&c.max>=0?s=l.min<=0&&l.max>=0?{min:NaN,max:NaN}:{min:-1/0,max:1/0}:s=ao([l.min/c.min,l.min/c.max,l.max/c.min,l.max/c.max]);break}default:np(a)}i.set(r,s)}),i}function ao(e,t=[]){const i=Math.max(...e,...t.map(a=>a.max));return{min:Math.min(...e,...t.map(a=>a.min)),max:i}}function dO(e,t){return e.flatMap(i=>i).sort((i,r)=>r.value-i.value).slice(0,t)}function gO(e){let t=.01;const i=2,r=1500;let a=new Set(e.flatMap(s=>Object.values(s).map(l=>l&&Math.round(l.plot/t))));for(;a.size>r;)t*=i,a=new Set([...a].filter(Tr).map(s=>Math.round(s/i)));const n={};for(const s of e)for(const l of Object.values(s)){if(!l)continue;const u=Math.round(l.plot/t)*t;(!n[u]||n[u].value<l.value)&&(n[u]=l)}return n}class bO{constructor(t,i,r){this.workDone=new Map,this.commands=i.map(a=>new MT),this.prio=new Map(i.map((a,n)=>[a,n])),this.callback=r,t.forEach(a=>{a.onmessage=n=>this.onMessage(n.data,a),a.onerror=n=>this.onError(n)}),this._workers=t,this.workers=t.map(a=>Promise.resolve(a)),this.cancel=()=>{},this.cancelled=new Promise((a,n)=>this.cancel=n),this.cancelled.catch(a=>t.forEach(n=>n.terminate()))}async execute(t){var r;const i=(async()=>{for await(const a of t)this.add(a)})();for(;;){const a=(r=this.commands.find(l=>l.length))==null?void 0:r.pop();if(a===void 0){const l=await Promise.race([new Promise(u=>this.notifyNonEmpty=()=>u(!0)),Promise.all([...this.workers,i]).then(u=>!1),this.cancelled]);if(this.notifyNonEmpty=void 0,l)continue;break}const{i:n,w:s}=await Promise.race([...this.workers.map((l,u)=>l.then(c=>({i:u,w:c}))),this.cancelled]);this.workers[n]=new Promise(l=>this.workDone.set(s,()=>l(s))),s.postMessage(a)}}onError(t){this.cancel(new Error(`Worker Error: ${t.message}`))}onMessage(t,i){t.command!==void 0?this.add(t):t.resultType==="done"?this.workDone.get(i)():this.callback(t,i)}add(t){var r;const i=this.prio.get(t.command);this.commands[i].push(t),(r=this.notifyNonEmpty)==null||r.call(this)}broadcast(t){this._workers.forEach(i=>i.postMessage(t))}notifiedBroadcast(t){this.workers=this.workers.map(i=>i.then(r=>new Promise(a=>{this.workDone.set(r,()=>a(r))}))),this._workers.forEach(i=>i.postMessage(t))}}class yO extends bO{constructor(t,i,r){const a=Array(r).fill(NaN).map(l=>new Worker(new URL(""+new URL("BackgroundWorker-OvZgfil4.js",import.meta.url).href,import.meta.url),{type:"module"}));super(a,["iterate","split","count"],(l,u)=>{switch(l.resultType){case"interim":this.interim(l,u);break;case"finalize":this.finalizedResults.push(l);break;case"count":this.status.total=l.count;break;case"err":this.onError(l);break}}),this.maxIterateSize=32e6,this.finalizedResults=[];const{exclusion:n,topN:s}=t;this.status=i,this.exclusion=n,this.topN=s,this.status.total=NaN,this.buildValues=Array(s).fill({w:void 0,val:-1/0}),this.notifiedBroadcast(this.preprocess(t))}async solve(){const{exclusion:t,maxIterateSize:i}=this;return this.finalizedResults=[],await this.execute([{command:"count",exclusion:t,maxIterateSize:i}]),this.notifiedBroadcast({command:"finalize"}),await this.execute([]),this.finalizedResults}preprocess({plotBase:t,optimizationTarget:i,arts:r,topN:a,exclusion:n,constraints:s}){s=s.filter(m=>m.min>-1/0);let l=[...s.map(m=>m.value),i];const u=[...s.map(m=>m.min),-1/0];t&&(l.push(t),u.push(-1/0)),l=cO(l,n),l=aa(l,{},m=>!1),{nodes:l,arts:r}=uO(l,u,r,a,n,{reaffine:!0,pruneArtRange:!0,pruneNodeRange:!0,pruneOrder:!0}),l=aa(l,{},m=>!1),t&&(t=l.pop());const c=l.pop();return{command:"setup",arts:r,optTarget:c,plotBase:t,topN:a,constraints:l.map((m,p)=>({value:m,min:u[p]}))}}interim(t,i){if(this.status.tested+=t.tested,this.status.failed+=t.failed,this.status.skipped+=t.skipped,t.buildValues){const{topN:r}=this,a=this.buildValues[r-1].val??-1/0;this.buildValues.filter(({w:s})=>s!==i),this.buildValues.push(...t.buildValues.map(s=>({w:i,val:s}))),this.buildValues.sort((s,l)=>l.val-s.val).splice(r);const n=this.buildValues[r-1].val??-1/0;a!==n&&this.broadcast({command:"threshold",threshold:n})}}}const Sh=l1(Gs({dyn:{...kr.art,...kr.artSet}})),$p={art:ot([...Ay,...rt],e=>Sh.dyn[e]),artSet:ti(kr.artSet,(e,t)=>Sh.dyn[t])};function vO(e,t,i){const r={base:{},values:{flower:[],plume:[],goblet:[],circlet:[],sands:[]}},a=new Set;for(const n of e){const s=_o(n.mainStatKey,n.rarity,Math.max(Math.min(t,Pl[n.rarity]),n.level)),l={id:n.id,set:n.setKey,values:{[n.setKey]:1,[n.mainStatKey]:s,...Object.fromEntries(n.substats.map(u=>[u.key,u.key.endsWith("_")?u.accurateValue/100:u.accurateValue]))}};delete l.values[""],r.values[n.slotKey].push(l),Object.keys(l.values).forEach(u=>a.add(u))}if(r.base=ot([...a],n=>0),i)for(const n of Object.values(r.values))n.push({id:"",values:{}});return r}function Oh(e,t,i,r){var m;const{artifact:{sets:a},optimization:{minTotal:n}}=i;if(!r)return{};const s=(m=e[t])==null?void 0:m.target.data[0];if(!s)return{};Object.assign(s,hp([s,$p]));const l=Ut(s.display??{},r);if(!l)return{};const u=Object.keys(n).map(p=>s.total[p]).filter(p=>p);let c=aa([l,...u],s,({path:[p]})=>p!=="dyn");return c=as(c,p=>{if(p.operation==="read"&&p.path[0]==="dyn"){const f=a[p.path[1]];if(f)return ki(f);if(!rt.includes(p.path[1]))return ki(0)}return p},p=>p),c=aa(c,{},p=>!1),{nodes:c}}function CO(e){const t=new Set;return Hy(e,{},i=>{const r=i.path[1];return t.add(r),r},1),t}function NO(e){const{artifact:{slots:t,substats:{stats:i,type:r,rarity:a}}}=e,n=ti(i,(u,c)=>Math.ceil(i[c]/Di(c,a,r))),s=kO(t),l=TO(t);return{minSubLines:l,minOtherRolls:xO(Object.entries(n),s,l)}}function xO(e,t,i=4*5){const r=e.reduce((a,[n,s])=>{const l=5-(t[n]??0);return a+Math.min(s,l)},0);return i-r}function TO(e){return Object.values(e).reduce((t,{rarity:i,level:r})=>{const{high:a,low:n}=$l[i];return t+(r>=4?a:n)},0)}function kO(e){const t={};return Object.values(e).forEach(({statKey:i})=>{t[i]=(t[i]??0)+1},0),t}const SO=()=>new Worker(new URL(""+new URL("optimizeTcWorker-DsUa622i.js",import.meta.url).href,import.meta.url),{type:"module"});var Ip={},OO=nr;Object.defineProperty(Ip,"__esModule",{value:!0});var rC=Ip.default=void 0,zO=OO(rr()),DO=ar(),_O=(0,zO.default)((0,DO.jsx)("path",{d:"M7.58 4.08 6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"}),"NotificationsActive");rC=Ip.default=_O;var Rp={},wO=nr;Object.defineProperty(Rp,"__esModule",{value:!0});var aC=Rp.default=void 0,AO=wO(rr()),UO=ar(),GO=(0,AO.default)((0,UO.jsx)("path",{d:"M20 18.69 7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01L18 14.68z"}),"NotificationsOff");aC=Rp.default=GO;function jp(){const e=oe(),{teamId:t,teamCharId:i,loadoutDatum:r,team:{loadoutData:a},teamChar:{key:n}}=x.useContext(Se),{gender:s}=$t(),[l,u]=ir(),c=x.useDeferredValue(l);return x.useEffect(()=>t?e.teams.follow(t,u):void 0,[t,u,e]),x.useEffect(()=>{if(!l)return()=>{};const m=a.map(p=>{if(!p)return()=>{};const f=p?e.teamChars.follow(p.teamCharId,u):()=>{},b=p?e.teamChars.followChar(p.teamCharId,u):()=>{},g=p?p.teamCharId===i?e.teams.followLoadoutDatumCompare(p,u):e.teams.followLoadoutDatum(p,u):()=>{};return()=>{f(),b(),g()}});return()=>{m.forEach(p=>p())}},[l,i,e,a,u]),x.useMemo(()=>{if(!c)return;const{compare:m,compareType:p,compareBuildId:f,compareBuildTcId:b}=r;if(!m)return;const{overrideArt:g,overrideWeapon:h,overrideCharacter:y}=(()=>{const d=e.chars.get(n);switch(p){case"equipped":return{overrideArt:Object.values(d.equippedArtifacts).map(v=>e.arts.get(v)).filter(v=>v),overrideWeapon:e.weapons.get(d.equippedWeapon),overrideCharacter:d};case"real":{const v=e.builds.get(f);return{overrideArt:Object.values(v.artifactIds).map(k=>e.arts.get(k)).filter(k=>k),overrideWeapon:e.weapons.get(v.weaponId),overrideCharacter:d}}case"tc":{const v=e.buildTcs.get(b);return{overrideArt:Ky(v),overrideWeapon:{...v.weapon,location:at(n)},overrideCharacter:v.character??d}}}})(),C=Vy(e,t,s,i,0,g,h,y);return C?C[n].target:void 0},[c,r,e,t,s,i,n])}function Bp({buttonGroupProps:e={}}){var y,C;const t=oe(),{teamId:i,teamCharId:r,loadoutDatum:a,teamChar:{buildIds:n,buildTcIds:s}}=x.useContext(Se),{buildType:l,buildId:u,buildTcId:c,compare:m,compareType:p,compareBuildId:f,compareBuildTcId:b}=a,g=p==="real"?((y=t.builds.get(f))==null?void 0:y.name)??"":p==="tc"?o("span",{children:[((C=t.buildTcs.get(b))==null?void 0:C.name)??""," ",o(ce,{color:"info",sx:{ml:1},children:"TC"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:42,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:40,columnNumber:7},this):"Equipped";return o(gi,{...e,children:[o(Y,{startIcon:m?o(dp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:60,columnNumber:30},this):o(gp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:60,columnNumber:49},this),color:m?"success":"secondary",onClick:()=>t.teams.setLoadoutDatum(i,r,{compare:!m}),children:"Compare"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:59,columnNumber:7},this),o(dt,{title:o(Ce,{children:[g," ",(p==="equipped"&&l==="equipped"||p==="real"&&l==="real"&&u===f||p==="tc"&&l==="tc"&&c===b)&&o(ce,{color:"info",sx:{ml:1},children:"Current"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:75,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:72,columnNumber:11},this),disabled:!m||!n.length&&!s.length,children:[o(Pe,{onClick:()=>t.teams.setLoadoutDatum(i,r,{compareType:"equipped"}),children:["Equipped"," ",l==="equipped"&&o(ce,{color:"info",sx:{ml:1},children:"Current"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:92,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:83,columnNumber:9},this),n.map(N=>{var d;return o(Pe,{disabled:!((d=t.builds.get(N))!=null&&d.weaponId),onClick:()=>t.teams.setLoadoutDatum(i,r,{compareType:"real",compareBuildId:N}),children:[t.builds.get(N).name," ",l==="real"&&N===u&&o(ce,{color:"info",sx:{ml:1},children:"Current"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:110,columnNumber:15},this)]},N,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:98,columnNumber:11},this)}),s.map(N=>{var d;return o(Pe,{onClick:()=>t.teams.setLoadoutDatum(i,r,{compareType:"tc",compareBuildTcId:N}),children:[((d=t.buildTcs.get(N))==null?void 0:d.name)??""," ",o(ce,{color:"info",sx:{ml:1},children:"TC"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:127,columnNumber:13},this),l==="tc"&&N===c&&o(ce,{color:"info",sx:{ml:1},children:"Current"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:131,columnNumber:15},this)]},N,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:117,columnNumber:11},this)})]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:70,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/CompareBtn.tsx",lineNumber:58,columnNumber:5},this)}function nC({disabled:e}){var O,_;const{t}=pe(["page_character_optimize","sheet"]),i=x.useContext(he),r=oe(),{teamChar:{conditional:a,optConfigId:n},teamCharId:s}=x.useContext(Se),{artSetExclusion:l}=yi(n),[u,c]=x.useState(!1),m=x.useCallback(()=>c(!0),[c]),p=x.useCallback(()=>c(!1),[c]),[f,b]=ir();x.useEffect(()=>r.arts.followAny(b),[r,b]);const g=x.useMemo(()=>Object.entries(u1).reverse().flatMap(([,A])=>A).filter(A=>!A.includes("Prayers")),[]),{artKeys:h,artSlotCount:y}=x.useMemo(()=>{const A=ot(g,D=>ot(Ze,U=>0));r.arts.values.forEach(D=>A[D.setKey]&&A[D.setKey][D.slotKey]++);const z=[...g].sort((D,U)=>+(Sc(A[D])<2)-+(Sc(A[U])<2));return f&&{artKeys:z,artSlotCount:A}},[f,r,g]),C=!((O=l.rainbow)!=null&&O.includes(2)),N=!((_=l.rainbow)!=null&&_.includes(4)),{allowTotals:d}=x.useMemo(()=>Ms({allowTotals:["2","4"]},z=>g.forEach(D=>{var U,P;z.allowTotals[2].total++,(U=l[D])!=null&&U.includes(2)||z.allowTotals[2].current++,z.allowTotals[4].total++,(P=l[D])!=null&&P.includes(4)||z.allowTotals[4].current++})),[g,l]),v=x.useMemo(()=>Object.keys(a).filter(A=>Cu.includes(A)&&!!Object.keys(a[A]??{}).length).length,[a]),k=x.useMemo(()=>({...i,data:new qy({...i.data.data[0],artSet:ot(Cu,A=>ki(4))},void 0)}),[i]),T=x.useCallback(()=>{const A=Object.fromEntries(Object.entries(a).filter(([z])=>!Cu.includes(z)));r.teamChars.set(s,z=>{z.conditional=A})},[r,s,a]),S=x.useCallback((A,z=!0)=>{const D=Gs(l);g.forEach(U=>{z?D[U]=[...D[U]??[],A]:D[U]&&(D[U]=D[U].filter(P=>P!==A))}),r.optConfigs.set(n,{artSetExclusion:D})},[g,l,r,n]);return o(Ce,{children:[o(H,{bgt:"light",sx:{display:"flex",width:"100%"},children:[o(ae,{sx:{flexGrow:1},children:[o(W,{children:o("strong",{children:t`artSetConfig.title`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:192,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:191,columnNumber:11},this),o(st,{spacing:1,children:[o(W,{children:[t`artSetConfig.setEffCond`," ",o(ce,{color:v?"success":"warning",children:[v," ",t("artSetConfig.enabled")]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:197,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:195,columnNumber:13},this),o(W,{children:[t`sheet:2set`," ",o(ce,{color:"success",children:[d[2]," ",o(Zt,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:204,columnNumber:36},this)," ",t("artSetConfig.allowed")]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:203,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:201,columnNumber:13},this),o(W,{children:[t`sheet:4set`," ",o(ce,{color:"success",children:[d[4]," ",o(Zt,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:211,columnNumber:36},this)," ",t("artSetConfig.allowed")]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:210,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:208,columnNumber:13},this),o(W,{children:[t`artSetConfig.2rainbow`," ",o(ce,{color:C?"success":"secondary",children:[C?o(Zt,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:219,columnNumber:19},this):o(oi,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:221,columnNumber:19},this)," ",C?t("artSetConfig.allowed"):"Excluded"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:217,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:215,columnNumber:13},this),o(W,{children:[t`artSetConfig.4rainbow`," ",o(ce,{color:N?"success":"secondary",children:[N?o(Zt,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:230,columnNumber:19},this):o(oi,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:232,columnNumber:19},this)," ",N?t("artSetConfig.allowed"):"Excluded"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:228,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:226,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:194,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:190,columnNumber:9},this),o(Y,{onClick:m,disabled:e,color:"info",sx:{borderRadius:0,flexShrink:1,minWidth:40},children:o(Op,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:245,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:239,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:189,columnNumber:7},this),o(bt,{open:u,onClose:p,children:o(H,{children:[o(ae,{sx:{display:"flex",gap:1},children:[o(W,{variant:"h6",children:t`artSetConfig.title`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:253,columnNumber:13},this),o(Le,{onClick:p,sx:{ml:"auto"},children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:255,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:254,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:252,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:258,columnNumber:11},this),o(ae,{children:[o(H,{bgt:"light",sx:{mb:1},children:o(ae,{children:[o(M,{display:"flex",gap:1,children:[o(W,{children:o("strong",{children:t`artSetConfig.modal.setCond.title`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:264,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:263,columnNumber:19},this),o(W,{sx:{flexGrow:1},children:o(ce,{color:v?"success":"warning",children:[v," ",t("artSetConfig.selected")]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:267,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:266,columnNumber:19},this),o(Y,{size:"small",onClick:T,color:"error",startIcon:o(Xy,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:275,columnNumber:32},this),children:t`artSetConfig.modal.setCond.reset`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:271,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:262,columnNumber:17},this),o(W,{children:t`artSetConfig.modal.setCond.text`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:278,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:261,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:260,columnNumber:13},this),o(H,{bgt:"light",sx:{mb:1},children:o(ae,{children:[o(W,{sx:{flexGrow:1},children:o("strong",{children:o(Oe,{t,i18nKey:"artSetConfig.modal.ArtSetFilter.title",children:["Artifact Sets ",o(Ee,{color:"success",children:["Allowed",o(Zt,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:292,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:290,columnNumber:23},this)," / ",o(Ee,{color:"secondary",variant:"light",children:["Excluded",o(oi,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:297,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:295,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:285,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:284,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:283,columnNumber:17},this),o(W,{children:o(Oe,{t,i18nKey:"artSetConfig.modal.ArtSetFilter.intro",children:["You can allow/exclude which sets you want the builder to consider. In the following examples, ",o("strong",{children:"A"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:305,columnNumber:58},this)," is on-set, and ",o("strong",{children:"R"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:306,columnNumber:33},this)," is rainbow(off-set)"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:303,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:302,columnNumber:17},this),o(W,{children:o(Oe,{t,i18nKey:"artSetConfig.modal.ArtSetFilter.2set",children:[o("strong",{children:o(Ee,{color:"secondary",variant:"light",children:["Excluding",o(oi,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:314,columnNumber:25},this)," 2-Set"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:312,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:311,columnNumber:21},this),"would exclude 2-Set builds:",o("strong",{children:[o(Ee,{color:"secondary",variant:"light",children:"AA"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:319,columnNumber:23},this),"RRR"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:318,columnNumber:21},this),"and",o("strong",{children:[o(Ee,{color:"secondary",variant:"light",children:"AAA"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:326,columnNumber:23},this),"RR"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:325,columnNumber:21},this),"."]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:310,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:309,columnNumber:17},this),o(W,{children:o(Oe,{t,i18nKey:"artSetConfig.modal.ArtSetFilter.4set",children:[o("strong",{children:o(Ee,{color:"secondary",variant:"light",children:["Excluding",o(oi,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:339,columnNumber:25},this)," 4-Set"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:337,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:336,columnNumber:21},this),"would exclude 4-Set builds:",o("strong",{children:[o(Ee,{color:"secondary",variant:"light",children:"AAAA"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:344,columnNumber:23},this),"R"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:343,columnNumber:21},this),"and",o("strong",{children:o(Ee,{color:"secondary",variant:"light",children:"AAAAA"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:351,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:350,columnNumber:21},this),"."]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:335,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:334,columnNumber:17},this),o(W,{children:o(Oe,{t,i18nKey:"artSetConfig.modal.ArtSetFilter.2rain",children:[o("strong",{children:o(Ee,{color:"secondary",variant:"light",children:["Excluding",o(oi,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:363,columnNumber:25},this)," 3-Rainbow"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:361,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:360,columnNumber:21},this),"would exclude 2-Set + 3-Rainbow builds:",o("strong",{children:["AA",o(Ee,{color:"secondary",variant:"light",children:"RRR"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:369,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:367,columnNumber:21},this),"and",o("strong",{children:["AAA",o(Ee,{color:"secondary",variant:"light",children:"RR"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:376,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:374,columnNumber:21},this),"."]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:359,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:358,columnNumber:17},this),o(W,{children:o(Oe,{t,i18nKey:"artSetConfig.modal.ArtSetFilter.4rain",children:[o("strong",{children:o(Ee,{color:"secondary",variant:"light",children:["Excluding",o(oi,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:388,columnNumber:25},this)," 5-Rainbow"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:386,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:385,columnNumber:21},this),"would exclude full 5-Rainbow builds:",o("strong",{children:o(Ee,{color:"secondary",variant:"light",children:"RRRRR"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:393,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:392,columnNumber:21},this),"."]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:384,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:383,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:282,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:281,columnNumber:13},this),o(I,{container:!0,columns:{xs:2,lg:3},sx:{mb:1},spacing:1,children:[o(I,{item:!0,xs:1,children:o(zh,{allowTotal:d[2],setNum:2,setAllExclusion:S},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:409,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:408,columnNumber:15},this),o(I,{item:!0,xs:1,children:o(zh,{allowTotal:d[4],setNum:4,setAllExclusion:S},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:416,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:415,columnNumber:15},this),o(I,{item:!0,xs:1,children:o(H,{bgt:"light",children:o(ae,{children:[o(W,{gutterBottom:!0,children:o("strong",{children:o(Oe,{t,i18nKey:"artSetConfig.alExRainbow",children:[o(Ee,{color:"success",children:["Allow ",o(Zt,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:429,columnNumber:35},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:428,columnNumber:27},this)," / ",o(Ee,{color:"secondary",variant:"light",children:["Exclude ",o(oi,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:433,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:432,columnNumber:27},this)," Rainbow Builds"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:427,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:426,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:425,columnNumber:21},this),o(M,{sx:{display:"flex",flexDirection:"column",gap:1},children:[o(Y,{fullWidth:!0,onClick:()=>r.optConfigs.set(n,{artSetExclusion:ah(l,"rainbow",2)}),color:C?"success":"secondary",startIcon:C?o(ss,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:458,columnNumber:29},this):o(ns,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:456,columnNumber:29},this),endIcon:C?o(Zt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:462,columnNumber:43},this):o(oi,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:462,columnNumber:63},this),children:t`artSetConfig.2rainbow`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:442,columnNumber:23},this),o(Y,{fullWidth:!0,onClick:()=>r.optConfigs.set(n,{artSetExclusion:ah(l,"rainbow",4)}),color:N?"success":"secondary",startIcon:N?o(ss,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:481,columnNumber:29},this):o(ns,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:479,columnNumber:29},this),endIcon:N?o(Zt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:485,columnNumber:43},this):o(oi,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:485,columnNumber:63},this),children:t`artSetConfig.4rainbow`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:465,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:439,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:424,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:423,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:422,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:402,columnNumber:13},this),o(I,{container:!0,spacing:1,columns:{xs:2,lg:3},children:h.map(A=>o(EO,{setKey:A,fakeDataContextObj:k,slotCount:y[A]},A,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:495,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:493,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:259,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:251,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:250,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:187,columnNumber:5},this)}function zh({allowTotal:e,setNum:t,setAllExclusion:i}){const{t:r}=pe(["page_character_optimize","sheet"]);return o(H,{bgt:"light",children:o(ae,{children:[o(W,{gutterBottom:!0,children:[o("strong",{children:r(`sheet:${t}set`)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:523,columnNumber:11},this)," ",o(ce,{color:"success",children:[e," ",o(Zt,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:525,columnNumber:26},this)," ",r("artSetConfig.allowed")]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:524,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:522,columnNumber:9},this),o(M,{sx:{display:"flex",flexDirection:"column",gap:1},children:[o(Y,{fullWidth:!0,disabled:e.charAt(0)!=="0"&&e.indexOf("/")===-1,onClick:()=>i(t,!1),color:"success",startIcon:o(Zt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:537,columnNumber:24},this),children:r(`artSetConfig.allowAll${t}set`)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:530,columnNumber:11},this),o(Y,{fullWidth:!0,disabled:e.charAt(0)==="0",onClick:()=>i(t,!0),color:"secondary",startIcon:o(oi,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:546,columnNumber:24},this),children:r(`artSetConfig.excludeAll${t}set`)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:541,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:529,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:521,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:520,columnNumber:5},this)}function EO({setKey:e,fakeDataContextObj:t,slotCount:i}){const{t:r}=pe("sheet"),{teamChar:{optConfigId:a}}=x.useContext(Se),{artSetExclusion:n}=yi(a),s=(n==null?void 0:n[e])??[],l=!s.includes(4),u=Sc(i),c=Ma(e),m=c1(e),p=x.useMemo(()=>l?Object.keys(c.setEffects).filter(f=>{var b;return(b=c.setEffects[f])==null?void 0:b.document.some(g=>"states"in g)}):[],[c.setEffects,l]);return o(I,{item:!0,xs:1,children:o(H,{bgt:"light",sx:{height:"100%",opacity:u<2?"50%":void 0},children:[o(M,{className:`grad-${Math.max(...m.rarities)}star`,width:"100%",sx:{display:"flex"},children:[o(M,{component:"img",src:Yy(e),sx:{height:100,width:"auto",mx:-1}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:592,columnNumber:11},this),o(M,{sx:{flexGrow:1,px:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:[o(W,{variant:"h6",children:o(El,{setKey:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:607,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:606,columnNumber:13},this),o(M,{children:o(W,{variant:"subtitle1",display:"flex",gap:1,alignItems:"center",children:[m.rarities.filter(f=>f>=3).map(f=>o(M,{component:"span",sx:{display:"inline-flex",alignItems:"center"},children:[f," ",o(Cc,{fontSize:"inherit"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:625,columnNumber:28},this)]},f,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:620,columnNumber:21},this)),o(bp,{title:o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:300,height:200},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:632,columnNumber:25},this),children:o(M,{children:[o(W,{children:o(ce,{color:"success",children:r`2set`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:641,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:640,columnNumber:25},this),o(W,{children:o(nh,{ns:`artifact_${e}_gen`,key18:"setEffects.2"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:644,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:643,columnNumber:25},this),o(M,{paddingTop:2,sx:{opacity:s.includes(4)?.6:1},children:[o(W,{children:o(ce,{color:"success",children:r`4set`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:656,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:655,columnNumber:27},this),o(W,{children:o(nh,{ns:`artifact_${e}_gen`,key18:"setEffects.4"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:659,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:658,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:649,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:639,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:630,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:628,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:611,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:609,columnNumber:13},this),o(M,{sx:{display:"flex",gap:1},children:Object.entries(i).map(([f,b])=>o(W,{sx:{flexGrow:1},variant:"subtitle2",children:o(ce,{sx:{width:"100%"},color:b?"primary":"secondary",children:[o(Us,{slotKey:f,iconProps:qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:682,columnNumber:21},this)," ",b]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:678,columnNumber:19},this)},f,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:673,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:671,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:597,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:587,columnNumber:9},this),m1.includes(e)&&o(p1,{setKey:e,buttonGroupSx:{".MuiButton-root":{borderRadius:0}}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:691,columnNumber:11},this),!!p.length&&o(he.Provider,{value:t,children:o(ae,{sx:{display:"flex",flexDirection:"column",gap:2},children:p.map(f=>o(_p,{setKey:e,setNumKey:parseInt(f),hideHeader:!0,conditionalsOnly:!0},f,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:703,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:699,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:698,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:583,columnNumber:7},this)},e,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ArtifactSetConfig.tsx",lineNumber:582,columnNumber:5},this)}function Sc(e){return Object.values(e).reduce((t,i)=>t+(i?1:0),0)}const MO=[0,4,8,12,16,20];function PO({mainStatAssumptionLevel:e=0,setmainStatAssumptionLevel:t,disabled:i}){const{t:r}=pe("page_character_optimize");return o(dt,{fullWidth:!0,color:e?"success":"primary",disabled:i,title:e?r("mainStat.assumptionLvl.lvl",{lvl:e}):r("mainStat.assumptionLvl.no"),children:MO.map(a=>o(Pe,{onClick:()=>t(a),children:a?r("mainStat.assumptionLvl.lvl",{lvl:a}):r("mainStat.assumptionLvl.no")},a,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/AssumeFullLevelToggle.tsx",lineNumber:24,columnNumber:9},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/AssumeFullLevelToggle.tsx",lineNumber:13,columnNumber:5},this)}function sC(){const{t:e}=pe("page_character_optimize"),{teamChar:{bonusStats:t}}=x.useContext(Se),{data:i}=x.useContext(he),r=Object.keys(t);if(!r.length)return null;const a=r.map(n=>i.get(et.customBonus[n]));return o(H,{bgt:"light",children:[o(ae,{children:o(W,{sx:{fontWeight:"bold"},children:e`bonusStats.title`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BonusStatsCard.tsx",lineNumber:28,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BonusStatsCard.tsx",lineNumber:27,columnNumber:7},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BonusStatsCard.tsx",lineNumber:32,columnNumber:7},this),o(Ia,{bgt:"light",children:a.map(n=>o(Es,{calcRes:n},JSON.stringify(n.info),!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BonusStatsCard.tsx",lineNumber:35,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BonusStatsCard.tsx",lineNumber:33,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BonusStatsCard.tsx",lineNumber:26,columnNumber:5},this)}const no=it("strong")({fontFamily:"monospace"}),$O=it(f1)(()=>({height:10,borderRadius:5}));function IO({status:{type:e,tested:t,failed:i,skipped:r,total:a,startTime:n,finishTime:s},characterName:l}){const u=isFinite(a),c=e!=="inactive",m=a-r,p=o(no,{children:t.toLocaleString()},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:36,columnNumber:24},this),f=o(no,{children:m.toLocaleString()},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:37,columnNumber:27},this),b=!!r&&o("span",{children:["(",o("b",{children:o(no,{children:r.toLocaleString()},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:40,columnNumber:12},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:40,columnNumber:8},this)," skipped)"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:39,columnNumber:5},this),g=o(no,{children:h1(Math.round((s??performance.now())-(n??NaN)))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:45,columnNumber:5},this),h="success";let y="",C="",N;if(c)N=t*100/m,y=o(W,{children:["Generating and testing ",p,u?o(Ce,{children:["/",f]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:62,columnNumber:21},this):void 0," build configurations against the criteria for ",o("b",{children:l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:63,columnNumber:34},this),". ",b]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:60,columnNumber:7},this),C=o(W,{children:["Time elapsed: ",g]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:66,columnNumber:16},this);else if(t+r)N=100,y=o(W,{children:["Generated and tested ",p," Build configurations against the criteria for ",o("b",{children:l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:72,columnNumber:22},this),". ",b]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:70,columnNumber:7},this),C=o(W,{children:["Total duration: ",g]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:75,columnNumber:16},this);else return null;return o(pi,{severity:h,variant:"filled",sx:{"& .MuiAlert-message":{flexGrow:1}},children:[y,C,N!==void 0&&o(I,{container:!0,spacing:1,alignItems:"center",children:[u&&o(I,{item:!0,children:o(W,{children:`${N.toFixed(1)}%`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:96,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:95,columnNumber:13},this),o(I,{item:!0,flexGrow:1,children:o($O,{variant:u?"determinate":"indeterminate",value:N,color:"primary"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:100,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:99,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:93,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/BuildAlert.tsx",lineNumber:81,columnNumber:5},this)}var oC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function i(){for(var r=[],a=0;a<arguments.length;a++){var n=arguments[a];if(n){var s=typeof n;if(s==="string"||s==="number")r.push(n);else if(Array.isArray(n)){if(n.length){var l=i.apply(null,n);l&&r.push(l)}}else if(s==="object"){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){r.push(n.toString());continue}for(var u in n)t.call(n,u)&&n[u]&&r.push(u)}}}return r.join(" ")}e.exports?(i.default=i,e.exports=i):window.classNames=i})()})(oC);var RO=oC.exports;const Ge=Re(RO);function jO(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Dr=jO;const yn=Re(Dr);var BO=typeof eo=="object"&&eo&&eo.Object===Object&&eo,lC=BO,LO=lC,FO=typeof self=="object"&&self&&self.Object===Object&&self,WO=LO||FO||Function("return this")(),Ii=WO,qO=Ii,HO=qO.Symbol,js=HO,Dh=js,uC=Object.prototype,KO=uC.hasOwnProperty,VO=uC.toString,En=Dh?Dh.toStringTag:void 0;function XO(e){var t=KO.call(e,En),i=e[En];try{e[En]=void 0;var r=!0}catch{}var a=VO.call(e);return r&&(t?e[En]=i:delete e[En]),a}var YO=XO,JO=Object.prototype,ZO=JO.toString;function QO(e){return ZO.call(e)}var ez=QO,_h=js,tz=YO,iz=ez,rz="[object Null]",az="[object Undefined]",wh=_h?_h.toStringTag:void 0;function nz(e){return e==null?e===void 0?az:rz:wh&&wh in Object(e)?tz(e):iz(e)}var _r=nz,sz=_r,oz=Dr,lz="[object AsyncFunction]",uz="[object Function]",cz="[object GeneratorFunction]",mz="[object Proxy]";function pz(e){if(!oz(e))return!1;var t=sz(e);return t==uz||t==cz||t==lz||t==mz}var Lp=pz;const me=Re(Lp);var fz=Array.isArray,wt=fz;const Qe=Re(wt);function hz(e){return e!=null&&typeof e=="object"}var wr=hz,dz=_r,gz=wt,bz=wr,yz="[object String]";function vz(e){return typeof e=="string"||!gz(e)&&bz(e)&&dz(e)==yz}var Cz=vz;const Bs=Re(Cz);var Nz=_r,xz=wr,Tz="[object Symbol]";function kz(e){return typeof e=="symbol"||xz(e)&&Nz(e)==Tz}var vn=kz,Sz=wt,Oz=vn,zz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dz=/^\w*$/;function _z(e,t){if(Sz(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||Oz(e)?!0:Dz.test(e)||!zz.test(e)||t!=null&&e in Object(t)}var Fp=_z,wz=Ii,Az=wz["__core-js_shared__"],Uz=Az,Ou=Uz,Ah=function(){var e=/[^.]+$/.exec(Ou&&Ou.keys&&Ou.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Gz(e){return!!Ah&&Ah in e}var Ez=Gz,Mz=Function.prototype,Pz=Mz.toString;function $z(e){if(e!=null){try{return Pz.call(e)}catch{}try{return e+""}catch{}}return""}var cC=$z,Iz=Lp,Rz=Ez,jz=Dr,Bz=cC,Lz=/[\\^$.*+?()[\]{}|]/g,Fz=/^\[object .+?Constructor\]$/,Wz=Function.prototype,qz=Object.prototype,Hz=Wz.toString,Kz=qz.hasOwnProperty,Vz=RegExp("^"+Hz.call(Kz).replace(Lz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xz(e){if(!jz(e)||Rz(e))return!1;var t=Iz(e)?Vz:Fz;return t.test(Bz(e))}var Yz=Xz;function Jz(e,t){return e==null?void 0:e[t]}var Zz=Jz,Qz=Yz,eD=Zz;function tD(e,t){var i=eD(e,t);return Qz(i)?i:void 0}var ma=tD,iD=ma,rD=iD(Object,"create"),Ll=rD,Uh=Ll;function aD(){this.__data__=Uh?Uh(null):{},this.size=0}var nD=aD;function sD(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var oD=sD,lD=Ll,uD="__lodash_hash_undefined__",cD=Object.prototype,mD=cD.hasOwnProperty;function pD(e){var t=this.__data__;if(lD){var i=t[e];return i===uD?void 0:i}return mD.call(t,e)?t[e]:void 0}var fD=pD,hD=Ll,dD=Object.prototype,gD=dD.hasOwnProperty;function bD(e){var t=this.__data__;return hD?t[e]!==void 0:gD.call(t,e)}var yD=bD,vD=Ll,CD="__lodash_hash_undefined__";function ND(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=vD&&t===void 0?CD:t,this}var xD=ND,TD=nD,kD=oD,SD=fD,OD=yD,zD=xD;function Cn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}Cn.prototype.clear=TD;Cn.prototype.delete=kD;Cn.prototype.get=SD;Cn.prototype.has=OD;Cn.prototype.set=zD;var DD=Cn;function _D(){this.__data__=[],this.size=0}var wD=_D;function AD(e,t){return e===t||e!==e&&t!==t}var Wp=AD,UD=Wp;function GD(e,t){for(var i=e.length;i--;)if(UD(e[i][0],t))return i;return-1}var Fl=GD,ED=Fl,MD=Array.prototype,PD=MD.splice;function $D(e){var t=this.__data__,i=ED(t,e);if(i<0)return!1;var r=t.length-1;return i==r?t.pop():PD.call(t,i,1),--this.size,!0}var ID=$D,RD=Fl;function jD(e){var t=this.__data__,i=RD(t,e);return i<0?void 0:t[i][1]}var BD=jD,LD=Fl;function FD(e){return LD(this.__data__,e)>-1}var WD=FD,qD=Fl;function HD(e,t){var i=this.__data__,r=qD(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this}var KD=HD,VD=wD,XD=ID,YD=BD,JD=WD,ZD=KD;function Nn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}Nn.prototype.clear=VD;Nn.prototype.delete=XD;Nn.prototype.get=YD;Nn.prototype.has=JD;Nn.prototype.set=ZD;var Wl=Nn,QD=ma,e_=Ii,t_=QD(e_,"Map"),qp=t_,Gh=DD,i_=Wl,r_=qp;function a_(){this.size=0,this.__data__={hash:new Gh,map:new(r_||i_),string:new Gh}}var n_=a_;function s_(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var o_=s_,l_=o_;function u_(e,t){var i=e.__data__;return l_(t)?i[typeof t=="string"?"string":"hash"]:i.map}var ql=u_,c_=ql;function m_(e){var t=c_(this,e).delete(e);return this.size-=t?1:0,t}var p_=m_,f_=ql;function h_(e){return f_(this,e).get(e)}var d_=h_,g_=ql;function b_(e){return g_(this,e).has(e)}var y_=b_,v_=ql;function C_(e,t){var i=v_(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this}var N_=C_,x_=n_,T_=p_,k_=d_,S_=y_,O_=N_;function xn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}xn.prototype.clear=x_;xn.prototype.delete=T_;xn.prototype.get=k_;xn.prototype.has=S_;xn.prototype.set=O_;var Hp=xn,mC=Hp,z_="Expected a function";function Kp(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(z_);var i=function(){var r=arguments,a=t?t.apply(this,r):r[0],n=i.cache;if(n.has(a))return n.get(a);var s=e.apply(this,r);return i.cache=n.set(a,s)||n,s};return i.cache=new(Kp.Cache||mC),i}Kp.Cache=mC;var D_=Kp,__=D_,w_=500;function A_(e){var t=__(e,function(r){return i.size===w_&&i.clear(),r}),i=t.cache;return t}var U_=A_,G_=U_,E_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,M_=/\\(\\)?/g,P_=G_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(E_,function(i,r,a,n){t.push(a?n.replace(M_,"$1"):r||i)}),t}),$_=P_;function I_(e,t){for(var i=-1,r=e==null?0:e.length,a=Array(r);++i<r;)a[i]=t(e[i],i,e);return a}var Vp=I_,Eh=js,R_=Vp,j_=wt,B_=vn,L_=1/0,Mh=Eh?Eh.prototype:void 0,Ph=Mh?Mh.toString:void 0;function pC(e){if(typeof e=="string")return e;if(j_(e))return R_(e,pC)+"";if(B_(e))return Ph?Ph.call(e):"";var t=e+"";return t=="0"&&1/e==-L_?"-0":t}var F_=pC,W_=F_;function q_(e){return e==null?"":W_(e)}var fC=q_,H_=wt,K_=Fp,V_=$_,X_=fC;function Y_(e,t){return H_(e)?e:K_(e,t)?[e]:V_(X_(e))}var hC=Y_,J_=vn,Z_=1/0;function Q_(e){if(typeof e=="string"||J_(e))return e;var t=e+"";return t=="0"&&1/e==-Z_?"-0":t}var Hl=Q_,ew=hC,tw=Hl;function iw(e,t){t=ew(t,e);for(var i=0,r=t.length;e!=null&&i<r;)e=e[tw(t[i++])];return i&&i==r?e:void 0}var Xp=iw,rw=Xp;function aw(e,t,i){var r=e==null?void 0:rw(e,t);return r===void 0?i:r}var dC=aw;const Ct=Re(dC);function nw(e){return e==null}var sw=nw;const te=Re(sw);var gC={exports:{}},Ue={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,i=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,n=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,b=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,h=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,C=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function d(E){return typeof E=="string"||typeof E=="function"||E===r||E===c||E===n||E===a||E===p||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===b||E.$$typeof===s||E.$$typeof===l||E.$$typeof===m||E.$$typeof===y||E.$$typeof===C||E.$$typeof===N||E.$$typeof===h)}function v(E){if(typeof E=="object"&&E!==null){var ge=E.$$typeof;switch(ge){case t:var ue=E.type;switch(ue){case u:case c:case r:case n:case a:case p:return ue;default:var re=ue&&ue.$$typeof;switch(re){case l:case m:case g:case b:case s:return re;default:return ge}}case i:return ge}}}var k=u,T=c,S=l,O=s,_=t,A=m,z=r,D=g,U=b,P=i,$=n,B=a,q=p,j=!1;function F(E){return j||(j=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),K(E)||v(E)===u}function K(E){return v(E)===c}function J(E){return v(E)===l}function V(E){return v(E)===s}function Q(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function se(E){return v(E)===m}function de(E){return v(E)===r}function ye(E){return v(E)===g}function ne(E){return v(E)===b}function ie(E){return v(E)===i}function R(E){return v(E)===n}function Z(E){return v(E)===a}function le(E){return v(E)===p}Ue.AsyncMode=k,Ue.ConcurrentMode=T,Ue.ContextConsumer=S,Ue.ContextProvider=O,Ue.Element=_,Ue.ForwardRef=A,Ue.Fragment=z,Ue.Lazy=D,Ue.Memo=U,Ue.Portal=P,Ue.Profiler=$,Ue.StrictMode=B,Ue.Suspense=q,Ue.isAsyncMode=F,Ue.isConcurrentMode=K,Ue.isContextConsumer=J,Ue.isContextProvider=V,Ue.isElement=Q,Ue.isForwardRef=se,Ue.isFragment=de,Ue.isLazy=ye,Ue.isMemo=ne,Ue.isPortal=ie,Ue.isProfiler=R,Ue.isStrictMode=Z,Ue.isSuspense=le,Ue.isValidElementType=d,Ue.typeOf=v})();gC.exports=Ue;var ow=gC.exports,lw=_r,uw=wr,cw="[object Number]";function mw(e){return typeof e=="number"||uw(e)&&lw(e)==cw}var bC=mw;const pw=Re(bC);var fw=bC;function hw(e){return fw(e)&&e!=+e}var dw=hw;const Ls=Re(dw);var Qt=function(t){return t===0?0:t>0?1:-1},Yr=function(t){return Bs(t)&&t.indexOf("%")===t.length-1},X=function(t){return pw(t)&&!Ls(t)},nt=function(t){return X(t)||Bs(t)},gw=0,pa=function(t){var i=++gw;return"".concat(t||"").concat(i)},ja=function(t,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!X(t)&&!Bs(t))return r;var n;if(Yr(t)){var s=t.indexOf("%");n=i*parseFloat(t.slice(0,s))/100}else n=+t;return Ls(n)&&(n=r),a&&n>i&&(n=i),n},ur=function(t){if(!t)return null;var i=Object.keys(t);return i&&i.length?t[i[0]]:null},bw=function(t){if(!Qe(t))return!1;for(var i=t.length,r={},a=0;a<i;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},Xe=function(t,i){return X(t)&&X(i)?function(r){return t+r*(i-t)}:function(){return i}};function Ao(e,t,i){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Ct(r,t))===i})}var yw=function(t){if(!t||!t.length)return null;for(var i=t.length,r=0,a=0,n=0,s=0,l=1/0,u=-1/0,c=0,m=0,p=0;p<i;p++)c=t[p].cx||0,m=t[p].cy||0,r+=c,a+=m,n+=c*m,s+=c*c,l=Math.min(l,c),u=Math.max(u,c);var f=i*s!==r*r?(i*n-r*a)/(i*s-r*r):0;return{xmin:l,xmax:u,a:f,b:(a-f*r)/i}};function wa(e,t){for(var i in e)if({}.hasOwnProperty.call(e,i)&&(!{}.hasOwnProperty.call(t,i)||e[i]!==t[i]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}var vw=["viewBox","children"],Cw=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$h=["points","pathLength"],zu={svg:vw,polygon:$h,polyline:$h},Yp=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Uo=function(t,i){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),!yn(r))return null;var a={};return Object.keys(r).forEach(function(n){Yp.includes(n)&&(a[n]=i||function(s){return r[n](r,s)})}),a},Nw=function(t,i,r){return function(a){return t(i,r,a),null}},ls=function(t,i,r){if(!yn(t)||Oc(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(n){var s=t[n];Yp.includes(n)&&typeof s=="function"&&(a||(a={}),a[n]=Nw(s,i,r))}),a},xw=["children"],Tw=["children"];function Ih(e,t){if(e==null)return{};var i=kw(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kw(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}var Rh={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Cr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},jh=null,Du=null,Jp=function e(t){if(t===jh&&Qe(Du))return Du;var i=[];return x.Children.forEach(t,function(r){te(r)||(ow.isFragment(r)?i=i.concat(e(r.props.children)):i.push(r))}),Du=i,jh=t,i};function Pt(e,t){var i=[],r=[];return Qe(t)?r=t.map(function(a){return Cr(a)}):r=[Cr(t)],Jp(e).forEach(function(a){var n=Ct(a,"type.displayName")||Ct(a,"type.name");r.indexOf(n)!==-1&&i.push(a)}),i}function qi(e,t){var i=Pt(e,t);return i&&i[0]}var Bh=function(t){if(!t||!t.props)return!1;var i=t.props,r=i.width,a=i.height;return!(!X(r)||r<=0||!X(a)||a<=0)},Sw=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ow=function(t){return t&&t.type&&Bs(t.type)&&Sw.indexOf(t.type)>=0},zw=function(t,i,r,a){var n,s=(n=zu==null?void 0:zu[a])!==null&&n!==void 0?n:[];return!me(t)&&(a&&s.includes(i)||Cw.includes(i))||r&&Yp.includes(i)},ve=function(t,i,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!yn(a))return null;var n={};return Object.keys(a).forEach(function(s){var l;zw((l=a)===null||l===void 0?void 0:l[s],s,i,r)&&(n[s]=a[s])}),n},yC=function e(t,i){if(t===i)return!0;var r=x.Children.count(t);if(r!==x.Children.count(i))return!1;if(r===0)return!0;if(r===1)return Lh(Qe(t)?t[0]:t,Qe(i)?i[0]:i);for(var a=0;a<r;a++){var n=t[a],s=i[a];if(Qe(n)||Qe(s)){if(!e(n,s))return!1}else if(!Lh(n,s))return!1}return!0},Lh=function(t,i){if(te(t)&&te(i))return!0;if(!te(t)&&!te(i)){var r=t.props||{},a=r.children,n=Ih(r,xw),s=i.props||{},l=s.children,u=Ih(s,Tw);return a&&l?wa(n,u)&&yC(a,l):!a&&!l?wa(n,u):!1}return!1},Fh=function(t,i){var r=[],a={};return Jp(t).forEach(function(n,s){if(Ow(n))r.push(n);else if(n){var l=Cr(n.type),u=i[l]||{},c=u.handler,m=u.once;if(c&&(!m||!a[l])){var p=c(n,l,s);r.push(p),a[l]=!0}}}),r},Dw=function(t){var i=t&&t.type;return i&&Rh[i]?Rh[i]:null},_w=function(t,i){return Jp(i).indexOf(t)},ww=["children","width","height","viewBox","className","style"];function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},zc.apply(this,arguments)}function Aw(e,t){if(e==null)return{};var i=Uw(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uw(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function Dc(e){var t=e.children,i=e.width,r=e.height,a=e.viewBox,n=e.className,s=e.style,l=Aw(e,ww),u=a||{width:i,height:r,x:0,y:0},c=Ge("recharts-surface",n);return G.createElement("svg",zc({},ve(l,!0,"svg"),{className:c,width:i,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),G.createElement("title",null,e.title),G.createElement("desc",null,e.desc),t)}var Gw=["children","className"];function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},_c.apply(this,arguments)}function Ew(e,t){if(e==null)return{};var i=Mw(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Mw(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}var Ae=G.forwardRef(function(e,t){var i=e.children,r=e.className,a=Ew(e,Gw),n=Ge("recharts-layer",r);return G.createElement("g",_c({className:n},ve(a,!0),{ref:t}),i)}),Pw=Wl;function $w(){this.__data__=new Pw,this.size=0}var Iw=$w;function Rw(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}var jw=Rw;function Bw(e){return this.__data__.get(e)}var Lw=Bw;function Fw(e){return this.__data__.has(e)}var Ww=Fw,qw=Wl,Hw=qp,Kw=Hp,Vw=200;function Xw(e,t){var i=this.__data__;if(i instanceof qw){var r=i.__data__;if(!Hw||r.length<Vw-1)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new Kw(r)}return i.set(e,t),this.size=i.size,this}var Yw=Xw,Jw=Wl,Zw=Iw,Qw=jw,eA=Lw,tA=Ww,iA=Yw;function Tn(e){var t=this.__data__=new Jw(e);this.size=t.size}Tn.prototype.clear=Zw;Tn.prototype.delete=Qw;Tn.prototype.get=eA;Tn.prototype.has=tA;Tn.prototype.set=iA;var vC=Tn,rA="__lodash_hash_undefined__";function aA(e){return this.__data__.set(e,rA),this}var nA=aA;function sA(e){return this.__data__.has(e)}var oA=sA,lA=Hp,uA=nA,cA=oA;function Go(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new lA;++t<i;)this.add(e[t])}Go.prototype.add=Go.prototype.push=uA;Go.prototype.has=cA;var CC=Go;function mA(e,t){for(var i=-1,r=e==null?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}var NC=mA;function pA(e,t){return e.has(t)}var xC=pA,fA=CC,hA=NC,dA=xC,gA=1,bA=2;function yA(e,t,i,r,a,n){var s=i&gA,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=n.get(e),m=n.get(t);if(c&&m)return c==t&&m==e;var p=-1,f=!0,b=i&bA?new fA:void 0;for(n.set(e,t),n.set(t,e);++p<l;){var g=e[p],h=t[p];if(r)var y=s?r(h,g,p,t,e,n):r(g,h,p,e,t,n);if(y!==void 0){if(y)continue;f=!1;break}if(b){if(!hA(t,function(C,N){if(!dA(b,N)&&(g===C||a(g,C,i,r,n)))return b.push(N)})){f=!1;break}}else if(!(g===h||a(g,h,i,r,n))){f=!1;break}}return n.delete(e),n.delete(t),f}var TC=yA,vA=Ii,CA=vA.Uint8Array,NA=CA;function xA(e){var t=-1,i=Array(e.size);return e.forEach(function(r,a){i[++t]=[a,r]}),i}var TA=xA;function kA(e){var t=-1,i=Array(e.size);return e.forEach(function(r){i[++t]=r}),i}var Zp=kA,Wh=js,qh=NA,SA=Wp,OA=TC,zA=TA,DA=Zp,_A=1,wA=2,AA="[object Boolean]",UA="[object Date]",GA="[object Error]",EA="[object Map]",MA="[object Number]",PA="[object RegExp]",$A="[object Set]",IA="[object String]",RA="[object Symbol]",jA="[object ArrayBuffer]",BA="[object DataView]",Hh=Wh?Wh.prototype:void 0,_u=Hh?Hh.valueOf:void 0;function LA(e,t,i,r,a,n,s){switch(i){case BA:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jA:return!(e.byteLength!=t.byteLength||!n(new qh(e),new qh(t)));case AA:case UA:case MA:return SA(+e,+t);case GA:return e.name==t.name&&e.message==t.message;case PA:case IA:return e==t+"";case EA:var l=zA;case $A:var u=r&_A;if(l||(l=DA),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=wA,s.set(e,t);var m=OA(l(e),l(t),r,a,n,s);return s.delete(e),m;case RA:if(_u)return _u.call(e)==_u.call(t)}return!1}var FA=LA;function WA(e,t){for(var i=-1,r=t.length,a=e.length;++i<r;)e[a+i]=t[i];return e}var kC=WA,qA=kC,HA=wt;function KA(e,t,i){var r=t(e);return HA(e)?r:qA(r,i(e))}var VA=KA;function XA(e,t){for(var i=-1,r=e==null?0:e.length,a=0,n=[];++i<r;){var s=e[i];t(s,i,e)&&(n[a++]=s)}return n}var YA=XA;function JA(){return[]}var ZA=JA,QA=YA,eU=ZA,tU=Object.prototype,iU=tU.propertyIsEnumerable,Kh=Object.getOwnPropertySymbols,rU=Kh?function(e){return e==null?[]:(e=Object(e),QA(Kh(e),function(t){return iU.call(e,t)}))}:eU,aU=rU;function nU(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}var sU=nU,oU=_r,lU=wr,uU="[object Arguments]";function cU(e){return lU(e)&&oU(e)==uU}var mU=cU,Vh=mU,pU=wr,SC=Object.prototype,fU=SC.hasOwnProperty,hU=SC.propertyIsEnumerable,dU=Vh(function(){return arguments}())?Vh:function(e){return pU(e)&&fU.call(e,"callee")&&!hU.call(e,"callee")},Qp=dU,Eo={exports:{}};function gU(){return!1}var bU=gU;Eo.exports;(function(e,t){var i=Ii,r=bU,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,s=n&&n.exports===a,l=s?i.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||r;e.exports=c})(Eo,Eo.exports);var OC=Eo.exports,yU=9007199254740991,vU=/^(?:0|[1-9]\d*)$/;function CU(e,t){var i=typeof e;return t=t??yU,!!t&&(i=="number"||i!="symbol"&&vU.test(e))&&e>-1&&e%1==0&&e<t}var ef=CU,NU=9007199254740991;function xU(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=NU}var tf=xU,TU=_r,kU=tf,SU=wr,OU="[object Arguments]",zU="[object Array]",DU="[object Boolean]",_U="[object Date]",wU="[object Error]",AU="[object Function]",UU="[object Map]",GU="[object Number]",EU="[object Object]",MU="[object RegExp]",PU="[object Set]",$U="[object String]",IU="[object WeakMap]",RU="[object ArrayBuffer]",jU="[object DataView]",BU="[object Float32Array]",LU="[object Float64Array]",FU="[object Int8Array]",WU="[object Int16Array]",qU="[object Int32Array]",HU="[object Uint8Array]",KU="[object Uint8ClampedArray]",VU="[object Uint16Array]",XU="[object Uint32Array]",je={};je[BU]=je[LU]=je[FU]=je[WU]=je[qU]=je[HU]=je[KU]=je[VU]=je[XU]=!0;je[OU]=je[zU]=je[RU]=je[DU]=je[jU]=je[_U]=je[wU]=je[AU]=je[UU]=je[GU]=je[EU]=je[MU]=je[PU]=je[$U]=je[IU]=!1;function YU(e){return SU(e)&&kU(e.length)&&!!je[TU(e)]}var JU=YU;function ZU(e){return function(t){return e(t)}}var zC=ZU,Mo={exports:{}};Mo.exports;(function(e,t){var i=lC,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,n=a&&a.exports===r,s=n&&i.process,l=function(){try{var u=a&&a.require&&a.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(Mo,Mo.exports);var QU=Mo.exports,e2=JU,t2=zC,Xh=QU,Yh=Xh&&Xh.isTypedArray,i2=Yh?t2(Yh):e2,DC=i2,r2=sU,a2=Qp,n2=wt,s2=OC,o2=ef,l2=DC,u2=Object.prototype,c2=u2.hasOwnProperty;function m2(e,t){var i=n2(e),r=!i&&a2(e),a=!i&&!r&&s2(e),n=!i&&!r&&!a&&l2(e),s=i||r||a||n,l=s?r2(e.length,String):[],u=l.length;for(var c in e)(t||c2.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||n&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||o2(c,u)))&&l.push(c);return l}var p2=m2,f2=Object.prototype;function h2(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||f2;return e===i}var d2=h2;function g2(e,t){return function(i){return e(t(i))}}var b2=g2,y2=b2,v2=y2(Object.keys,Object),C2=v2,N2=d2,x2=C2,T2=Object.prototype,k2=T2.hasOwnProperty;function S2(e){if(!N2(e))return x2(e);var t=[];for(var i in Object(e))k2.call(e,i)&&i!="constructor"&&t.push(i);return t}var O2=S2,z2=Lp,D2=tf;function _2(e){return e!=null&&D2(e.length)&&!z2(e)}var Fs=_2,w2=p2,A2=O2,U2=Fs;function G2(e){return U2(e)?w2(e):A2(e)}var Kl=G2,E2=VA,M2=aU,P2=Kl;function $2(e){return E2(e,P2,M2)}var I2=$2,Jh=I2,R2=1,j2=Object.prototype,B2=j2.hasOwnProperty;function L2(e,t,i,r,a,n){var s=i&R2,l=Jh(e),u=l.length,c=Jh(t),m=c.length;if(u!=m&&!s)return!1;for(var p=u;p--;){var f=l[p];if(!(s?f in t:B2.call(t,f)))return!1}var b=n.get(e),g=n.get(t);if(b&&g)return b==t&&g==e;var h=!0;n.set(e,t),n.set(t,e);for(var y=s;++p<u;){f=l[p];var C=e[f],N=t[f];if(r)var d=s?r(N,C,f,t,e,n):r(C,N,f,e,t,n);if(!(d===void 0?C===N||a(C,N,i,r,n):d)){h=!1;break}y||(y=f=="constructor")}if(h&&!y){var v=e.constructor,k=t.constructor;v!=k&&"constructor"in e&&"constructor"in t&&!(typeof v=="function"&&v instanceof v&&typeof k=="function"&&k instanceof k)&&(h=!1)}return n.delete(e),n.delete(t),h}var F2=L2,W2=ma,q2=Ii,H2=W2(q2,"DataView"),K2=H2,V2=ma,X2=Ii,Y2=V2(X2,"Promise"),J2=Y2,Z2=ma,Q2=Ii,eG=Z2(Q2,"Set"),_C=eG,tG=ma,iG=Ii,rG=tG(iG,"WeakMap"),aG=rG,wc=K2,Ac=qp,Uc=J2,Gc=_C,Ec=aG,wC=_r,kn=cC,Zh="[object Map]",nG="[object Object]",Qh="[object Promise]",ed="[object Set]",td="[object WeakMap]",id="[object DataView]",sG=kn(wc),oG=kn(Ac),lG=kn(Uc),uG=kn(Gc),cG=kn(Ec),Lr=wC;(wc&&Lr(new wc(new ArrayBuffer(1)))!=id||Ac&&Lr(new Ac)!=Zh||Uc&&Lr(Uc.resolve())!=Qh||Gc&&Lr(new Gc)!=ed||Ec&&Lr(new Ec)!=td)&&(Lr=function(e){var t=wC(e),i=t==nG?e.constructor:void 0,r=i?kn(i):"";if(r)switch(r){case sG:return id;case oG:return Zh;case lG:return Qh;case uG:return ed;case cG:return td}return t});var mG=Lr,wu=vC,pG=TC,fG=FA,hG=F2,rd=mG,ad=wt,nd=OC,dG=DC,gG=1,sd="[object Arguments]",od="[object Array]",so="[object Object]",bG=Object.prototype,ld=bG.hasOwnProperty;function yG(e,t,i,r,a,n){var s=ad(e),l=ad(t),u=s?od:rd(e),c=l?od:rd(t);u=u==sd?so:u,c=c==sd?so:c;var m=u==so,p=c==so,f=u==c;if(f&&nd(e)){if(!nd(t))return!1;s=!0,m=!1}if(f&&!m)return n||(n=new wu),s||dG(e)?pG(e,t,i,r,a,n):fG(e,t,u,i,r,a,n);if(!(i&gG)){var b=m&&ld.call(e,"__wrapped__"),g=p&&ld.call(t,"__wrapped__");if(b||g){var h=b?e.value():e,y=g?t.value():t;return n||(n=new wu),a(h,y,i,r,n)}}return f?(n||(n=new wu),hG(e,t,i,r,a,n)):!1}var vG=yG,CG=vG,ud=wr;function AC(e,t,i,r,a){return e===t?!0:e==null||t==null||!ud(e)&&!ud(t)?e!==e&&t!==t:CG(e,t,i,r,AC,a)}var rf=AC,NG=vC,xG=rf,TG=1,kG=2;function SG(e,t,i,r){var a=i.length,n=a,s=!r;if(e==null)return!n;for(e=Object(e);a--;){var l=i[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<n;){l=i[a];var u=l[0],c=e[u],m=l[1];if(s&&l[2]){if(c===void 0&&!(u in e))return!1}else{var p=new NG;if(r)var f=r(c,m,u,e,t,p);if(!(f===void 0?xG(m,c,TG|kG,r,p):f))return!1}}return!0}var OG=SG,zG=Dr;function DG(e){return e===e&&!zG(e)}var UC=DG,_G=UC,wG=Kl;function AG(e){for(var t=wG(e),i=t.length;i--;){var r=t[i],a=e[r];t[i]=[r,a,_G(a)]}return t}var UG=AG;function GG(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}var GC=GG,EG=OG,MG=UG,PG=GC;function $G(e){var t=MG(e);return t.length==1&&t[0][2]?PG(t[0][0],t[0][1]):function(i){return i===e||EG(i,e,t)}}var IG=$G;function RG(e,t){return e!=null&&t in Object(e)}var jG=RG,BG=hC,LG=Qp,FG=wt,WG=ef,qG=tf,HG=Hl;function KG(e,t,i){t=BG(t,e);for(var r=-1,a=t.length,n=!1;++r<a;){var s=HG(t[r]);if(!(n=e!=null&&i(e,s)))break;e=e[s]}return n||++r!=a?n:(a=e==null?0:e.length,!!a&&qG(a)&&WG(s,a)&&(FG(e)||LG(e)))}var VG=KG,XG=jG,YG=VG;function JG(e,t){return e!=null&&YG(e,t,XG)}var ZG=JG,QG=rf,eE=dC,tE=ZG,iE=Fp,rE=UC,aE=GC,nE=Hl,sE=1,oE=2;function lE(e,t){return iE(e)&&rE(t)?aE(nE(e),t):function(i){var r=eE(i,e);return r===void 0&&r===t?tE(i,e):QG(t,r,sE|oE)}}var uE=lE;function cE(e){return e}var Sn=cE;function mE(e){return function(t){return t==null?void 0:t[e]}}var pE=mE,fE=Xp;function hE(e){return function(t){return fE(t,e)}}var dE=hE,gE=pE,bE=dE,yE=Fp,vE=Hl;function CE(e){return yE(e)?gE(vE(e)):bE(e)}var NE=CE,xE=IG,TE=uE,kE=Sn,SE=wt,OE=NE;function zE(e){return typeof e=="function"?e:e==null?kE:typeof e=="object"?SE(e)?TE(e[0],e[1]):xE(e):OE(e)}var Ar=zE;function DE(e,t,i,r){for(var a=e.length,n=i+(r?1:-1);r?n--:++n<a;)if(t(e[n],n,e))return n;return-1}var EC=DE;function _E(e){return e!==e}var wE=_E;function AE(e,t,i){for(var r=i-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var UE=AE,GE=EC,EE=wE,ME=UE;function PE(e,t,i){return t===t?ME(e,t,i):GE(e,EE,i)}var $E=PE,IE=$E;function RE(e,t){var i=e==null?0:e.length;return!!i&&IE(e,t,0)>-1}var jE=RE;function BE(e,t,i){for(var r=-1,a=e==null?0:e.length;++r<a;)if(i(t,e[r]))return!0;return!1}var LE=BE;function FE(){}var WE=FE,Au=_C,qE=WE,HE=Zp,KE=1/0,VE=Au&&1/HE(new Au([,-0]))[1]==KE?function(e){return new Au(e)}:qE,XE=VE,YE=CC,JE=jE,ZE=LE,QE=xC,eM=XE,tM=Zp,iM=200;function rM(e,t,i){var r=-1,a=JE,n=e.length,s=!0,l=[],u=l;if(i)s=!1,a=ZE;else if(n>=iM){var c=t?null:eM(e);if(c)return tM(c);s=!1,a=QE,u=new YE}else u=t?[]:l;e:for(;++r<n;){var m=e[r],p=t?t(m):m;if(m=i||m!==0?m:0,s&&p===p){for(var f=u.length;f--;)if(u[f]===p)continue e;t&&u.push(p),l.push(m)}else a(u,p,i)||(u!==l&&u.push(p),l.push(m))}return l}var aM=rM,nM=Ar,sM=aM;function oM(e,t){return e&&e.length?sM(e,nM(t)):[]}var lM=oM;const Po=Re(lM);function uM(e,t,i){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),i=i>a?a:i,i<0&&(i+=a),a=t>i?0:i-t>>>0,t>>>=0;for(var n=Array(a);++r<a;)n[r]=e[r+t];return n}var cM=uM,mM=cM;function pM(e,t,i){var r=e.length;return i=i===void 0?r:i,!t&&i>=r?e:mM(e,t,i)}var fM=pM,hM="\\ud800-\\udfff",dM="\\u0300-\\u036f",gM="\\ufe20-\\ufe2f",bM="\\u20d0-\\u20ff",yM=dM+gM+bM,vM="\\ufe0e\\ufe0f",CM="\\u200d",NM=RegExp("["+CM+hM+yM+vM+"]");function xM(e){return NM.test(e)}var MC=xM;function TM(e){return e.split("")}var kM=TM,PC="\\ud800-\\udfff",SM="\\u0300-\\u036f",OM="\\ufe20-\\ufe2f",zM="\\u20d0-\\u20ff",DM=SM+OM+zM,_M="\\ufe0e\\ufe0f",wM="["+PC+"]",Mc="["+DM+"]",Pc="\\ud83c[\\udffb-\\udfff]",AM="(?:"+Mc+"|"+Pc+")",$C="[^"+PC+"]",IC="(?:\\ud83c[\\udde6-\\uddff]){2}",RC="[\\ud800-\\udbff][\\udc00-\\udfff]",UM="\\u200d",jC=AM+"?",BC="["+_M+"]?",GM="(?:"+UM+"(?:"+[$C,IC,RC].join("|")+")"+BC+jC+")*",EM=BC+jC+GM,MM="(?:"+[$C+Mc+"?",Mc,IC,RC,wM].join("|")+")",PM=RegExp(Pc+"(?="+Pc+")|"+MM+EM,"g");function $M(e){return e.match(PM)||[]}var IM=$M,RM=kM,jM=MC,BM=IM;function LM(e){return jM(e)?BM(e):RM(e)}var FM=LM,WM=fM,qM=MC,HM=FM,KM=fC;function VM(e){return function(t){t=KM(t);var i=qM(t)?HM(t):void 0,r=i?i[0]:t.charAt(0),a=i?WM(i,1).join(""):t.slice(1);return r[e]()+a}}var XM=VM,YM=XM,JM=YM("toUpperCase"),ZM=JM;const Vl=Re(ZM);function Ie(e){return function(){return e}}const LC=Math.cos,$o=Math.sin,vi=Math.sqrt,Io=Math.PI,Xl=2*Io,$c=Math.PI,Ic=2*$c,Fr=1e-6,QM=Ic-Fr;function FC(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function eP(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return FC;const i=10**t;return function(r){this._+=r[0];for(let a=1,n=r.length;a<n;++a)this._+=Math.round(arguments[a]*i)/i+r[a]}}class tP{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?FC:eP(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,r,a){this._append`Q${+t},${+i},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,i,r,a,n,s){this._append`C${+t},${+i},${+r},${+a},${this._x1=+n},${this._y1=+s}`}arcTo(t,i,r,a,n){if(t=+t,i=+i,r=+r,a=+a,n=+n,n<0)throw new Error(`negative radius: ${n}`);let s=this._x1,l=this._y1,u=r-t,c=a-i,m=s-t,p=l-i,f=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=i}`;else if(f>Fr)if(!(Math.abs(p*u-c*m)>Fr)||!n)this._append`L${this._x1=t},${this._y1=i}`;else{let b=r-s,g=a-l,h=u*u+c*c,y=b*b+g*g,C=Math.sqrt(h),N=Math.sqrt(f),d=n*Math.tan(($c-Math.acos((h+f-y)/(2*C*N)))/2),v=d/N,k=d/C;Math.abs(v-1)>Fr&&this._append`L${t+v*m},${i+v*p}`,this._append`A${n},${n},0,0,${+(p*b>m*g)},${this._x1=t+k*u},${this._y1=i+k*c}`}}arc(t,i,r,a,n,s){if(t=+t,i=+i,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),u=r*Math.sin(a),c=t+l,m=i+u,p=1^s,f=s?a-n:n-a;this._x1===null?this._append`M${c},${m}`:(Math.abs(this._x1-c)>Fr||Math.abs(this._y1-m)>Fr)&&this._append`L${c},${m}`,r&&(f<0&&(f=f%Ic+Ic),f>QM?this._append`A${r},${r},0,1,${p},${t-l},${i-u}A${r},${r},0,1,${p},${this._x1=c},${this._y1=m}`:f>Fr&&this._append`A${r},${r},0,${+(f>=$c)},${p},${this._x1=t+r*Math.cos(n)},${this._y1=i+r*Math.sin(n)}`)}rect(t,i,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function af(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(i==null)t=null;else{const r=Math.floor(i);if(!(r>=0))throw new RangeError(`invalid digits: ${i}`);t=r}return e},()=>new tP(t)}function nf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WC(e){this._context=e}WC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yl(e){return new WC(e)}function qC(e){return e[0]}function HC(e){return e[1]}function KC(e,t){var i=Ie(!0),r=null,a=Yl,n=null,s=af(l);e=typeof e=="function"?e:e===void 0?qC:Ie(e),t=typeof t=="function"?t:t===void 0?HC:Ie(t);function l(u){var c,m=(u=nf(u)).length,p,f=!1,b;for(r==null&&(n=a(b=s())),c=0;c<=m;++c)!(c<m&&i(p=u[c],c,u))===f&&((f=!f)?n.lineStart():n.lineEnd()),f&&n.point(+e(p,c,u),+t(p,c,u));if(b)return n=null,b+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ie(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ie(+u),l):t},l.defined=function(u){return arguments.length?(i=typeof u=="function"?u:Ie(!!u),l):i},l.curve=function(u){return arguments.length?(a=u,r!=null&&(n=a(r)),l):a},l.context=function(u){return arguments.length?(u==null?r=n=null:n=a(r=u),l):r},l}function oo(e,t,i){var r=null,a=Ie(!0),n=null,s=Yl,l=null,u=af(c);e=typeof e=="function"?e:e===void 0?qC:Ie(+e),t=typeof t=="function"?t:Ie(t===void 0?0:+t),i=typeof i=="function"?i:i===void 0?HC:Ie(+i);function c(p){var f,b,g,h=(p=nf(p)).length,y,C=!1,N,d=new Array(h),v=new Array(h);for(n==null&&(l=s(N=u())),f=0;f<=h;++f){if(!(f<h&&a(y=p[f],f,p))===C)if(C=!C)b=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=b;--g)l.point(d[g],v[g]);l.lineEnd(),l.areaEnd()}C&&(d[f]=+e(y,f,p),v[f]=+t(y,f,p),l.point(r?+r(y,f,p):d[f],i?+i(y,f,p):v[f]))}if(N)return l=null,N+""||null}function m(){return KC().defined(a).curve(s).context(n)}return c.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ie(+p),r=null,c):e},c.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ie(+p),c):e},c.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ie(+p),c):r},c.y=function(p){return arguments.length?(t=typeof p=="function"?p:Ie(+p),i=null,c):t},c.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Ie(+p),c):t},c.y1=function(p){return arguments.length?(i=p==null?null:typeof p=="function"?p:Ie(+p),c):i},c.lineX0=c.lineY0=function(){return m().x(e).y(t)},c.lineY1=function(){return m().x(e).y(i)},c.lineX1=function(){return m().x(r).y(t)},c.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Ie(!!p),c):a},c.curve=function(p){return arguments.length?(s=p,n!=null&&(l=s(n)),c):s},c.context=function(p){return arguments.length?(p==null?n=l=null:l=s(n=p),c):n},c}const sf={draw(e,t){const i=vi(t/Io);e.moveTo(i,0),e.arc(0,0,i,0,Xl)}},iP={draw(e,t){const i=vi(t/5)/2;e.moveTo(-3*i,-i),e.lineTo(-i,-i),e.lineTo(-i,-3*i),e.lineTo(i,-3*i),e.lineTo(i,-i),e.lineTo(3*i,-i),e.lineTo(3*i,i),e.lineTo(i,i),e.lineTo(i,3*i),e.lineTo(-i,3*i),e.lineTo(-i,i),e.lineTo(-3*i,i),e.closePath()}},VC=vi(1/3),rP=VC*2,aP={draw(e,t){const i=vi(t/rP),r=i*VC;e.moveTo(0,-i),e.lineTo(r,0),e.lineTo(0,i),e.lineTo(-r,0),e.closePath()}},nP={draw(e,t){const i=vi(t),r=-i/2;e.rect(r,r,i,i)}},sP=.8908130915292852,XC=$o(Io/10)/$o(7*Io/10),oP=$o(Xl/10)*XC,lP=-LC(Xl/10)*XC,uP={draw(e,t){const i=vi(t*sP),r=oP*i,a=lP*i;e.moveTo(0,-i),e.lineTo(r,a);for(let n=1;n<5;++n){const s=Xl*n/5,l=LC(s),u=$o(s);e.lineTo(u*i,-l*i),e.lineTo(l*r-u*a,u*r+l*a)}e.closePath()}},Uu=vi(3),cP={draw(e,t){const i=-vi(t/(Uu*3));e.moveTo(0,i*2),e.lineTo(-Uu*i,-i),e.lineTo(Uu*i,-i),e.closePath()}},Ht=-.5,Kt=vi(3)/2,Rc=1/vi(12),mP=(Rc/2+1)*3,pP={draw(e,t){const i=vi(t/mP),r=i/2,a=i*Rc,n=r,s=i*Rc+i,l=-n,u=s;e.moveTo(r,a),e.lineTo(n,s),e.lineTo(l,u),e.lineTo(Ht*r-Kt*a,Kt*r+Ht*a),e.lineTo(Ht*n-Kt*s,Kt*n+Ht*s),e.lineTo(Ht*l-Kt*u,Kt*l+Ht*u),e.lineTo(Ht*r+Kt*a,Ht*a-Kt*r),e.lineTo(Ht*n+Kt*s,Ht*s-Kt*n),e.lineTo(Ht*l+Kt*u,Ht*u-Kt*l),e.closePath()}};function fP(e,t){let i=null,r=af(a);e=typeof e=="function"?e:Ie(e||sf),t=typeof t=="function"?t:Ie(t===void 0?64:+t);function a(){let n;if(i||(i=n=r()),e.apply(this,arguments).draw(i,+t.apply(this,arguments)),n)return i=null,n+""||null}return a.type=function(n){return arguments.length?(e=typeof n=="function"?n:Ie(n),a):e},a.size=function(n){return arguments.length?(t=typeof n=="function"?n:Ie(+n),a):t},a.context=function(n){return arguments.length?(i=n??null,a):i},a}function Ro(){}function jo(e,t,i){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6)}function YC(e){this._context=e}YC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hP(e){return new YC(e)}function JC(e){this._context=e}JC.prototype={areaStart:Ro,areaEnd:Ro,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dP(e){return new JC(e)}function ZC(e){this._context=e}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(i,r):this._context.moveTo(i,r);break;case 3:this._point=4;default:jo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gP(e){return new ZC(e)}function QC(e){this._context=e}QC.prototype={areaStart:Ro,areaEnd:Ro,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bP(e){return new QC(e)}function cd(e){return e<0?-1:1}function md(e,t,i){var r=e._x1-e._x0,a=t-e._x1,n=(e._y1-e._y0)/(r||a<0&&-0),s=(i-e._y1)/(a||r<0&&-0),l=(n*a+s*r)/(r+a);return(cd(n)+cd(s))*Math.min(Math.abs(n),Math.abs(s),.5*Math.abs(l))||0}function pd(e,t){var i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function Gu(e,t,i){var r=e._x0,a=e._y0,n=e._x1,s=e._y1,l=(n-r)/3;e._context.bezierCurveTo(r+l,a+l*t,n-l,s-l*i,n,s)}function Bo(e){this._context=e}Bo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gu(this,this._t0,pd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var i=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Gu(this,pd(this,i=md(this,e,t)),i);break;default:Gu(this,this._t0,i=md(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=i}}};function eN(e){this._context=new tN(e)}(eN.prototype=Object.create(Bo.prototype)).point=function(e,t){Bo.prototype.point.call(this,t,e)};function tN(e){this._context=e}tN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,i,r,a,n){this._context.bezierCurveTo(t,e,r,i,n,a)}};function yP(e){return new Bo(e)}function vP(e){return new eN(e)}function iN(e){this._context=e}iN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,i=e.length;if(i)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),i===2)this._context.lineTo(e[1],t[1]);else for(var r=fd(e),a=fd(t),n=0,s=1;s<i;++n,++s)this._context.bezierCurveTo(r[0][n],a[0][n],r[1][n],a[1][n],e[s],t[s]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fd(e){var t,i=e.length-1,r,a=new Array(i),n=new Array(i),s=new Array(i);for(a[0]=0,n[0]=2,s[0]=e[0]+2*e[1],t=1;t<i-1;++t)a[t]=1,n[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[i-1]=2,n[i-1]=7,s[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)r=a[t]/n[t-1],n[t]-=r,s[t]-=r*s[t-1];for(a[i-1]=s[i-1]/n[i-1],t=i-2;t>=0;--t)a[t]=(s[t]-a[t+1])/n[t];for(n[i-1]=(e[i]+a[i-1])/2,t=0;t<i-1;++t)n[t]=2*e[t+1]-a[t+1];return[a,n]}function CP(e){return new iN(e)}function Jl(e,t){this._context=e,this._t=t}Jl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var i=this._x*(1-this._t)+e*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}break}}this._x=e,this._y=t}};function NP(e){return new Jl(e,.5)}function xP(e){return new Jl(e,0)}function TP(e){return new Jl(e,1)}function Ba(e,t){if((s=e.length)>1)for(var i=1,r,a,n=e[t[0]],s,l=n.length;i<s;++i)for(a=n,n=e[t[i]],r=0;r<l;++r)n[r][1]+=n[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function jc(e){for(var t=e.length,i=new Array(t);--t>=0;)i[t]=t;return i}function kP(e,t){return e[t]}function SP(e){const t=[];return t.key=e,t}function OP(){var e=Ie([]),t=jc,i=Ba,r=kP;function a(n){var s=Array.from(e.apply(this,arguments),SP),l,u=s.length,c=-1,m;for(const p of n)for(l=0,++c;l<u;++l)(s[l][c]=[0,+r(p,s[l].key,c,n)]).data=p;for(l=0,m=nf(t(s));l<u;++l)s[m[l]].index=l;return i(s,m),s}return a.keys=function(n){return arguments.length?(e=typeof n=="function"?n:Ie(Array.from(n)),a):e},a.value=function(n){return arguments.length?(r=typeof n=="function"?n:Ie(+n),a):r},a.order=function(n){return arguments.length?(t=n==null?jc:typeof n=="function"?n:Ie(Array.from(n)),a):t},a.offset=function(n){return arguments.length?(i=n??Ba,a):i},a}function zP(e,t){if((r=e.length)>0){for(var i,r,a=0,n=e[0].length,s;a<n;++a){for(s=i=0;i<r;++i)s+=e[i][a][1]||0;if(s)for(i=0;i<r;++i)e[i][a][1]/=s}Ba(e,t)}}function DP(e,t){if((a=e.length)>0){for(var i=0,r=e[t[0]],a,n=r.length;i<n;++i){for(var s=0,l=0;s<a;++s)l+=e[s][i][1]||0;r[i][1]+=r[i][0]=-l/2}Ba(e,t)}}function _P(e,t){if(!(!((s=e.length)>0)||!((n=(a=e[t[0]]).length)>0))){for(var i=0,r=1,a,n,s;r<n;++r){for(var l=0,u=0,c=0;l<s;++l){for(var m=e[t[l]],p=m[r][1]||0,f=m[r-1][1]||0,b=(p-f)/2,g=0;g<l;++g){var h=e[t[g]],y=h[r][1]||0,C=h[r-1][1]||0;b+=y-C}u+=p,c+=b*p}a[r-1][1]+=a[r-1][0]=i,u&&(i-=c/u)}a[r-1][1]+=a[r-1][0]=i,Ba(e,t)}}function La(e){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Bc.apply(this,arguments)}function wP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hd(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aN(r.key),r)}}function AP(e,t,i){return t&&hd(e.prototype,t),i&&hd(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function UP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lc(e,t)}function Lc(e,t){return Lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Lc(e,t)}function GP(e){var t=PP();return function(){var r=Lo(e),a;if(t){var n=Lo(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return EP(this,a)}}function EP(e,t){if(t&&(La(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MP(e)}function MP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Lo(e)}function rN(e,t,i){return t=aN(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function aN(e){var t=$P(e,"string");return La(t)==="symbol"?t:String(t)}function $P(e,t){if(La(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(La(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nN={symbolCircle:sf,symbolCross:iP,symbolDiamond:aP,symbolSquare:nP,symbolStar:uP,symbolTriangle:cP,symbolWye:pP},IP=Math.PI/180,RP=function(t){var i="symbol".concat(Vl(t));return nN[i]||sf},jP=function(t,i,r){if(i==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*IP;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Zl=function(e){UP(i,e);var t=GP(i);function i(){return wP(this,i),t.apply(this,arguments)}return AP(i,[{key:"getPath",value:function(){var a=this.props,n=a.size,s=a.sizeType,l=a.type,u=RP(l),c=fP().type(u).size(jP(n,s,l));return c()}},{key:"render",value:function(){var a=this.props,n=a.className,s=a.cx,l=a.cy,u=a.size,c=ve(this.props,!0);return s===+s&&l===+l&&u===+u?G.createElement("path",Bc({},c,{className:Ge("recharts-symbols",n),transform:"translate(".concat(s,", ").concat(l,")"),d:this.getPath()})):null}}]),i}(x.PureComponent);rN(Zl,"defaultProps",{type:"circle",size:64,sizeType:"area"});rN(Zl,"registerSymbol",function(e,t){nN["symbol".concat(Vl(e))]=t});function Fa(e){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(e)}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Fc.apply(this,arguments)}function dd(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function BP(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?dd(Object(i),!0).forEach(function(r){us(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):dd(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function LP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gd(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sN(r.key),r)}}function FP(e,t,i){return t&&gd(e.prototype,t),i&&gd(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function WP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wc(e,t)}function Wc(e,t){return Wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Wc(e,t)}function qP(e){var t=VP();return function(){var r=Fo(e),a;if(t){var n=Fo(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return HP(this,a)}}function HP(e,t){if(t&&(Fa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KP(e)}function KP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Fo(e)}function us(e,t,i){return t=sN(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function sN(e){var t=XP(e,"string");return Fa(t)==="symbol"?t:String(t)}function XP(e,t){if(Fa(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(Fa(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vt=32,of=function(e){WP(i,e);var t=qP(i);function i(){return LP(this,i),t.apply(this,arguments)}return FP(i,[{key:"renderIcon",value:function(a){var n=this.props.inactiveColor,s=Vt/2,l=Vt/6,u=Vt/3,c=a.inactive?n:a.color;if(a.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:s,x2:Vt,y2:s,className:"recharts-legend-icon"});if(a.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(Vt,"M").concat(2*u,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(a.type==="rect")return G.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Vt/8,"h").concat(Vt,"v").concat(Vt*3/4,"h").concat(-Vt,"z"),className:"recharts-legend-icon"});if(G.isValidElement(a.legendIcon)){var m=BP({},a);return delete m.legendIcon,G.cloneElement(a.legendIcon,m)}return G.createElement(Zl,{fill:c,cx:s,cy:s,size:Vt,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,n=this.props,s=n.payload,l=n.iconSize,u=n.layout,c=n.formatter,m=n.inactiveColor,p={x:0,y:0,width:Vt,height:Vt},f={display:u==="horizontal"?"inline-block":"block",marginRight:10},b={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,h){var y,C=g.formatter||c,N=Ge((y={"recharts-legend-item":!0},us(y,"legend-item-".concat(h),!0),us(y,"inactive",g.inactive),y));if(g.type==="none")return null;var d=g.inactive?m:g.color;return G.createElement("li",Fc({className:N,style:f,key:"legend-item-".concat(h)},ls(a.props,g,h)),G.createElement(Dc,{width:l,height:l,viewBox:p,style:b},a.renderIcon(g)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:d}},C?C(g.value,g,h):g.value))})}},{key:"render",value:function(){var a=this.props,n=a.payload,s=a.layout,l=a.align;if(!n||!n.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}]),i}(x.PureComponent);us(of,"displayName","Legend");us(of,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function Wa(e){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}var YP=["ref"];function bd(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function Ca(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?bd(Object(i),!0).forEach(function(r){Ql(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):bd(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function JP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yd(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lN(r.key),r)}}function ZP(e,t,i){return t&&yd(e.prototype,t),i&&yd(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function QP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qc(e,t)}function qc(e,t){return qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},qc(e,t)}function e$(e){var t=i$();return function(){var r=Wo(e),a;if(t){var n=Wo(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return t$(this,a)}}function t$(e,t){if(t&&(Wa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oN(e)}function oN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wo(e){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Wo(e)}function Ql(e,t,i){return t=lN(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function lN(e){var t=r$(e,"string");return Wa(t)==="symbol"?t:String(t)}function r$(e,t){if(Wa(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(Wa(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a$(e,t){if(e==null)return{};var i=n$(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function n$(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function s$(e){return e.value}function o$(e,t){return e===!0?Po(t,s$):me(e)?Po(t,e):t}function l$(e,t){if(G.isValidElement(e))return G.cloneElement(e,t);if(me(e))return G.createElement(e,t);t.ref;var i=a$(t,YP);return G.createElement(of,i)}var vd=1,na=function(e){QP(i,e);var t=e$(i);function i(){var r;JP(this,i);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=t.call.apply(t,[this].concat(n)),Ql(oN(r),"state",{boxWidth:-1,boxHeight:-1}),r}return ZP(i,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var a=this.state,n=a.boxWidth,s=a.boxHeight;return n>=0&&s>=0?{width:n,height:s}:null}},{key:"getDefaultPosition",value:function(a){var n=this.props,s=n.layout,l=n.align,u=n.verticalAlign,c=n.margin,m=n.chartWidth,p=n.chartHeight,f,b;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&s==="vertical"){var g=this.getBBoxSnapshot()||{width:0};f={left:((m||0)-g.width)/2}}else f=l==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(u==="middle"){var h=this.getBBoxSnapshot()||{height:0};b={top:((p||0)-h.height)/2}}else b=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ca(Ca({},f),b)}},{key:"updateBBox",value:function(){var a=this.state,n=a.boxWidth,s=a.boxHeight,l=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var u=this.wrapperNode.getBoundingClientRect();(Math.abs(u.width-n)>vd||Math.abs(u.height-s)>vd)&&this.setState({boxWidth:u.width,boxHeight:u.height},function(){l&&l(u)})}else(n!==-1||s!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){l&&l(null)})}},{key:"render",value:function(){var a=this,n=this.props,s=n.content,l=n.width,u=n.height,c=n.wrapperStyle,m=n.payloadUniqBy,p=n.payload,f=Ca(Ca({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return G.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){a.wrapperNode=g}},l$(s,Ca(Ca({},this.props),{},{payload:o$(m,p)})))}}],[{key:"getWithHeight",value:function(a,n){var s=a.props.layout;return s==="vertical"&&X(a.props.height)?{height:a.props.height}:s==="horizontal"?{width:a.props.width||n}:null}}]),i}(x.PureComponent);Ql(na,"displayName","Legend");Ql(na,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var u$=typeof WeakSet=="function",Cd=Object.keys;function lf(e,t){return e===t||e!==e&&t!==t}function Nd(e){return e.constructor===Object||e.constructor==null}function xd(e){return!!e&&typeof e.then=="function"}function Td(e){return!!(e&&e.$$typeof)}function c$(){var e=[];return{add:function(t){e.push(t)},has:function(t){return e.indexOf(t)!==-1}}}var m$=function(e){return e?function(){return new WeakSet}:c$}(u$);function uN(e){return function(i){var r=e||i;return function(n,s,l){l===void 0&&(l=m$());var u=!!n&&typeof n=="object",c=!!s&&typeof s=="object";if(u||c){var m=u&&l.has(n),p=c&&l.has(s);if(m||p)return m&&p;u&&l.add(n),c&&l.add(s)}return r(n,s,l)}}}function p$(e,t,i,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!i(e[a],t[a],r))return!1;return!0}function f$(e,t,i,r){var a=e.size===t.size;if(a&&e.size){var n={};e.forEach(function(s,l){if(a){var u=!1,c=0;t.forEach(function(m,p){!u&&!n[c]&&(u=i(l,p,r)&&i(s,m,r),u&&(n[c]=!0)),c++}),a=u}})}return a}var h$="_owner",d$=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function kd(e,t,i,r){var a=Cd(e),n=a.length;if(Cd(t).length!==n)return!1;if(n)for(var s=void 0;n-- >0;){if(s=a[n],s===h$){var l=Td(e),u=Td(t);if((l||u)&&l!==u)return!1}if(!d$(t,s)||!i(e[s],t[s],r))return!1}return!0}function g$(e,t){return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.unicode===t.unicode&&e.sticky===t.sticky&&e.lastIndex===t.lastIndex}function b$(e,t,i,r){var a=e.size===t.size;if(a&&e.size){var n={};e.forEach(function(s){if(a){var l=!1,u=0;t.forEach(function(c){!l&&!n[u]&&(l=i(s,c,r),l&&(n[u]=!0)),u++}),a=l}})}return a}var y$=typeof Map=="function",v$=typeof Set=="function";function eu(e){var t=typeof e=="function"?e(i):i;function i(r,a,n){if(r===a)return!0;if(r&&a&&typeof r=="object"&&typeof a=="object"){if(Nd(r)&&Nd(a))return kd(r,a,t,n);var s=Array.isArray(r),l=Array.isArray(a);return s||l?s===l&&p$(r,a,t,n):(s=r instanceof Date,l=a instanceof Date,s||l?s===l&&lf(r.getTime(),a.getTime()):(s=r instanceof RegExp,l=a instanceof RegExp,s||l?s===l&&g$(r,a):xd(r)||xd(a)?r===a:y$&&(s=r instanceof Map,l=a instanceof Map,s||l)?s===l&&f$(r,a,t,n):v$&&(s=r instanceof Set,l=a instanceof Set,s||l)?s===l&&b$(r,a,t,n):kd(r,a,t,n)))}return r!==r&&a!==a}return i}var C$=eu();eu(function(){return lf});eu(uN());eu(uN(lf));function Sd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=-1,r=function a(n){i<0&&(i=n),n-i>t?(e(n),i=-1):requestAnimationFrame(a)};requestAnimationFrame(r)}function ko(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ko=function(i){return typeof i}:ko=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ko(e)}function N$(e){return S$(e)||k$(e)||T$(e)||x$()}function x$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T$(e,t){if(e){if(typeof e=="string")return Od(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Od(e,t)}}function Od(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function k$(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function S$(e){if(Array.isArray(e))return e}function O$(){var e={},t=function(){return null},i=!1,r=function a(n){if(!i){if(Array.isArray(n)){if(!n.length)return;var s=n,l=N$(s),u=l[0],c=l.slice(1);if(typeof u=="number"){Sd(a.bind(null,c),u);return}a(u),Sd(a.bind(null,c));return}ko(n)==="object"&&(e=n,t(e)),typeof n=="function"&&n()}};return{stop:function(){i=!0},start:function(n){i=!1,r(n)},subscribe:function(n){return t=n,function(){t=function(){return null}}}}}function zd(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function qa(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?zd(Object(i),!0).forEach(function(r){qo(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):zd(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function qo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var z$=["Webkit","Moz","O","ms"],D$=["-webkit-","-moz-","-o-","-ms-"],_$=["transform","transformOrigin","transition"],w$=function(t,i){return[Object.keys(t),Object.keys(i)].reduce(function(r,a){return r.filter(function(n){return a.includes(n)})})},A$=function(t){return t},U$=function(t){return t.replace(/([A-Z])/g,function(i){return"-".concat(i.toLowerCase())})},G$=function(t,i){if(_$.indexOf(t)===-1)return qo({},t,i);var r=t==="transition",a=t.replace(/(\w)/,function(s){return s.toUpperCase()}),n=i;return z$.reduce(function(s,l,u){return r&&(n=i.replace(/(transform|transform-origin)/gim,"".concat(D$[u],"$1"))),qa(qa({},s),{},qo({},l+a,n))},{})},Qn=function(t,i){return Object.keys(i).reduce(function(r,a){return qa(qa({},r),{},qo({},a,t(a,i[a])))},{})},Hc=function(t){return Object.keys(t).reduce(function(i,r){return qa(qa({},i),G$(r,i[r]))},t)},Dd=function(t,i,r){return t.map(function(a){return"".concat(U$(a)," ").concat(i,"ms ").concat(r)}).join(",")},Ho=function(t,i,r,a,n,s,l,u){if(typeof console<"u"&&console.warn&&(i===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(i===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,a,n,s,l,u],m=0;console.warn(i.replace(/%s/g,function(){return c[m++]}))}};function E$(e,t){return $$(e)||P$(e,t)||cN(e,t)||M$()}function M$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P$(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var i=[],r=!0,a=!1,n=void 0;try{for(var s=e[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(i.push(l.value),!(t&&i.length===t));r=!0);}catch(u){a=!0,n=u}finally{try{!r&&s.return!=null&&s.return()}finally{if(a)throw n}}return i}}function $$(e){if(Array.isArray(e))return e}function I$(e){return B$(e)||j$(e)||cN(e)||R$()}function R$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cN(e,t){if(e){if(typeof e=="string")return Kc(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kc(e,t)}}function j$(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function B$(e){if(Array.isArray(e))return Kc(e)}function Kc(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var Ko=1e-4,mN=function(t,i){return[0,3*t,3*i-6*t,3*t-3*i+1]},pN=function(t,i){return t.map(function(r,a){return r*Math.pow(i,a)}).reduce(function(r,a){return r+a})},_d=function(t,i){return function(r){var a=mN(t,i);return pN(a,r)}},L$=function(t,i){return function(r){var a=mN(t,i),n=[].concat(I$(a.map(function(s,l){return s*l}).slice(1)),[0]);return pN(n,r)}},wd=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var a=i[0],n=i[1],s=i[2],l=i[3];if(i.length===1)switch(i[0]){case"linear":a=0,n=0,s=1,l=1;break;case"ease":a=.25,n=.1,s=.25,l=1;break;case"ease-in":a=.42,n=0,s=1,l=1;break;case"ease-out":a=.42,n=0,s=.58,l=1;break;case"ease-in-out":a=0,n=0,s=.58,l=1;break;default:{var u=i[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var c=u[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),m=E$(c,4);a=m[0],n=m[1],s=m[2],l=m[3]}else Ho(!1,"[configBezier]: arguments should be one of oneOf 'linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out','cubic-bezier(x1,y1,x2,y2)', instead received %s",i)}}Ho([a,s,n,l].every(function(y){return typeof y=="number"&&y>=0&&y<=1}),"[configBezier]: arguments should be x1, y1, x2, y2 of [0, 1] instead received %s",i);var p=_d(a,s),f=_d(n,l),b=L$(a,s),g=function(C){return C>1?1:C<0?0:C},h=function(C){for(var N=C>1?1:C,d=N,v=0;v<8;++v){var k=p(d)-N,T=b(d);if(Math.abs(k-N)<Ko||T<Ko)return f(d);d=g(d-k/T)}return f(d)};return h.isStepper=!1,h},F$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.stiff,r=i===void 0?100:i,a=t.damping,n=a===void 0?8:a,s=t.dt,l=s===void 0?17:s,u=function(m,p,f){var b=-(m-p)*r,g=f*n,h=f+(b-g)*l/1e3,y=f*l/1e3+m;return Math.abs(y-p)<Ko&&Math.abs(h)<Ko?[p,0]:[y,h]};return u.isStepper=!0,u.dt=l,u},W$=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var a=i[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wd(a);case"spring":return F$();default:if(a.split("(")[0]==="cubic-bezier")return wd(a);Ho(!1,"[configEasing]: first argument should be one of 'ease', 'ease-in', 'ease-out', 'ease-in-out','cubic-bezier(x1,y1,x2,y2)', 'linear' and 'spring', instead  received %s",i)}return typeof a=="function"?a:(Ho(!1,"[configEasing]: first argument type should be function or string, instead received %s",i),null)};function Ad(e){return K$(e)||H$(e)||fN(e)||q$()}function q$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H$(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function K$(e){if(Array.isArray(e))return Xc(e)}function Ud(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function vt(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Ud(Object(i),!0).forEach(function(r){Vc(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ud(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function Vc(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function V$(e,t){return J$(e)||Y$(e,t)||fN(e,t)||X$()}function X$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fN(e,t){if(e){if(typeof e=="string")return Xc(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Xc(e,t)}}function Xc(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Y$(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var i=[],r=!0,a=!1,n=void 0;try{for(var s=e[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(i.push(l.value),!(t&&i.length===t));r=!0);}catch(u){a=!0,n=u}finally{try{!r&&s.return!=null&&s.return()}finally{if(a)throw n}}return i}}function J$(e){if(Array.isArray(e))return e}var Vo=function(t,i,r){return t+(i-t)*r},Yc=function(t){var i=t.from,r=t.to;return i!==r},Z$=function e(t,i,r){var a=Qn(function(n,s){if(Yc(s)){var l=t(s.from,s.to,s.velocity),u=V$(l,2),c=u[0],m=u[1];return vt(vt({},s),{},{from:c,velocity:m})}return s},i);return r<1?Qn(function(n,s){return Yc(s)?vt(vt({},s),{},{velocity:Vo(s.velocity,a[n].velocity,r),from:Vo(s.from,a[n].from,r)}):s},i):e(t,a,r-1)};const Q$=function(e,t,i,r,a){var n=w$(e,t),s=n.reduce(function(y,C){return vt(vt({},y),{},Vc({},C,[e[C],t[C]]))},{}),l=n.reduce(function(y,C){return vt(vt({},y),{},Vc({},C,{from:e[C],velocity:0,to:t[C]}))},{}),u=-1,c,m,p=function(){return null},f=function(){return Qn(function(C,N){return N.from},l)},b=function(){return!Object.values(l).filter(Yc).length},g=function(C){c||(c=C);var N=C-c,d=N/i.dt;l=Z$(i,l,d),a(vt(vt(vt({},e),t),f())),c=C,b()||(u=requestAnimationFrame(p))},h=function(C){m||(m=C);var N=(C-m)/r,d=Qn(function(k,T){return Vo.apply(void 0,Ad(T).concat([i(N)]))},s);if(a(vt(vt(vt({},e),t),d)),N<1)u=requestAnimationFrame(p);else{var v=Qn(function(k,T){return Vo.apply(void 0,Ad(T).concat([i(1)]))},s);a(vt(vt(vt({},e),t),v))}};return p=i.isStepper?g:h,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(u)}}};function So(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?So=function(i){return typeof i}:So=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},So(e)}function eI(e,t){if(e==null)return{};var i=tI(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tI(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function Eu(e){return nI(e)||aI(e)||rI(e)||iI()}function iI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rI(e,t){if(e){if(typeof e=="string")return Jc(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jc(e,t)}}function aI(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nI(e){if(Array.isArray(e))return Jc(e)}function Jc(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Gd(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function si(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Gd(Object(i),!0).forEach(function(r){Xn(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Gd(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function Xn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function sI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ed(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oI(e,t,i){return t&&Ed(e.prototype,t),i&&Ed(e,i),e}function lI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zc(e,t)}function Zc(e,t){return Zc=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Zc(e,t)}function uI(e){var t=cI();return function(){var r=Xo(e),a;if(t){var n=Xo(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Qc(this,a)}}function Qc(e,t){return t&&(So(t)==="object"||typeof t=="function")?t:em(e)}function em(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xo(e){return Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},Xo(e)}var Ji=function(e){lI(i,e);var t=uI(i);function i(r,a){var n;sI(this,i),n=t.call(this,r,a);var s=n.props,l=s.isActive,u=s.attributeName,c=s.from,m=s.to,p=s.steps,f=s.children;if(n.handleStyleChange=n.handleStyleChange.bind(em(n)),n.changeStyle=n.changeStyle.bind(em(n)),!l)return n.state={style:{}},typeof f=="function"&&(n.state={style:m}),Qc(n);if(p&&p.length)n.state={style:p[0].style};else if(c){if(typeof f=="function")return n.state={style:c},Qc(n);n.state={style:u?Xn({},u,c):c}}else n.state={style:{}};return n}return oI(i,[{key:"componentDidMount",value:function(){var a=this.props,n=a.isActive,s=a.canBegin;this.mounted=!0,!(!n||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var n=this.props,s=n.isActive,l=n.canBegin,u=n.attributeName,c=n.shouldReAnimate;if(l){if(!s){var m={style:u?Xn({},u,this.props.to):this.props.to};this.state&&this.state.style&&(u&&this.state.style[u]!==this.props.to||!u&&this.state.style!==this.props.to)&&this.setState(m);return}if(!(C$(a.to,this.props.to)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=p||c?this.props.from:a.to;if(this.state&&this.state.style){var b={style:u?Xn({},u,f):f};(u&&this.state.style[u]!==f||!u&&this.state.style!==f)&&this.setState(b)}this.runAnimation(si(si({},this.props),{},{from:f,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"runJSAnimation",value:function(a){var n=this,s=a.from,l=a.to,u=a.duration,c=a.easing,m=a.begin,p=a.onAnimationEnd,f=a.onAnimationStart,b=Q$(s,l,W$(c),u,this.changeStyle),g=function(){n.stopJSAnimation=b()};this.manager.start([f,m,g,u,p])}},{key:"runStepAnimation",value:function(a){var n=this,s=a.steps,l=a.begin,u=a.onAnimationStart,c=s[0],m=c.style,p=c.duration,f=p===void 0?0:p,b=function(h,y,C){if(C===0)return h;var N=y.duration,d=y.easing,v=d===void 0?"ease":d,k=y.style,T=y.properties,S=y.onAnimationEnd,O=C>0?s[C-1]:y,_=T||Object.keys(k);if(typeof v=="function"||v==="spring")return[].concat(Eu(h),[n.runJSAnimation.bind(n,{from:O.style,to:k,duration:N,easing:v}),N]);var A=Dd(_,N,v),z=si(si(si({},O.style),k),{},{transition:A});return[].concat(Eu(h),[z,N,S]).filter(A$)};return this.manager.start([u].concat(Eu(s.reduce(b,[m,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=O$());var n=a.begin,s=a.duration,l=a.attributeName,u=a.to,c=a.easing,m=a.onAnimationStart,p=a.onAnimationEnd,f=a.steps,b=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof b=="function"||c==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var h=l?Xn({},l,u):u,y=Dd(Object.keys(h),s,c);g.start([m,n,si(si({},h),{},{transition:y}),s,p])}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"render",value:function(){var a=this.props,n=a.children;a.begin,a.duration,a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=eI(a,["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"]),u=x.Children.count(n),c=Hc(this.state.style);if(typeof n=="function")return n(c);if(!s||u===0)return n;var m=function(f){var b=f.props,g=b.style,h=g===void 0?{}:g,y=b.className,C=x.cloneElement(f,si(si({},l),{},{style:si(si({},h),c),className:y}));return C};return u===1?m(x.Children.only(n)):G.createElement("div",null,x.Children.map(n,function(p){return m(p)}))}}]),i}(x.PureComponent);Ji.displayName="Animate";Ji.propTypes={from:w.oneOfType([w.object,w.string]),to:w.oneOfType([w.object,w.string]),attributeName:w.string,duration:w.number,begin:w.number,easing:w.oneOfType([w.string,w.func]),steps:w.arrayOf(w.shape({duration:w.number.isRequired,style:w.object.isRequired,easing:w.oneOfType([w.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),w.func]),properties:w.arrayOf("string"),onAnimationEnd:w.func})),children:w.oneOfType([w.node,w.func]),isActive:w.bool,canBegin:w.bool,onAnimationEnd:w.func,shouldReAnimate:w.bool,onAnimationStart:w.func,onAnimationReStart:w.func};Ji.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});w.object,w.object,w.object,w.element;w.object,w.object,w.object,w.oneOfType([w.array,w.element]),w.any;var Md=js,mI=Qp,pI=wt,Pd=Md?Md.isConcatSpreadable:void 0;function fI(e){return pI(e)||mI(e)||!!(Pd&&e&&e[Pd])}var hI=fI,dI=kC,gI=hI;function hN(e,t,i,r,a){var n=-1,s=e.length;for(i||(i=gI),a||(a=[]);++n<s;){var l=e[n];t>0&&i(l)?t>1?hN(l,t-1,i,r,a):dI(a,l):r||(a[a.length]=l)}return a}var dN=hN;function bI(e){return function(t,i,r){for(var a=-1,n=Object(t),s=r(t),l=s.length;l--;){var u=s[e?l:++a];if(i(n[u],u,n)===!1)break}return t}}var yI=bI,vI=yI,CI=vI(),NI=CI,xI=NI,TI=Kl;function kI(e,t){return e&&xI(e,t,TI)}var gN=kI,SI=Fs;function OI(e,t){return function(i,r){if(i==null)return i;if(!SI(i))return e(i,r);for(var a=i.length,n=t?a:-1,s=Object(i);(t?n--:++n<a)&&r(s[n],n,s)!==!1;);return i}}var zI=OI,DI=gN,_I=zI,wI=_I(DI),uf=wI,AI=uf,UI=Fs;function GI(e,t){var i=-1,r=UI(e)?Array(e.length):[];return AI(e,function(a,n,s){r[++i]=t(a,n,s)}),r}var bN=GI;function EI(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}var MI=EI,$d=vn;function PI(e,t){if(e!==t){var i=e!==void 0,r=e===null,a=e===e,n=$d(e),s=t!==void 0,l=t===null,u=t===t,c=$d(t);if(!l&&!c&&!n&&e>t||n&&s&&u&&!l&&!c||r&&s&&u||!i&&u||!a)return 1;if(!r&&!n&&!c&&e<t||c&&i&&a&&!r&&!n||l&&i&&a||!s&&a||!u)return-1}return 0}var $I=PI,II=$I;function RI(e,t,i){for(var r=-1,a=e.criteria,n=t.criteria,s=a.length,l=i.length;++r<s;){var u=II(a[r],n[r]);if(u){if(r>=l)return u;var c=i[r];return u*(c=="desc"?-1:1)}}return e.index-t.index}var jI=RI,Mu=Vp,BI=Xp,LI=Ar,FI=bN,WI=MI,qI=zC,HI=jI,KI=Sn,VI=wt;function XI(e,t,i){t.length?t=Mu(t,function(n){return VI(n)?function(s){return BI(s,n.length===1?n[0]:n)}:n}):t=[KI];var r=-1;t=Mu(t,qI(LI));var a=FI(e,function(n,s,l){var u=Mu(t,function(c){return c(n)});return{criteria:u,index:++r,value:n}});return WI(a,function(n,s){return HI(n,s,i)})}var YI=XI;function JI(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var ZI=JI,QI=ZI,Id=Math.max;function e3(e,t,i){return t=Id(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,n=Id(r.length-t,0),s=Array(n);++a<n;)s[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=i(s),QI(e,this,l)}}var t3=e3;function i3(e){return function(){return e}}var r3=i3,a3=ma,n3=function(){try{var e=a3(Object,"defineProperty");return e({},"",{}),e}catch{}}(),yN=n3,s3=r3,Rd=yN,o3=Sn,l3=Rd?function(e,t){return Rd(e,"toString",{configurable:!0,enumerable:!1,value:s3(t),writable:!0})}:o3,u3=l3,c3=800,m3=16,p3=Date.now;function f3(e){var t=0,i=0;return function(){var r=p3(),a=m3-(r-i);if(i=r,a>0){if(++t>=c3)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var h3=f3,d3=u3,g3=h3,b3=g3(d3),y3=b3,v3=Sn,C3=t3,N3=y3;function x3(e,t){return N3(C3(e,t,v3),e+"")}var T3=x3,k3=Wp,S3=Fs,O3=ef,z3=Dr;function D3(e,t,i){if(!z3(i))return!1;var r=typeof t;return(r=="number"?S3(i)&&O3(t,i.length):r=="string"&&t in i)?k3(i[t],e):!1}var tu=D3,_3=dN,w3=YI,A3=T3,jd=tu,U3=A3(function(e,t){if(e==null)return[];var i=t.length;return i>1&&jd(e,t[0],t[1])?t=[]:i>2&&jd(t[0],t[1],t[2])&&(t=[t[0]]),w3(e,_3(t,1),[])}),G3=U3;const cf=Re(G3);function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(e)}function E3(e,t){return I3(e)||$3(e,t)||P3(e,t)||M3()}function M3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3(e,t){if(e){if(typeof e=="string")return Bd(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Bd(e,t)}}function Bd(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function $3(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var r,a,n,s,l=[],u=!0,c=!1;try{if(n=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(r=n.call(i)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(m){c=!0,a=m}finally{try{if(!u&&i.return!=null&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function I3(e){if(Array.isArray(e))return e}function Ld(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function Pu(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Ld(Object(i),!0).forEach(function(r){mf(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ld(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function R3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fd(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vN(r.key),r)}}function j3(e,t,i){return t&&Fd(e.prototype,t),i&&Fd(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function B3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tm(e,t)}function tm(e,t){return tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},tm(e,t)}function L3(e){var t=q3();return function(){var r=Yo(e),a;if(t){var n=Yo(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return F3(this,a)}}function F3(e,t){if(t&&(Ha(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W3(e)}function W3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yo(e){return Yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Yo(e)}function mf(e,t,i){return t=vN(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function vN(e){var t=H3(e,"string");return Ha(t)==="symbol"?t:String(t)}function H3(e,t){if(Ha(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(Ha(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K3(e){return Qe(e)&&nt(e[0])&&nt(e[1])?e.join(" ~ "):e}var pf=function(e){B3(i,e);var t=L3(i);function i(){return R3(this,i),t.apply(this,arguments)}return j3(i,[{key:"renderContent",value:function(){var a=this.props,n=a.payload,s=a.separator,l=a.formatter,u=a.itemStyle,c=a.itemSorter;if(n&&n.length){var m={padding:0,margin:0},p=(c?cf(n,c):n).map(function(f,b){if(f.type==="none")return null;var g=Pu({display:"block",paddingTop:4,paddingBottom:4,color:f.color||"#000"},u),h=f.formatter||l||K3,y=f.value,C=f.name;if(h&&y!=null&&C!=null){var N=h(y,C,f,b,n);if(Array.isArray(N)){var d=N,v=E3(d,2);y=v[0],C=v[1]}else y=N}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(b),style:g},nt(C)?G.createElement("span",{className:"recharts-tooltip-item-name"},C):null,nt(C)?G.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,G.createElement("span",{className:"recharts-tooltip-item-value"},y),G.createElement("span",{className:"recharts-tooltip-item-unit"},f.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:m},p)}return null}},{key:"render",value:function(){var a=this.props,n=a.wrapperClassName,s=a.contentStyle,l=a.labelClassName,u=a.labelStyle,c=a.label,m=a.labelFormatter,p=a.payload,f=Pu({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=Pu({margin:0},u),g=!te(c),h=g?c:"",y=Ge("recharts-default-tooltip",n),C=Ge("recharts-tooltip-label",l);return g&&m&&p!==void 0&&p!==null&&(h=m(c,p)),G.createElement("div",{className:y,style:f},G.createElement("p",{className:C,style:b},G.isValidElement(h)?h:"".concat(h)),this.renderContent())}}]),i}(x.PureComponent);mf(pf,"displayName","DefaultTooltipContent");mf(pf,"defaultProps",{separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}});var V3=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hi={isSsr:V3(),get:function(t){return hi[t]},set:function(t,i){if(typeof t=="string")hi[t]=i;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(a){hi[a]=t[a]})}}};function Ka(e){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}function Wd(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function Bi(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Wd(Object(i),!0).forEach(function(r){Wi(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Wd(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function X3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qd(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CN(r.key),r)}}function Y3(e,t,i){return t&&qd(e.prototype,t),i&&qd(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function J3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&im(e,t)}function im(e,t){return im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},im(e,t)}function Z3(e){var t=e5();return function(){var r=Jo(e),a;if(t){var n=Jo(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Q3(this,a)}}function Q3(e,t){if(t&&(Ka(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rm(e)}function rm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jo(e){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Jo(e)}function Wi(e,t,i){return t=CN(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function CN(e){var t=t5(e,"string");return Ka(t)==="symbol"?t:String(t)}function t5(e,t){if(Ka(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(Ka(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mn="recharts-tooltip-wrapper",Hd=1;function i5(e){return e.dataKey}function r5(e,t){return e===!0?Po(t,i5):me(e)?Po(t,e):t}function a5(e,t){return G.isValidElement(e)?G.cloneElement(e,t):me(e)?G.createElement(e,t):G.createElement(pf,t)}var Jr=function(e){J3(i,e);var t=Z3(i);function i(){var r;X3(this,i);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=t.call.apply(t,[this].concat(n)),Wi(rm(r),"state",{boxWidth:-1,boxHeight:-1,dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Wi(rm(r),"getTranslate",function(l){var u=l.key,c=l.tooltipDimension,m=l.viewBoxDimension,p=r.props,f=p.allowEscapeViewBox,b=p.reverseDirection,g=p.coordinate,h=p.offset,y=p.position,C=p.viewBox;if(y&&X(y[u]))return y[u];var N=g[u]-c-h,d=g[u]+h;if(f[u])return b[u]?N:d;if(b[u]){var v=N,k=C[u];return v<k?Math.max(d,C[u]):Math.max(N,C[u])}var T=d+c,S=C[u]+m;return T>S?Math.max(N,C[u]):Math.max(d,C[u])}),r}return Y3(i,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var a=this.state,n=a.boxWidth,s=a.boxHeight,l=a.dismissed;if(l?(this.wrapperNode.blur(),(this.props.coordinate.x!==this.state.dismissedAtCoordinate.x||this.props.coordinate.y!==this.state.dismissedAtCoordinate.y)&&this.setState({dismissed:!1})):this.wrapperNode.focus({preventScroll:!0}),this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var u=this.wrapperNode.getBoundingClientRect();(Math.abs(u.width-n)>Hd||Math.abs(u.height-s)>Hd)&&this.setState({boxWidth:u.width,boxHeight:u.height})}else(n!==-1||s!==-1)&&this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var a,n=this,s=this.props,l=s.payload,u=s.isAnimationActive,c=s.animationDuration,m=s.animationEasing,p=s.filterNull,f=s.payloadUniqBy,b=r5(f,p&&l&&l.length?l.filter(function(U){return!te(U.value)}):l),g=b&&b.length,h=this.props,y=h.content,C=h.viewBox,N=h.coordinate,d=h.position,v=h.active,k=h.wrapperStyle,T=Bi({pointerEvents:"none",visibility:!this.state.dismissed&&v&&g?"visible":"hidden",position:"absolute",top:0,left:0},k),S,O;if(d&&X(d.x)&&X(d.y))S=d.x,O=d.y;else{var _=this.state,A=_.boxWidth,z=_.boxHeight;A>0&&z>0&&N?(S=this.getTranslate({key:"x",tooltipDimension:A,viewBoxDimension:C.width}),O=this.getTranslate({key:"y",tooltipDimension:z,viewBoxDimension:C.height})):T.visibility="hidden"}T=Bi(Bi({},Hc({transform:this.props.useTranslate3d?"translate3d(".concat(S,"px, ").concat(O,"px, 0)"):"translate(".concat(S,"px, ").concat(O,"px)")})),T),u&&v&&(T=Bi(Bi({},Hc({transition:"transform ".concat(c,"ms ").concat(m)})),T));var D=Ge(Mn,(a={},Wi(a,"".concat(Mn,"-right"),X(S)&&N&&X(N.x)&&S>=N.x),Wi(a,"".concat(Mn,"-left"),X(S)&&N&&X(N.x)&&S<N.x),Wi(a,"".concat(Mn,"-bottom"),X(O)&&N&&X(N.y)&&O>=N.y),Wi(a,"".concat(Mn,"-top"),X(O)&&N&&X(N.y)&&O<N.y),a));return G.createElement("div",{tabIndex:-1,role:"dialog",onKeyDown:function(P){P.key==="Escape"&&n.setState({dismissed:!0,dismissedAtCoordinate:Bi(Bi({},n.state.dismissedAtCoordinate),{},{x:n.props.coordinate.x,y:n.props.coordinate.y})})},className:D,style:T,ref:function(P){n.wrapperNode=P}},a5(y,Bi(Bi({},this.props),{},{payload:b})))}}]),i}(x.PureComponent);Wi(Jr,"displayName","Tooltip");Wi(Jr,"defaultProps",{active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x1:0,x2:0,y1:0,y2:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!hi.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1});var am=function(e,t){return am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},am(e,t)};function n5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");am(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function s5(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(i[r[a]]=e[r[a]]);return i}var lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function o5(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ff=o5,l5=typeof lo=="object"&&lo&&lo.Object===Object&&lo,u5=l5,c5=u5,m5=typeof self=="object"&&self&&self.Object===Object&&self,p5=c5||m5||Function("return this")(),NN=p5,f5=NN,h5=function(){return f5.Date.now()},d5=h5,g5=/\s/;function b5(e){for(var t=e.length;t--&&g5.test(e.charAt(t)););return t}var y5=b5,v5=y5,C5=/^\s+/;function N5(e){return e&&e.slice(0,v5(e)+1).replace(C5,"")}var x5=N5,T5=NN,k5=T5.Symbol,xN=k5,Kd=xN,TN=Object.prototype,S5=TN.hasOwnProperty,O5=TN.toString,Pn=Kd?Kd.toStringTag:void 0;function z5(e){var t=S5.call(e,Pn),i=e[Pn];try{e[Pn]=void 0;var r=!0}catch{}var a=O5.call(e);return r&&(t?e[Pn]=i:delete e[Pn]),a}var D5=z5,_5=Object.prototype,w5=_5.toString;function A5(e){return w5.call(e)}var U5=A5,Vd=xN,G5=D5,E5=U5,M5="[object Null]",P5="[object Undefined]",Xd=Vd?Vd.toStringTag:void 0;function $5(e){return e==null?e===void 0?P5:M5:Xd&&Xd in Object(e)?G5(e):E5(e)}var I5=$5;function R5(e){return e!=null&&typeof e=="object"}var j5=R5,B5=I5,L5=j5,F5="[object Symbol]";function W5(e){return typeof e=="symbol"||L5(e)&&B5(e)==F5}var q5=W5,H5=x5,Yd=ff,K5=q5,Jd=NaN,V5=/^[-+]0x[0-9a-f]+$/i,X5=/^0b[01]+$/i,Y5=/^0o[0-7]+$/i,J5=parseInt;function Z5(e){if(typeof e=="number")return e;if(K5(e))return Jd;if(Yd(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Yd(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=H5(e);var i=X5.test(e);return i||Y5.test(e)?J5(e.slice(2),i?2:8):V5.test(e)?Jd:+e}var Q5=Z5,eR=ff,$u=d5,Zd=Q5,tR="Expected a function",iR=Math.max,rR=Math.min;function aR(e,t,i){var r,a,n,s,l,u,c=0,m=!1,p=!1,f=!0;if(typeof e!="function")throw new TypeError(tR);t=Zd(t)||0,eR(i)&&(m=!!i.leading,p="maxWait"in i,n=p?iR(Zd(i.maxWait)||0,t):n,f="trailing"in i?!!i.trailing:f);function b(T){var S=r,O=a;return r=a=void 0,c=T,s=e.apply(O,S),s}function g(T){return c=T,l=setTimeout(C,t),m?b(T):s}function h(T){var S=T-u,O=T-c,_=t-S;return p?rR(_,n-O):_}function y(T){var S=T-u,O=T-c;return u===void 0||S>=t||S<0||p&&O>=n}function C(){var T=$u();if(y(T))return N(T);l=setTimeout(C,h(T))}function N(T){return l=void 0,f&&r?b(T):(r=a=void 0,s)}function d(){l!==void 0&&clearTimeout(l),c=0,r=u=a=l=void 0}function v(){return l===void 0?s:N($u())}function k(){var T=$u(),S=y(T);if(r=arguments,a=this,u=T,S){if(l===void 0)return g(u);if(p)return clearTimeout(l),l=setTimeout(C,t),b(u)}return l===void 0&&(l=setTimeout(C,t)),s}return k.cancel=d,k.flush=v,k}var kN=aR,nR=kN,sR=ff,oR="Expected a function";function lR(e,t,i){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(oR);return sR(i)&&(r="leading"in i?!!i.leading:r,a="trailing"in i?!!i.trailing:a),nR(e,t,{leading:r,maxWait:t,trailing:a})}var uR=lR,cR=function(e,t,i,r){switch(t){case"debounce":return kN(e,i,r);case"throttle":return uR(e,i,r);default:return e}},nm=function(e){return typeof e=="function"},$n=function(){return typeof window>"u"},Qd=function(e){return e instanceof Element||e instanceof HTMLDocument},mR=function(e,t,i,r){return function(a){var n=a.width,s=a.height;t(function(l){return l.width===n&&l.height===s||l.width===n&&!r||l.height===s&&!i?l:(e&&nm(e)&&e(n,s),{width:n,height:s})})}},pR=function(e){n5(t,e);function t(i){var r=e.call(this,i)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var c=r.props,m=c.targetRef,p=c.observerOptions;if(!$n()){m&&m.current&&(r.targetRef.current=m.current);var f=r.getElement();f&&(r.observableElement&&r.observableElement===f||(r.observableElement=f,r.resizeObserver.observe(f,p)))}},r.getElement=function(){var c=r.props,m=c.querySelector,p=c.targetDomEl;if($n())return null;if(m)return document.querySelector(m);if(p&&Qd(p))return p;if(r.targetRef&&Qd(r.targetRef.current))return r.targetRef.current;var f=d1.findDOMNode(r);if(!f)return null;var b=r.getRenderType();switch(b){case"renderProp":return f;case"childFunction":return f;case"child":return f;case"childArray":return f;default:return f.parentElement}},r.createResizeHandler=function(c){var m=r.props,p=m.handleWidth,f=p===void 0?!0:p,b=m.handleHeight,g=b===void 0?!0:b,h=m.onResize;if(!(!f&&!g)){var y=mR(h,r.setState.bind(r),f,g);c.forEach(function(C){var N=C&&C.contentRect||{},d=N.width,v=N.height,k=!r.skipOnMount&&!$n();k&&y({width:d,height:v}),r.skipOnMount=!1})}},r.getRenderType=function(){var c=r.props,m=c.render,p=c.children;return nm(m)?"renderProp":nm(p)?"childFunction":x.isValidElement(p)?"child":Array.isArray(p)?"childArray":"parent"};var a=i.skipOnMount,n=i.refreshMode,s=i.refreshRate,l=s===void 0?1e3:s,u=i.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=a,r.targetRef=x.createRef(),r.observableElement=null,$n()||(r.resizeHandler=cR(r.createResizeHandler,n,l,u),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){$n()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var i=this.props,r=i.render,a=i.children,n=i.nodeType,s=n===void 0?"div":n,l=this.state,u=l.width,c=l.height,m={width:u,height:c,targetRef:this.targetRef},p=this.getRenderType(),f;switch(p){case"renderProp":return r&&r(m);case"childFunction":return f=a,f(m);case"child":if(f=a,f.type&&typeof f.type=="string"){m.targetRef;var b=s5(m,["targetRef"]);return x.cloneElement(f,b)}return x.cloneElement(f,m);case"childArray":return f=a,f.map(function(g){return!!g&&x.cloneElement(g,m)});default:return x.createElement(s,null)}},t}(x.PureComponent),Aa=function(t,i){for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];if(typeof console<"u"&&console.warn&&(i===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(i===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(i.replace(/%s/g,function(){return a[s++]}))}};function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},sm.apply(this,arguments)}function fR(e,t){return bR(e)||gR(e,t)||dR(e,t)||hR()}function hR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dR(e,t){if(e){if(typeof e=="string")return eg(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return eg(e,t)}}function eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function gR(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var r,a,n,s,l=[],u=!0,c=!1;try{if(n=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(r=n.call(i)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(m){c=!0,a=m}finally{try{if(!u&&i.return!=null&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function bR(e){if(Array.isArray(e))return e}var SN=x.forwardRef(function(e,t){var i=e.aspect,r=e.width,a=r===void 0?"100%":r,n=e.height,s=n===void 0?"100%":n,l=e.minWidth,u=e.minHeight,c=e.maxHeight,m=e.children,p=e.debounce,f=p===void 0?0:p,b=e.id,g=e.className,h=x.useState({containerWidth:-1,containerHeight:-1}),y=fR(h,2),C=y[0],N=y[1],d=x.useRef(null);x.useImperativeHandle(t,function(){return d},[d]);var v=x.useCallback(function(){return d.current?{containerWidth:d.current.clientWidth,containerHeight:d.current.clientHeight}:null},[]),k=x.useCallback(function(){var O=v();if(O){var _=O.containerWidth,A=O.containerHeight;N(function(z){var D=z.containerWidth,U=z.containerHeight;return _!==D||A!==U?{containerWidth:_,containerHeight:A}:z})}},[v]),T=x.useMemo(function(){var O=C.containerWidth,_=C.containerHeight;if(O<0||_<0)return null;Aa(Yr(a)||Yr(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),Aa(!i||i>0,"The aspect(%s) must be greater than zero.",i);var A=Yr(a)?O:a,z=Yr(s)?_:s;return i&&i>0&&(A?z=A/i:z&&(A=z*i),c&&z>c&&(z=c)),Aa(A>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,z,a,s,l,u,i),x.cloneElement(m,{width:A,height:z})},[i,m,s,c,u,l,C,a]);x.useEffect(function(){var O=v();O&&N(O)},[v]);var S={width:a,height:s,minWidth:l,minHeight:u,maxHeight:c};return G.createElement(pR,{handleWidth:!0,handleHeight:!0,onResize:k,targetRef:d,refreshMode:f>0?"debounce":void 0,refreshRate:f},G.createElement("div",sm({},b!=null?{id:"".concat(b)}:{},{className:Ge("recharts-responsive-container",g),style:S,ref:d}),T))}),hf=function(t){return null};hf.displayName="Cell";var om={exports:{}},Iu=40,Ru=41,uo=39,ju=34,Bu=92,co=47,Lu=44,Fu=58,tg=42,yR=function(e){for(var t=[],i=e,r,a,n,s,l,u,c,m=0,p=i.charCodeAt(m),f=i.length,b=[{nodes:t}],g=0,h,y="",C="",N="";m<f;)if(p<=32){r=m;do r+=1,p=i.charCodeAt(r);while(p<=32);s=i.slice(m,r),n=t[t.length-1],p===Ru&&g?N=s:n&&n.type==="div"?n.after=s:p===Lu||p===Fu||p===co&&i.charCodeAt(r+1)!==tg?C=s:t.push({type:"space",sourceIndex:m,value:s}),m=r}else if(p===uo||p===ju){r=m,a=p===uo?"'":'"',s={type:"string",sourceIndex:m,quote:a};do if(l=!1,r=i.indexOf(a,r+1),~r)for(u=r;i.charCodeAt(u-1)===Bu;)u-=1,l=!l;else i+=a,r=i.length-1,s.unclosed=!0;while(l);s.value=i.slice(m+1,r),t.push(s),m=r+1,p=i.charCodeAt(m)}else if(p===co&&i.charCodeAt(m+1)===tg)s={type:"comment",sourceIndex:m},r=i.indexOf("*/",m),r===-1&&(s.unclosed=!0,r=i.length),s.value=i.slice(m+2,r),t.push(s),m=r+2,p=i.charCodeAt(m);else if(p===co||p===Lu||p===Fu)s=i[m],t.push({type:"div",sourceIndex:m-C.length,value:s,before:C,after:""}),C="",m+=1,p=i.charCodeAt(m);else if(Iu===p){r=m;do r+=1,p=i.charCodeAt(r);while(p<=32);if(s={type:"function",sourceIndex:m-y.length,value:y,before:i.slice(m+1,r)},m=r,y==="url"&&p!==uo&&p!==ju){r-=1;do if(l=!1,r=i.indexOf(")",r+1),~r)for(u=r;i.charCodeAt(u-1)===Bu;)u-=1,l=!l;else i+=")",r=i.length-1,s.unclosed=!0;while(l);c=r;do c-=1,p=i.charCodeAt(c);while(p<=32);m!==c+1?s.nodes=[{type:"word",sourceIndex:m,value:i.slice(m,c+1)}]:s.nodes=[],s.unclosed&&c+1!==r?(s.after="",s.nodes.push({type:"space",sourceIndex:c+1,value:i.slice(c+1,r)})):s.after=i.slice(c+1,r),m=r+1,p=i.charCodeAt(m),t.push(s)}else g+=1,s.after="",t.push(s),b.push(s),t=s.nodes=[],h=s;y=""}else if(Ru===p&&g)m+=1,p=i.charCodeAt(m),h.after=N,N="",g-=1,b.pop(),h=b[g],t=h.nodes;else{r=m;do p===Bu&&(r+=1),r+=1,p=i.charCodeAt(r);while(r<f&&!(p<=32||p===uo||p===ju||p===Lu||p===Fu||p===co||p===Iu||p===Ru&&g));s=i.slice(m,r),Iu===p?y=s:t.push({type:"word",sourceIndex:m,value:s}),m=r}for(m=b.length-1;m;m-=1)b[m].unclosed=!0;return b[0].nodes},vR=function e(t,i,r){var a,n,s,l;for(a=0,n=t.length;a<n;a+=1)s=t[a],r||(l=i(s,a,t)),l!==!1&&s.type==="function"&&Array.isArray(s.nodes)&&e(s.nodes,i,r),r&&i(s,a,t)};function ig(e,t){var i=e.type,r=e.value,a,n;return t&&(n=t(e))!==void 0?n:i==="word"||i==="space"?r:i==="string"?(a=e.quote||"",a+r+(e.unclosed?"":a)):i==="comment"?"/*"+r+(e.unclosed?"":"*/"):i==="div"?(e.before||"")+r+(e.after||""):Array.isArray(e.nodes)?(a=ON(e.nodes),i!=="function"?a:r+"("+(e.before||"")+a+(e.after||"")+(e.unclosed?"":")")):r}function ON(e,t){var i,r;if(Array.isArray(e)){for(i="",r=e.length-1;~r;r-=1)i=ig(e[r],t)+i;return i}return ig(e,t)}var CR=ON,Wu,rg;function NR(){if(rg)return Wu;rg=1;var e=45,t=43,i=46,r=101,a=69;return Wu=function(n){for(var s=0,l=n.length,u=!1,c=-1,m=!1,p;s<l;){if(p=n.charCodeAt(s),p>=48&&p<=57)m=!0;else if(p===r||p===a){if(c>-1)break;c=s}else if(p===i){if(u)break;u=!0}else if(p===t||p===e){if(s!==0)break}else break;s+=1}return c+1===s&&s--,m?{number:n.slice(0,s),unit:n.slice(s)}:!1},Wu}var xR=yR,zN=vR,DN=CR;function Sr(e){return this instanceof Sr?(this.nodes=xR(e),this):new Sr(e)}Sr.prototype.toString=function(){return Array.isArray(this.nodes)?DN(this.nodes):""};Sr.prototype.walk=function(e,t){return zN(this.nodes,e,t),this};Sr.unit=NR();Sr.walk=zN;Sr.stringify=DN;var TR=Sr,_N={};(function(e){var t=function(){function i(f,b){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),f==null&&(f="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:f}),this.hash=b;var g;if(b&&b.exception instanceof Error){var h=b.exception;this.message=h.message||f,g=h.stack}g||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):g=new Error(f).stack),g&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:g})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(i.prototype,Error.prototype):i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.name="JisonParserError";function r(f){for(var b=[],g=f.pop,h=f.rule,y=0,C=g.length;y<C;y++)b.push([g[y],h[y]]);return b}function a(f){for(var b={},g=f.idx,h=f.goto,y=0,C=g.length;y<C;y++){var N=g[y];b[N]=h[y]}return b}function n(f){for(var b=[],g=f.len,h=f.symbol,y=f.type,C=f.state,N=f.mode,d=f.goto,v=0,k=g.length;v<k;v++){for(var T=g[v],S={},O=0;O<T;O++){var _=h.shift();switch(y.shift()){case 2:S[_]=[N.shift(),d.shift()];break;case 0:S[_]=C.shift();break;default:S[_]=[3]}}b.push(S)}return b}function s(f,b,g){g=g||0;for(var h=0;h<b;h++)this.push(f),f+=g}function l(f,b){for(f=this.length-f,b+=f;f<b;f++)this.push(this[f])}function u(f){for(var b=[],g=0,h=f.length;g<h;g++){var y=f[g];typeof y=="function"?(g++,y.apply(b,f[g])):b.push(y)}return b}var c={trace:function(){},JisonParserError:i,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(b){return'"'+b+'"'},getSymbolName:function(b){if(this.terminals_[b])return this.terminals_[b];var g=this.symbols_;for(var h in g)if(g[h]===b)return h;return null},describeSymbol:function(b){if(b!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[b])return this.terminal_descriptions_[b];if(b===this.EOF)return"end of input";var g=this.getSymbolName(b);return g?this.quoteName(g):null},collect_expected_token_set:function(b,g){var h=this.TERROR,y=[],C={};if(!g&&this.state_descriptions_&&this.state_descriptions_[b])return[this.state_descriptions_[b]];for(var N in this.table[b])if(N=+N,N!==h){var d=g?N:this.describeSymbol(N);d&&!C[d]&&(y.push(d),C[d]=!0)}return y},productions_:r({pop:u([29,s,[30,10],31,31,32,32,s,[33,15]]),rule:u([2,s,[3,5],4,7,s,[1,4],2,4,6,s,[1,14],2])}),performAction:function(b,g,h){var y=this.yy;switch(y.parser,y.lexer,b){case 0:this.$=h[g-1];break;case 1:return this.$=h[g-1],h[g-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:h[g-1],left:h[g-2],right:h[g]};break;case 6:this.$=h[g-1];break;case 7:this.$={type:"Calc",value:h[g-1]};break;case 8:this.$={type:"Calc",value:h[g-1],prefix:h[g-5]};break;case 9:case 10:case 11:this.$=h[g];break;case 12:this.$={type:"Value",value:parseFloat(h[g])};break;case 13:this.$={type:"Value",value:parseFloat(h[g])*-1};break;case 14:this.$={type:"CssVariable",value:h[g-1]};break;case 15:this.$={type:"CssVariable",value:h[g-3],fallback:h[g-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(h[g]),unit:/[a-z]+/.exec(h[g])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(h[g]),unit:/[a-z]+/.exec(h[g])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(h[g]),unit:/[a-z]+/.exec(h[g])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(h[g]),unit:/[a-z]+/.exec(h[g])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(h[g]),unit:/[a-z]+/.exec(h[g])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(h[g]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(h[g]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(h[g]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(h[g]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(h[g]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(h[g]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(h[g]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(h[g]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(h[g]),unit:"%"};break;case 30:var C=h[g];C.value*=-1,this.$=C;break}},table:n({len:u([24,1,5,23,1,18,s,[0,3],1,s,[0,16],s,[23,4],l,[28,3],0,0,16,1,6,6,s,[0,3],5,1,2,l,[37,3],l,[20,3],5,0,0]),symbol:u([4,7,9,11,12,s,[15,19,1],1,1,s,[3,4,1],l,[30,19],l,[29,4],7,4,10,11,l,[22,14],l,[19,3],l,[43,22],l,[23,69],l,[139,4],8,l,[51,24],4,l,[138,15],13,l,[186,5],8,l,[6,6],l,[5,5],9,8,14,l,[159,47],l,[60,10]]),type:u([s,[2,19],s,[0,5],1,s,[2,24],s,[0,4],l,[22,19],l,[43,42],l,[23,70],l,[28,25],l,[45,25],l,[113,54]]),state:u([1,2,8,6,7,30,l,[4,3],33,37,l,[5,3],38,l,[4,3],39,l,[4,3],40,l,[4,3],42,l,[21,4],50,l,[5,3],51,l,[4,3]]),mode:u([s,[1,179],s,[2,3],l,[5,5],l,[6,4],s,[1,57]]),goto:u([5,3,4,24,s,[9,15,1],s,[25,5,1],l,[24,19],31,35,32,34,l,[18,14],36,l,[38,19],l,[19,57],l,[118,4],41,l,[24,19],43,35,l,[16,14],44,s,[2,3],28,29,2,s,[3,3],28,29,3,l,[53,4],s,[45,5,1],l,[100,42],52,l,[5,4],53])}),defaultActions:a({idx:u([6,7,8,s,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:u([9,10,11,s,[16,14,1],12,1,30,13,s,[4,4,1],14,15,8])}),parseError:function(b,g,h){if(g.recoverable)typeof this.trace=="function"&&this.trace(b),g.destroy();else throw typeof this.trace=="function"&&this.trace(b),h||(h=this.JisonParserError),new h(b,g)},parse:function(b){var g=this,h=new Array(128),y=new Array(128),C=new Array(128),N=this.table,d=0,v=0;this.TERROR;var k=this.EOF;this.options.errorRecoveryTokenDiscardCount|0;var T=[0,54],S;this.__lexer__?S=this.__lexer__:S=this.__lexer__=Object.create(this.lexer);var O={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};typeof assert!="function"||assert,this.yyGetSharedState=function(){return O};function _(ie,R){for(var Z in R)typeof ie[Z]>"u"&&Object.prototype.hasOwnProperty.call(R,Z)&&(ie[Z]=R[Z])}_(O,this.yy),O.lexer=S,O.parser=this,typeof O.parseError=="function"?this.parseError=function(R,Z,le){return le||(le=this.JisonParserError),O.parseError.call(this,R,Z,le)}:this.parseError=this.originalParseError,typeof O.quoteName=="function"?this.quoteName=function(R){return O.quoteName.call(this,R)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(R,Z,le){var E;if(Z){var ge;(O.post_parse||this.post_parse)&&(ge=this.constructParseErrorInfo(null,null,null,!1)),O.post_parse&&(E=O.post_parse.call(this,O,R,ge),typeof E<"u"&&(R=E)),this.post_parse&&(E=this.post_parse.call(this,O,R,ge),typeof E<"u"&&(R=E)),ge&&ge.destroy&&ge.destroy()}if(this.__reentrant_call_depth>1)return R;if(S.cleanupAfterLex&&S.cleanupAfterLex(le),O&&(O.lexer=void 0,O.parser=void 0,S.yy===O&&(S.yy=void 0)),O=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,h.length=0,y.length=0,C.length=0,d=0,!le){for(var ue=this.__error_infos.length-1;ue>=0;ue--){var re=this.__error_infos[ue];re&&typeof re.destroy=="function"&&re.destroy()}this.__error_infos.length=0}return R},this.constructParseErrorInfo=function(R,Z,le,E){var ge={errStr:R,exception:Z,text:S.match,value:S.yytext,token:this.describeSymbol(v)||v,token_id:v,line:S.yylineno,expected:le,recoverable:E,state:U,action:P,new_state:J,symbol_stack:h,state_stack:y,value_stack:C,stack_pointer:d,yy:O,lexer:S,parser:this,destroy:function(){var re=!!this.recoverable;for(var xe in this)this.hasOwnProperty(xe)&&typeof xe=="object"&&(this[xe]=void 0);this.recoverable=re}};return this.__error_infos.push(ge),ge};function A(){var ie=S.lex();return typeof ie!="number"&&(ie=g.symbols_[ie]||ie),ie||k}function z(){var ie=S.fastLex();return typeof ie!="number"&&(ie=g.symbols_[ie]||ie),ie||k}var D=A,U,P,$,B,q={$:!0,_$:void 0,yy:O},j,F,K,J,V=!1;try{if(this.__reentrant_call_depth++,S.setInput(b,O),typeof S.canIUse=="function"){var Q=S.canIUse();Q.fastLex&&typeof z=="function"&&(D=z)}for(C[d]=null,y[d]=0,h[d]=0,++d,this.pre_parse&&this.pre_parse.call(this,O),O.pre_parse&&O.pre_parse.call(this,O),J=y[d-1];;){if(U=J,this.defaultActions[U])P=2,J=this.defaultActions[U];else if(v||(v=D()),B=N[U]&&N[U][v]||T,J=B[1],P=B[0],!P){var se,de=this.describeSymbol(v)||v,ye=this.collect_expected_token_set(U);typeof S.yylineno=="number"?se="Parse error on line "+(S.yylineno+1)+": ":se="Parse error: ",typeof S.showPosition=="function"&&(se+=`
`+S.showPosition(69,10)+`
`),ye.length?se+="Expecting "+ye.join(", ")+", got unexpected "+de:se+="Unexpected "+de,j=this.constructParseErrorInfo(se,null,ye,!1),$=this.parseError(j.errStr,j,this.JisonParserError),typeof $<"u"&&(V=$);break}switch(P){default:if(P instanceof Array){j=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+U+", token: "+v,null,null,!1),$=this.parseError(j.errStr,j,this.JisonParserError),typeof $<"u"&&(V=$);break}j=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),$=this.parseError(j.errStr,j,this.JisonParserError),typeof $<"u"&&(V=$);break;case 1:h[d]=v,C[d]=S.yytext,y[d]=J,++d,v=0;continue;case 2:if(K=this.productions_[J-1],F=K[1],$=this.performAction.call(q,J,d-1,C),typeof $<"u"){V=$;break}d-=F;var ne=K[0];h[d]=ne,C[d]=q.$,J=N[y[d-1]][ne],y[d]=J,++d;continue;case 3:d!==-2&&(V=!0,d--,typeof C[d]<"u"&&(V=C[d]));break}break}}catch(ie){if(ie instanceof this.JisonParserError)throw ie;if(S&&typeof S.JisonLexerError=="function"&&ie instanceof S.JisonLexerError)throw ie;j=this.constructParseErrorInfo("Parsing aborted due to exception.",ie,null,!1),V=!1,$=this.parseError(j.errStr,j,this.JisonParserError),typeof $<"u"&&(V=$)}finally{V=this.cleanupAfterParse(V,!0,!0),this.__reentrant_call_depth--}return V}};c.originalParseError=c.parseError,c.originalQuoteName=c.quoteName;var m=function(){function f(g,h){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),g==null&&(g="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:g}),this.hash=h;var y;if(h&&h.exception instanceof Error){var C=h.exception;this.message=C.message||g,y=C.stack}y||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):y=new Error(g).stack),y&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:y})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(f.prototype,Error.prototype):f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.prototype.name="JisonLexerError";var b={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(h,y,C){if(h=""+h,C==null&&(C=!(h.indexOf(`
`)>0&&h.indexOf("^")>0)),this.yylloc&&C){if(typeof this.prettyPrintRange=="function")this.prettyPrintRange(this.yylloc),/\n\s*$/.test(h)||(h+=`
`),h+=`
  Erroneous area:
`+this.prettyPrintRange(this.yylloc);else if(typeof this.showPosition=="function"){var N=this.showPosition();N&&(h.length&&h[h.length-1]!==`
`&&N[0]!==`
`?h+=`
`+N:h+=N)}}var d={errStr:h,recoverable:!!y,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var k=!!this.recoverable;for(var T in this)this.hasOwnProperty(T)&&typeof T=="object"&&(this[T]=void 0);this.recoverable=k}};return this.__error_infos.push(d),d},parseError:function(h,y,C){if(C||(C=this.JisonLexerError),this.yy){if(this.yy.parser&&typeof this.yy.parser.parseError=="function")return this.yy.parser.parseError.call(this,h,y,C)||this.ERROR;if(typeof this.yy.parseError=="function")return this.yy.parseError.call(this,h,y,C)||this.ERROR}throw new C(h,y)},yyerror:function(h){var y="";this.yylloc&&(y=" on line "+(this.yylineno+1));var C=this.constructLexErrorInfo("Lexical error"+y+": "+h,this.options.lexerErrorsAreRecoverable),N=Array.prototype.slice.call(arguments,1);return N.length&&(C.extra_error_attributes=N),this.parseError(C.errStr,C,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(h){if(this.setInput("",{}),!h){for(var y=this.__error_infos.length-1;y>=0;y--){var C=this.__error_infos[y];C&&typeof C.destroy=="function"&&C.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var h=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:h,last_line:this.yylineno+1,last_column:h,range:[this.offset,this.offset]}},setInput:function(h,y){if(this.yy=y||this.yy||{},!this.__decompressed){for(var C=this.rules,N=0,d=C.length;N<d;N++){var v=C[N];typeof v=="number"&&(C[N]=C[v])}var k=this.conditions;for(var T in k){for(var S=k[T],O=S.rules,d=O.length,_=new Array(d+1),A=new Array(d+1),N=0;N<d;N++){var z=O[N],v=C[z];_[N+1]=v,A[N+1]=z}S.rules=A,S.__rule_regexes=_,S.__rule_count=d}this.__decompressed=!0}return this._input=h||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(h,y){var C=h.call(this,this._input,y);return typeof C!="string"?C&&(this._input=""+C):this._input=C,this},input:function(){if(!this._input)return null;var h=this._input[0];this.yytext+=h,this.yyleng++,this.offset++,this.match+=h,this.matched+=h;var y=1,C=!1;if(h===`
`)C=!0;else if(h==="\r"){C=!0;var N=this._input[1];N===`
`&&(y++,h+=N,this.yytext+=N,this.yyleng++,this.offset++,this.match+=N,this.matched+=N,this.yylloc.range[1]++)}return C?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(y),h},unput:function(h){var y=h.length,C=h.split(/(?:\r\n?|\n)/g);if(this._input=h+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-y),this.yyleng=this.yytext.length,this.offset-=y,this.match=this.match.substr(0,this.match.length-y),this.matched=this.matched.substr(0,this.matched.length-y),C.length>1){this.yylineno-=C.length-1,this.yylloc.last_line=this.yylineno+1;var N=this.match,d=N.split(/(?:\r\n?|\n)/g);d.length===1&&(N=this.matched,d=N.split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=d[d.length-1].length}else this.yylloc.last_column-=y;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var h="";this.yylloc&&(h=" on line "+(this.yylineno+1));var y=this.constructLexErrorInfo("Lexical error"+h+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(y.errStr,y,this.JisonLexerError)||this.ERROR}return this},less:function(h){return this.unput(this.match.slice(h))},pastInput:function(h,y){var C=this.matched.substring(0,this.matched.length-this.match.length);h<0?h=C.length:h||(h=20),y<0?y=C.length:y||(y=1),C=C.substr(-h*2-2);var N=C.replace(/\r\n|\r/g,`
`).split(`
`);return N=N.slice(-y),C=N.join(`
`),C.length>h&&(C="..."+C.substr(-h)),C},upcomingInput:function(h,y){var C=this.match;h<0?h=C.length+this._input.length:h||(h=20),y<0?y=h:y||(y=1),C.length<h*2+2&&(C+=this._input.substring(0,h*2+2));var N=C.replace(/\r\n|\r/g,`
`).split(`
`);return N=N.slice(0,y),C=N.join(`
`),C.length>h&&(C=C.substring(0,h)+"..."),C},showPosition:function(h,y){var C=this.pastInput(h).replace(/\s/g," "),N=new Array(C.length+1).join("-");return C+this.upcomingInput(y).replace(/\s/g," ")+`
`+N+"^"},deriveLocationInfo:function(h,y,C,N){var d={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return h&&(d.first_line=h.first_line|0,d.last_line=h.last_line|0,d.first_column=h.first_column|0,d.last_column=h.last_column|0,h.range&&(d.range[0]=h.range[0]|0,d.range[1]=h.range[1]|0)),(d.first_line<=0||d.last_line<d.first_line)&&(d.first_line<=0&&y&&(d.first_line=y.last_line|0,d.first_column=y.last_column|0,y.range&&(d.range[0]=h.range[1]|0)),(d.last_line<=0||d.last_line<d.first_line)&&C&&(d.last_line=C.first_line|0,d.last_column=C.first_column|0,C.range&&(d.range[1]=h.range[0]|0)),d.first_line<=0&&N&&(d.last_line<=0||N.last_line<=d.last_line)&&(d.first_line=N.first_line|0,d.first_column=N.first_column|0,N.range&&(d.range[0]=N.range[0]|0)),d.last_line<=0&&N&&(d.first_line<=0||N.first_line>=d.first_line)&&(d.last_line=N.last_line|0,d.last_column=N.last_column|0,N.range&&(d.range[1]=N.range[1]|0))),d.last_line<=0&&(d.first_line<=0?(d.first_line=this.yylloc.first_line,d.last_line=this.yylloc.last_line,d.first_column=this.yylloc.first_column,d.last_column=this.yylloc.last_column,d.range[0]=this.yylloc.range[0],d.range[1]=this.yylloc.range[1]):(d.last_line=this.yylloc.last_line,d.last_column=this.yylloc.last_column,d.range[1]=this.yylloc.range[1])),d.first_line<=0&&(d.first_line=d.last_line,d.first_column=0,d.range[1]=d.range[0]),d.first_column<0&&(d.first_column=0),d.last_column<0&&(d.last_column=d.first_column>0?d.first_column:80),d},prettyPrintRange:function(h,y,C){h=this.deriveLocationInfo(h,y,C);const N=3,d=1,v=2;var k=this.matched+this._input,T=k.split(`
`),S=Math.max(1,y?y.first_line:h.first_line-N),O=Math.max(1,C?C.last_line:h.last_line+d),_=1+Math.log10(O|1)|0,A=new Array(_).join(" "),z=[],D=T.slice(S-1,O+1).map(function(q,j){var F=j+S,K=(A+F).substr(-_),J=K+": "+q,V=new Array(_+1).join("^"),Q=3,se=0;if(F===h.first_line?(Q+=h.first_column,se=Math.max(2,(F===h.last_line?h.last_column:q.length)-h.first_column+1)):F===h.last_line?se=Math.max(2,h.last_column+1):F>h.first_line&&F<h.last_line&&(se=Math.max(2,q.length+1)),se){var de=new Array(Q).join("."),ye=new Array(se).join("^");J+=`
`+V+de+ye,q.trim().length>0&&z.push(j)}return J=J.replace(/\t/g," "),J});if(z.length>2*v){var U=z[v-1]+1,P=z[z.length-v]-1,$=new Array(_+1).join(" ")+"  (...continued...)";$+=`
`+new Array(_+1).join("-")+"  (---------------)",D.splice(U,P-U+1,$)}return D.join(`
`)},describeYYLLOC:function(h,y){var C=h.first_line,N=h.last_line,d=h.first_column,v=h.last_column,k=N-C,T=v-d,S;if(k===0?(S="line "+C+", ",T<=1?S+="column "+d:S+="columns "+d+" .. "+v):S="lines "+C+"(column "+d+") .. "+N+"(column "+v+")",h.range&&y){var O=h.range[0],_=h.range[1]-1;_<=O?S+=" {String Offset: "+O+"}":S+=" {String Offset range: "+O+" .. "+_+"}"}return S},test_match:function(h,y){var C,N,d,v,k;if(this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),v=h[0],k=v.length,N=v.split(/(?:\r\n?|\n)/g),N.length>1?(this.yylineno+=N.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=N[N.length-1].length):this.yylloc.last_column+=k,this.yytext+=v,this.match+=v,this.matched+=v,this.matches=h,this.yyleng=this.yytext.length,this.yylloc.range[1]+=k,this.offset+=k,this._more=!1,this._backtrack=!1,this._input=this._input.slice(k),C=this.performAction.call(this,this.yy,y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),C)return C;if(this._backtrack){for(var T in d)this[T]=d[T];return this.__currentRuleSet__=null,!1}else if(this._signaled_error_token)return C=this._signaled_error_token,this._signaled_error_token=!1,C;return!1},next:function(){if(this.done)return this.clear(),this.EOF;this._input||(this.done=!0);var h,y,C,N;this._more||this.clear();var d=this.__currentRuleSet__;if(!d&&(d=this.__currentRuleSet__=this._currentRules(),!d||!d.rules)){var v="";this.options.trackPosition&&(v=" on line "+(this.yylineno+1));var k=this.constructLexErrorInfo("Internal lexer engine error"+v+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(k.errStr,k,this.JisonLexerError)||this.ERROR}for(var T=d.rules,S=d.__rule_regexes,O=d.__rule_count,_=1;_<=O;_++)if(C=this._input.match(S[_]),C&&(!y||C[0].length>y[0].length)){if(y=C,N=_,this.options.backtrack_lexer){if(h=this.test_match(C,T[_]),h!==!1)return h;if(this._backtrack){y=void 0;continue}else return!1}else if(!this.options.flex)break}if(y)return h=this.test_match(y,T[N]),h!==!1?h:!1;if(this._input){var v="";this.options.trackPosition&&(v=" on line "+(this.yylineno+1));var k=this.constructLexErrorInfo("Lexical error"+v+": Unrecognized text.",this.options.lexerErrorsAreRecoverable),A=this._input,z=this.topState(),D=this.conditionStack.length;return h=this.parseError(k.errStr,k,this.JisonLexerError)||this.ERROR,h===this.ERROR&&!this.matches&&A===this._input&&z===this.topState()&&D===this.conditionStack.length&&this.input(),h}else return this.done=!0,this.clear(),this.EOF},lex:function(){var h;for(typeof this.pre_lex=="function"&&(h=this.pre_lex.call(this,0)),typeof this.options.pre_lex=="function"&&(h=this.options.pre_lex.call(this,h)||h),this.yy&&typeof this.yy.pre_lex=="function"&&(h=this.yy.pre_lex.call(this,h)||h);!h;)h=this.next();return this.yy&&typeof this.yy.post_lex=="function"&&(h=this.yy.post_lex.call(this,h)||h),typeof this.options.post_lex=="function"&&(h=this.options.post_lex.call(this,h)||h),typeof this.post_lex=="function"&&(h=this.post_lex.call(this,h)||h),h},fastLex:function(){for(var h;!h;)h=this.next();return h},canIUse:function(){var h={fastLex:!(typeof this.pre_lex=="function"||typeof this.options.pre_lex=="function"||this.yy&&typeof this.yy.pre_lex=="function"||this.yy&&typeof this.yy.post_lex=="function"||typeof this.options.post_lex=="function"||typeof this.post_lex=="function")&&typeof this.fastLex=="function"};return h},begin:function(h){return this.pushState(h)},pushState:function(h){return this.conditionStack.push(h),this.__currentRuleSet__=null,this},popState:function(){var h=this.conditionStack.length-1;return h>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(h){return h=this.conditionStack.length-1-Math.abs(h||0),h>=0?this.conditionStack[h]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:f,performAction:function(h,y,C){switch(y){case 1:break;default:return this.simpleCaseActionClusters[y]}},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return b}();c.lexer=m;function p(){this.yy={}}return p.prototype=c,c.Parser=p,new p}();typeof g1<"u"&&(e.parser=t,e.Parser=t.Parser,e.parse=function(){return t.parse.apply(t,arguments)})})(_N);var Ws={},lm={exports:{}},qu={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:1/1e3},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:1/1e3,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}},kR=function(e,t,i,r){if(!qu.hasOwnProperty(i))throw new Error("Cannot convert to "+i);if(!qu[i].hasOwnProperty(t))throw new Error("Cannot convert from "+t+" to "+i);var a=qu[i][t]*e;return r!==!1?(r=Math.pow(10,parseInt(r)||5),Math.round(a*r)/r):a};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=kR,r=a(i);function a(l){return l&&l.__esModule?l:{default:l}}function n(l,u,c){switch(l.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return s(l,u,c);default:return{left:l,right:u}}}function s(l,u,c){return u.type===l.type&&(u={type:l.type,value:(0,r.default)(u.value,u.unit,l.unit,c),unit:l.unit}),{left:l,right:u}}t.default=n,e.exports=t.default})(lm,lm.exports);var SR=lm.exports;Object.defineProperty(Ws,"__esModule",{value:!0});Ws.flip=um;var OR=SR,Hu=zR(OR);function zR(e){return e&&e.__esModule?e:{default:e}}function Tt(e,t){return e.type==="MathExpression"?UR(e,t):e.type==="Calc"?Tt(e.value,t):e}function ag(e,t){return e.type===t.type&&e.value===t.value}function At(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function DR(e,t){var i=(0,Hu.default)(e.left,e.right,t),r=Tt(i.left,t),a=Tt(i.right,t);return r.type==="MathExpression"&&a.type==="MathExpression"&&(r.operator==="/"&&a.operator==="*"||r.operator==="-"&&a.operator==="+"||r.operator==="*"&&a.operator==="/"||r.operator==="+"&&a.operator==="-")&&(ag(r.right,a.right)?i=(0,Hu.default)(r.left,a.left,t):ag(r.right,a.left)&&(i=(0,Hu.default)(r.left,a.right,t)),r=Tt(i.left,t),a=Tt(i.right,t)),e.left=r,e.right=a,e}function um(e){return e==="+"?"-":"+"}function cm(e){return At(e.type)?e.value=-e.value:e.type=="MathExpression"&&(e.left=cm(e.left),e.right=cm(e.right)),e}function _R(e,t){var i=e,r=i.left,a=i.right,n=i.operator;if(r.type==="CssVariable"||a.type==="CssVariable")return e;if(a.value===0)return r;if(r.value===0&&n==="+")return a;if(r.value===0&&n==="-")return cm(a);if(r.type===a.type&&At(r.type)&&(e=Object.assign({},r),n==="+"?e.value=r.value+a.value:e.value=r.value-a.value),At(r.type)&&(a.operator==="+"||a.operator==="-")&&a.type==="MathExpression"){if(r.type===a.left.type)return e=Object.assign({},e),e.left=Tt({type:"MathExpression",operator:n,left:r,right:a.left},t),e.right=a.right,e.operator=n==="-"?um(a.operator):a.operator,Tt(e,t);if(r.type===a.right.type)return e=Object.assign({},e),e.left=Tt({type:"MathExpression",operator:n==="-"?um(a.operator):a.operator,left:r,right:a.right},t),e.right=a.left,Tt(e,t)}if(r.type==="MathExpression"&&(r.operator==="+"||r.operator==="-")&&At(a.type)){if(a.type===r.left.type)return e=Object.assign({},r),e.left=Tt({type:"MathExpression",operator:n,left:r.left,right:a},t),Tt(e,t);if(a.type===r.right.type)return e=Object.assign({},r),r.operator==="-"?(e.right=Tt({type:"MathExpression",operator:n==="-"?"+":"-",left:a,right:r.right},t),e.operator=n==="-"?"-":"+"):e.right=Tt({type:"MathExpression",operator:n,left:r.right,right:a},t),e.right.value<0&&(e.right.value*=-1,e.operator=e.operator==="-"?"+":"-"),Tt(e,t)}return e}function wR(e,t){if(!At(e.right.type))return e;if(e.right.type!=="Value")throw new Error('Cannot divide by "'+e.right.unit+'", number expected');if(e.right.value===0)throw new Error("Cannot divide by zero");return e.left.type==="MathExpression"?At(e.left.left.type)&&At(e.left.right.type)?(e.left.left.value/=e.right.value,e.left.right.value/=e.right.value,Tt(e.left,t)):e:At(e.left.type)?(e.left.value/=e.right.value,e.left):e}function AR(e){if(e.left.type==="MathExpression"&&e.right.type==="Value"){if(At(e.left.left.type)&&At(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(At(e.left.type)&&e.right.type==="Value")return e.left.value*=e.right.value,e.left;if(e.left.type==="Value"&&e.right.type==="MathExpression"){if(At(e.right.left.type)&&At(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if(e.left.type==="Value"&&At(e.right.type))return e.right.value*=e.left.value,e.right}return e}function UR(e,t){switch(e=DR(e,t),e.operator){case"+":case"-":return _R(e,t);case"/":return wR(e,t);case"*":return AR(e)}return e}Ws.default=Tt;var mm={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(s,l,u){var c=n(l,u);return l.type==="MathExpression"&&(c=s+"("+c+")"),c};var i=Ws,r={"*":0,"/":0,"+":1,"-":1};function a(s,l){if(l!==!1){var u=Math.pow(10,l);return Math.round(s*u)/u}return s}function n(s,l){switch(s.type){case"MathExpression":{var u=s.left,c=s.right,m=s.operator,p="";return u.type==="MathExpression"&&r[m]<r[u.operator]?p+="("+n(u,l)+")":p+=n(u,l),p+=" "+s.operator+" ",c.type==="MathExpression"&&r[m]<r[c.operator]?p+="("+n(c,l)+")":(c.type==="MathExpression"&&m==="-"&&["+","-"].includes(c.operator)&&(c.operator=(0,i.flip)(c.operator)),p+=n(c,l)),p}case"Value":return a(s.value,l);case"CssVariable":return s.fallback?"var("+s.value+", "+n(s.fallback,l)+")":"var("+s.value+")";case"Calc":return s.prefix?"-"+s.prefix+"-calc("+n(s.value,l)+")":"calc("+n(s.value,l)+")";default:return a(s.value,l)+s.unit}}e.exports=t.default})(mm,mm.exports);var GR=mm.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=TR,r=c(i),a=_N,n=Ws,s=c(n),l=GR,u=c(l);function c(p){return p&&p.__esModule?p:{default:p}}var m=/((?:\-[a-z]+\-)?calc)/;t.default=function(p){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return(0,r.default)(p).walk(function(b){if(!(b.type!=="function"||!m.test(b.value))){var g=r.default.stringify(b.nodes);if(!(g.indexOf("constant")>=0||g.indexOf("env")>=0)){var h=a.parser.parse(g),y=(0,s.default)(h,f);b.type="word",b.value=(0,u.default)(b.value,y,f)}}},!0).toString()},e.exports=t.default})(om,om.exports);var ER=om.exports;const Ku=Re(ER);function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function ng(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function sg(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(i),!0).forEach(function(r){MR(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ng(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function MR(e,t,i){return t=PR(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function PR(e){var t=$R(e,"string");return cs(t)==="symbol"?t:String(t)}function $R(e,t){if(cs(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(cs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function og(e){return BR(e)||jR(e)||RR(e)||IR()}function IR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RR(e,t){if(e){if(typeof e=="string")return pm(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return pm(e,t)}}function jR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BR(e){if(Array.isArray(e))return pm(e)}function pm(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var Na={widthCache:{},cacheCount:0},LR=2e3,FR={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WR=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],lg="recharts_measurement_span";function qR(e,t){return WR.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}function HR(e){var t=e.split(""),i=t.reduce(function(r,a){return a===a.toUpperCase()?[].concat(og(r),["-",a.toLowerCase()]):[].concat(og(r),[a])},[]);return i.join("")}var KR=function(t){return Object.keys(t).reduce(function(i,r){return"".concat(i).concat(HR(r),":").concat(qR(r,t[r]),";")},"")},Kr=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hi.isSsr)return{width:0,height:0};var r="".concat(t),a=KR(i),n="".concat(r,"-").concat(a);if(Na.widthCache[n])return Na.widthCache[n];try{var s=document.getElementById(lg);s||(s=document.createElement("span"),s.setAttribute("id",lg),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=sg(sg({},FR),i);Object.keys(l).map(function(m){return s.style[m]=l[m],m}),s.textContent=r;var u=s.getBoundingClientRect(),c={width:u.width,height:u.height};return Na.widthCache[n]=c,++Na.cacheCount>LR&&(Na.cacheCount=0,Na.widthCache={}),c}catch{return{width:0,height:0}}},VR=function(t){var i=t.ownerDocument.documentElement,r={top:0,left:0};return typeof t.getBoundingClientRect<"u"&&(r=t.getBoundingClientRect()),{top:r.top+window.pageYOffset-i.clientTop,left:r.left+window.pageXOffset-i.clientLeft}},XR=function(t,i){return{chartX:Math.round(t.pageX-i.left),chartY:Math.round(t.pageY-i.top)}},YR=["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"];function Va(e){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(e)}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},fm.apply(this,arguments)}function JR(e,t){if(e==null)return{};var i=ZR(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZR(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function QR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ug(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AN(r.key),r)}}function e4(e,t,i){return t&&ug(e.prototype,t),i&&ug(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function t4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hm(e,t)}function hm(e,t){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},hm(e,t)}function i4(e){var t=a4();return function(){var r=Zo(e),a;if(t){var n=Zo(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return r4(this,a)}}function r4(e,t){if(t&&(Va(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wN(e)}function wN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zo(e){return Zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Zo(e)}function cg(e,t){return l4(e)||o4(e,t)||s4(e,t)||n4()}function n4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s4(e,t){if(e){if(typeof e=="string")return mg(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return mg(e,t)}}function mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function o4(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var r,a,n,s,l=[],u=!0,c=!1;try{if(n=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(r=n.call(i)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(m){c=!0,a=m}finally{try{if(!u&&i.return!=null&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function l4(e){if(Array.isArray(e))return e}function pg(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function fg(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?pg(Object(i),!0).forEach(function(r){df(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pg(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function df(e,t,i){return t=AN(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function AN(e){var t=u4(e,"string");return Va(t)==="symbol"?t:String(t)}function u4(e,t){if(Va(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(Va(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UN=/[ \f\n\r\t\v\u2028\u2029]+/,GN=function(t){try{var i=[];te(t.children)||(t.breakAll?i=t.children.toString().split(""):i=t.children.toString().split(UN));var r=i.map(function(n){return{word:n,width:Kr(n,t.style).width}}),a=t.breakAll?0:Kr("Â ",t.style).width;return{wordsWithComputedWidth:r,spaceWidth:a}}catch{return null}},c4=function(t,i,r,a,n){var s=X(t.maxLines),l=t.children,u=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(D,U){var P=U.word,$=U.width,B=D[D.length-1];if(B&&(a==null||n||B.width+$+r<a))B.words.push(P),B.width+=$+r;else{var q={words:[P],width:$};D.push(q)}return D},[])},c=u(i),m=function(z){return z.reduce(function(D,U){return D.width>U.width?D:U})};if(!s)return c;for(var p="â€¦",f=function(z){var D=l.slice(0,z),U=GN(fg(fg({},t),{},{children:D+p})).wordsWithComputedWidth,P=u(U),$=P.length>t.maxLines||m(P).width>a;return[$,P]},b=0,g=l.length-1,h=0,y;b<=g&&h<=l.length-1;){var C=Math.floor((b+g)/2),N=C-1,d=f(N),v=cg(d,2),k=v[0],T=v[1],S=f(C),O=cg(S,1),_=O[0];if(!k&&!_&&(b=C+1),k&&_&&(g=C-1),!k&&_){y=T;break}h++}return y||c},hg=function(t){var i=te(t)?[]:t.toString().split(UN);return[{words:i}]},m4=function(t,i){if((t.width||t.scaleToFit)&&!hi.isSsr){var r,a;if(i){var n=GN(t);if(n){var s=n.wordsWithComputedWidth,l=n.spaceWidth;r=s,a=l}else return hg(t.children);return c4(t,r,a,t.width,t.scaleToFit)}}return hg(t.children)},ms=function(e){t4(i,e);var t=i4(i);function i(){var r;QR(this,i);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=t.call.apply(t,[this].concat(n)),df(wN(r),"state",{}),r}return e4(i,[{key:"render",value:function(){var a=this.props,n=a.dx,s=a.dy,l=a.textAnchor,u=a.verticalAnchor,c=a.scaleToFit,m=a.angle,p=a.lineHeight,f=a.capHeight,b=a.className,g=a.breakAll,h=JR(a,YR),y=this.state.wordsByLines;if(!nt(h.x)||!nt(h.y))return null;var C=h.x+(X(n)?n:0),N=h.y+(X(s)?s:0),d;switch(u){case"start":d=Ku("calc(".concat(f,")"));break;case"middle":d=Ku("calc(".concat((y.length-1)/2," * -").concat(p," + (").concat(f," / 2))"));break;default:d=Ku("calc(".concat(y.length-1," * -").concat(p,")"));break}var v=[];if(c){var k=y[0].width,T=this.props.width;v.push("scale(".concat((X(T)?T/k:1)/k,")"))}return m&&v.push("rotate(".concat(m,", ").concat(C,", ").concat(N,")")),v.length&&(h.transform=v.join(" ")),G.createElement("text",fm({},ve(h,!0),{x:C,y:N,className:Ge("recharts-text",b),textAnchor:l,fill:h.fill.includes("url")?i.defaultProps.fill:h.fill}),y.map(function(S,O){return G.createElement("tspan",{x:C,dy:O===0?d:p,key:O},S.words.join(g?"":" "))}))}}],[{key:"getDerivedStateFromProps",value:function(a,n){if(a.width!==n.prevWidth||a.scaleToFit!==n.prevScaleToFit||a.children!==n.prevChildren||a.style!==n.prevStyle||a.breakAll!==n.prevBreakAll){var s=a.children!==n.prevChildren||a.style!==n.prevStyle||a.breakAll!==n.prevBreakAll;return{prevWidth:a.width,prevScaleToFit:a.scaleToFit,prevChildren:a.children,prevStyle:a.style,wordsByLines:m4(a,s)}}return null}}]),i}(x.Component);df(ms,"defaultProps",{x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",fill:"#808080"});var p4=rf;function f4(e,t){return p4(e,t)}var h4=f4;const Xa=Re(h4);var d4=vn;function g4(e,t,i){for(var r=-1,a=e.length;++r<a;){var n=e[r],s=t(n);if(s!=null&&(l===void 0?s===s&&!d4(s):i(s,l)))var l=s,u=n}return u}var EN=g4;function b4(e,t){return e>t}var y4=b4,v4=EN,C4=y4,N4=Sn;function x4(e){return e&&e.length?v4(e,N4,C4):void 0}var T4=x4;const br=Re(T4);function k4(e,t){return e<t}var S4=k4,O4=EN,z4=S4,D4=Sn;function _4(e){return e&&e.length?O4(e,D4,z4):void 0}var w4=_4;const iu=Re(w4);var A4=Vp,U4=Ar,G4=bN,E4=wt;function M4(e,t){var i=E4(e)?A4:G4;return i(e,U4(t))}var P4=M4,$4=dN,I4=P4;function R4(e,t){return $4(I4(e,t),1)}var j4=R4;const B4=Re(j4);function Nr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function L4(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gf(e){let t,i,r;e.length!==2?(t=Nr,i=(l,u)=>Nr(e(l),u),r=(l,u)=>e(l)-u):(t=e===Nr||e===L4?e:F4,i=e,r=e);function a(l,u,c=0,m=l.length){if(c<m){if(t(u,u)!==0)return m;do{const p=c+m>>>1;i(l[p],u)<0?c=p+1:m=p}while(c<m)}return c}function n(l,u,c=0,m=l.length){if(c<m){if(t(u,u)!==0)return m;do{const p=c+m>>>1;i(l[p],u)<=0?c=p+1:m=p}while(c<m)}return c}function s(l,u,c=0,m=l.length){const p=a(l,u,c,m-1);return p>c&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:a,center:s,right:n}}function F4(){return 0}function MN(e){return e===null?NaN:+e}function*W4(e,t){if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(yield i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(r=+r)>=r&&(yield r)}}const q4=gf(Nr),qs=q4.right;gf(MN).center;class dg extends Map{constructor(t,i=V4){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(gg(this,t))}has(t){return super.has(gg(this,t))}set(t,i){return super.set(H4(this,t),i)}delete(t){return super.delete(K4(this,t))}}function gg({_intern:e,_key:t},i){const r=t(i);return e.has(r)?e.get(r):i}function H4({_intern:e,_key:t},i){const r=t(i);return e.has(r)?e.get(r):(e.set(r,i),i)}function K4({_intern:e,_key:t},i){const r=t(i);return e.has(r)&&(i=e.get(r),e.delete(r)),i}function V4(e){return e!==null&&typeof e=="object"?e.valueOf():e}function X4(e=Nr){if(e===Nr)return PN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,i)=>{const r=e(t,i);return r||r===0?r:(e(i,i)===0)-(e(t,t)===0)}}function PN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Y4=Math.sqrt(50),J4=Math.sqrt(10),Z4=Math.sqrt(2);function Qo(e,t,i){const r=(t-e)/Math.max(0,i),a=Math.floor(Math.log10(r)),n=r/Math.pow(10,a),s=n>=Y4?10:n>=J4?5:n>=Z4?2:1;let l,u,c;return a<0?(c=Math.pow(10,-a)/s,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,a)*s,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=i&&i<2?Qo(e,t,i*2):[l,u,c]}function dm(e,t,i){if(t=+t,e=+e,i=+i,!(i>0))return[];if(e===t)return[e];const r=t<e,[a,n,s]=r?Qo(t,e,i):Qo(e,t,i);if(!(n>=a))return[];const l=n-a+1,u=new Array(l);if(r)if(s<0)for(let c=0;c<l;++c)u[c]=(n-c)/-s;else for(let c=0;c<l;++c)u[c]=(n-c)*s;else if(s<0)for(let c=0;c<l;++c)u[c]=(a+c)/-s;else for(let c=0;c<l;++c)u[c]=(a+c)*s;return u}function gm(e,t,i){return t=+t,e=+e,i=+i,Qo(e,t,i)[2]}function bm(e,t,i){t=+t,e=+e,i=+i;const r=t<e,a=r?gm(t,e,i):gm(e,t,i);return(r?-1:1)*(a<0?1/-a:a)}function bg(e,t){let i;if(t===void 0)for(const r of e)r!=null&&(i<r||i===void 0&&r>=r)&&(i=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(i<a||i===void 0&&a>=a)&&(i=a)}return i}function yg(e,t){let i;if(t===void 0)for(const r of e)r!=null&&(i>r||i===void 0&&r>=r)&&(i=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(i>a||i===void 0&&a>=a)&&(i=a)}return i}function $N(e,t,i=0,r=1/0,a){if(t=Math.floor(t),i=Math.floor(Math.max(0,i)),r=Math.floor(Math.min(e.length-1,r)),!(i<=t&&t<=r))return e;for(a=a===void 0?PN:X4(a);r>i;){if(r-i>600){const u=r-i+1,c=t-i+1,m=Math.log(u),p=.5*Math.exp(2*m/3),f=.5*Math.sqrt(m*p*(u-p)/u)*(c-u/2<0?-1:1),b=Math.max(i,Math.floor(t-c*p/u+f)),g=Math.min(r,Math.floor(t+(u-c)*p/u+f));$N(e,t,b,g,a)}const n=e[t];let s=i,l=r;for(In(e,i,t),a(e[r],n)>0&&In(e,i,r);s<l;){for(In(e,s,l),++s,--l;a(e[s],n)<0;)++s;for(;a(e[l],n)>0;)--l}a(e[i],n)===0?In(e,i,l):(++l,In(e,l,r)),l<=t&&(i=l+1),t<=l&&(r=l-1)}return e}function In(e,t,i){const r=e[t];e[t]=e[i],e[i]=r}function Q4(e,t,i){if(e=Float64Array.from(W4(e,i)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return yg(e);if(t>=1)return bg(e);var r,a=(r-1)*t,n=Math.floor(a),s=bg($N(e,n).subarray(0,n+1)),l=yg(e.subarray(n+1));return s+(l-s)*(a-n)}}function ej(e,t,i=MN){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+i(e[0],0,e);if(t>=1)return+i(e[r-1],r-1,e);var r,a=(r-1)*t,n=Math.floor(a),s=+i(e[n],n,e),l=+i(e[n+1],n+1,e);return s+(l-s)*(a-n)}}function tj(e,t,i){e=+e,t=+t,i=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+i;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/i))|0,n=new Array(a);++r<a;)n[r]=e+r*i;return n}function ri(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function or(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ym=Symbol("implicit");function bf(){var e=new dg,t=[],i=[],r=ym;function a(n){let s=e.get(n);if(s===void 0){if(r!==ym)return r;e.set(n,s=t.push(n)-1)}return i[s%i.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new dg;for(const s of n)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(n){return arguments.length?(i=Array.from(n),a):i.slice()},a.unknown=function(n){return arguments.length?(r=n,a):r},a.copy=function(){return bf(t,i).unknown(r)},ri.apply(a,arguments),a}function ps(){var e=bf().unknown(void 0),t=e.domain,i=e.range,r=0,a=1,n,s,l=!1,u=0,c=0,m=.5;delete e.unknown;function p(){var f=t().length,b=a<r,g=b?a:r,h=b?r:a;n=(h-g)/Math.max(1,f-u+c*2),l&&(n=Math.floor(n)),g+=(h-g-n*(f-u))*m,s=n*(1-u),l&&(g=Math.round(g),s=Math.round(s));var y=tj(f).map(function(C){return g+n*C});return i(b?y.reverse():y)}return e.domain=function(f){return arguments.length?(t(f),p()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,p()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,l=!0,p()},e.bandwidth=function(){return s},e.step=function(){return n},e.round=function(f){return arguments.length?(l=!!f,p()):l},e.padding=function(f){return arguments.length?(u=Math.min(1,c=+f),p()):u},e.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),p()):u},e.paddingOuter=function(f){return arguments.length?(c=+f,p()):c},e.align=function(f){return arguments.length?(m=Math.max(0,Math.min(1,f)),p()):m},e.copy=function(){return ps(t(),[r,a]).round(l).paddingInner(u).paddingOuter(c).align(m)},ri.apply(p(),arguments)}function IN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return IN(t())},e}function es(){return IN(ps.apply(null,arguments).paddingInner(1))}function yf(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function RN(e,t){var i=Object.create(e.prototype);for(var r in t)i[r]=t[r];return i}function Hs(){}var fs=.7,el=1/fs,Ua="\\s*([+-]?\\d+)\\s*",hs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ij=/^#([0-9a-f]{3,8})$/,rj=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),aj=new RegExp(`^rgb\\(${_i},${_i},${_i}\\)$`),nj=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${hs}\\)$`),sj=new RegExp(`^rgba\\(${_i},${_i},${_i},${hs}\\)$`),oj=new RegExp(`^hsl\\(${hs},${_i},${_i}\\)$`),lj=new RegExp(`^hsla\\(${hs},${_i},${_i},${hs}\\)$`),vg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yf(Hs,ds,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cg,formatHex:Cg,formatHex8:uj,formatHsl:cj,formatRgb:Ng,toString:Ng});function Cg(){return this.rgb().formatHex()}function uj(){return this.rgb().formatHex8()}function cj(){return jN(this).formatHsl()}function Ng(){return this.rgb().formatRgb()}function ds(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=ij.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?xg(t):i===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?mo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?mo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rj.exec(e))?new Gt(t[1],t[2],t[3],1):(t=aj.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nj.exec(e))?mo(t[1],t[2],t[3],t[4]):(t=sj.exec(e))?mo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oj.exec(e))?Sg(t[1],t[2]/100,t[3]/100,1):(t=lj.exec(e))?Sg(t[1],t[2]/100,t[3]/100,t[4]):vg.hasOwnProperty(e)?xg(vg[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function xg(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function mo(e,t,i,r){return r<=0&&(e=t=i=NaN),new Gt(e,t,i,r)}function mj(e){return e instanceof Hs||(e=ds(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function vm(e,t,i,r){return arguments.length===1?mj(e):new Gt(e,t,i,r??1)}function Gt(e,t,i,r){this.r=+e,this.g=+t,this.b=+i,this.opacity=+r}yf(Gt,vm,RN(Hs,{brighter(e){return e=e==null?el:Math.pow(el,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fs:Math.pow(fs,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(ta(this.r),ta(this.g),ta(this.b),tl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tg,formatHex:Tg,formatHex8:pj,formatRgb:kg,toString:kg}));function Tg(){return`#${Zr(this.r)}${Zr(this.g)}${Zr(this.b)}`}function pj(){return`#${Zr(this.r)}${Zr(this.g)}${Zr(this.b)}${Zr((isNaN(this.opacity)?1:this.opacity)*255)}`}function kg(){const e=tl(this.opacity);return`${e===1?"rgb(":"rgba("}${ta(this.r)}, ${ta(this.g)}, ${ta(this.b)}${e===1?")":`, ${e})`}`}function tl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ta(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zr(e){return e=ta(e),(e<16?"0":"")+e.toString(16)}function Sg(e,t,i,r){return r<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new ui(e,t,i,r)}function jN(e){if(e instanceof ui)return new ui(e.h,e.s,e.l,e.opacity);if(e instanceof Hs||(e=ds(e)),!e)return new ui;if(e instanceof ui)return e;e=e.rgb();var t=e.r/255,i=e.g/255,r=e.b/255,a=Math.min(t,i,r),n=Math.max(t,i,r),s=NaN,l=n-a,u=(n+a)/2;return l?(t===n?s=(i-r)/l+(i<r)*6:i===n?s=(r-t)/l+2:s=(t-i)/l+4,l/=u<.5?n+a:2-n-a,s*=60):l=u>0&&u<1?0:s,new ui(s,l,u,e.opacity)}function fj(e,t,i,r){return arguments.length===1?jN(e):new ui(e,t,i,r??1)}function ui(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}yf(ui,fj,RN(Hs,{brighter(e){return e=e==null?el:Math.pow(el,e),new ui(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fs:Math.pow(fs,e),new ui(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*t,a=2*i-r;return new Gt(Vu(e>=240?e-240:e+120,a,r),Vu(e,a,r),Vu(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ui(Og(this.h),po(this.s),po(this.l),tl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tl(this.opacity);return`${e===1?"hsl(":"hsla("}${Og(this.h)}, ${po(this.s)*100}%, ${po(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Og(e){return e=(e||0)%360,e<0?e+360:e}function po(e){return Math.max(0,Math.min(1,e||0))}function Vu(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}const vf=e=>()=>e;function hj(e,t){return function(i){return e+i*t}}function dj(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(r){return Math.pow(e+r*t,i)}}function gj(e){return(e=+e)==1?BN:function(t,i){return i-t?dj(t,i,e):vf(isNaN(t)?i:t)}}function BN(e,t){var i=t-e;return i?hj(e,i):vf(isNaN(e)?t:e)}const zg=function e(t){var i=gj(t);function r(a,n){var s=i((a=vm(a)).r,(n=vm(n)).r),l=i(a.g,n.g),u=i(a.b,n.b),c=BN(a.opacity,n.opacity);return function(m){return a.r=s(m),a.g=l(m),a.b=u(m),a.opacity=c(m),a+""}}return r.gamma=e,r}(1);function bj(e,t){t||(t=[]);var i=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(n){for(a=0;a<i;++a)r[a]=e[a]*(1-n)+t[a]*n;return r}}function yj(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vj(e,t){var i=t?t.length:0,r=e?Math.min(i,e.length):0,a=new Array(r),n=new Array(i),s;for(s=0;s<r;++s)a[s]=On(e[s],t[s]);for(;s<i;++s)n[s]=t[s];return function(l){for(s=0;s<r;++s)n[s]=a[s](l);return n}}function Cj(e,t){var i=new Date;return e=+e,t=+t,function(r){return i.setTime(e*(1-r)+t*r),i}}function il(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function Nj(e,t){var i={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?i[a]=On(e[a],t[a]):r[a]=t[a];return function(n){for(a in i)r[a]=i[a](n);return r}}var Cm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xu=new RegExp(Cm.source,"g");function xj(e){return function(){return e}}function Tj(e){return function(t){return e(t)+""}}function kj(e,t){var i=Cm.lastIndex=Xu.lastIndex=0,r,a,n,s=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Cm.exec(e))&&(a=Xu.exec(t));)(n=a.index)>i&&(n=t.slice(i,n),l[s]?l[s]+=n:l[++s]=n),(r=r[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,u.push({i:s,x:il(r,a)})),i=Xu.lastIndex;return i<t.length&&(n=t.slice(i),l[s]?l[s]+=n:l[++s]=n),l.length<2?u[0]?Tj(u[0].x):xj(t):(t=u.length,function(c){for(var m=0,p;m<t;++m)l[(p=u[m]).i]=p.x(c);return l.join("")})}function On(e,t){var i=typeof t,r;return t==null||i==="boolean"?vf(t):(i==="number"?il:i==="string"?(r=ds(t))?(t=r,zg):kj:t instanceof ds?zg:t instanceof Date?Cj:yj(t)?bj:Array.isArray(t)?vj:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Nj:il)(e,t)}function Cf(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}function Sj(e,t){t===void 0&&(t=e,e=On);for(var i=0,r=t.length-1,a=t[0],n=new Array(r<0?0:r);i<r;)n[i]=e(a,a=t[++i]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return n[l](s-l)}}function Oj(e){return function(){return e}}function rl(e){return+e}var Dg=[0,1];function _t(e){return e}function Nm(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:Oj(isNaN(t)?NaN:.5)}function zj(e,t){var i;return e>t&&(i=e,e=t,t=i),function(r){return Math.max(e,Math.min(t,r))}}function Dj(e,t,i){var r=e[0],a=e[1],n=t[0],s=t[1];return a<r?(r=Nm(a,r),n=i(s,n)):(r=Nm(r,a),n=i(n,s)),function(l){return n(r(l))}}function _j(e,t,i){var r=Math.min(e.length,t.length)-1,a=new Array(r),n=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=Nm(e[s],e[s+1]),n[s]=i(t[s],t[s+1]);return function(l){var u=qs(e,l,1,r)-1;return n[u](a[u](l))}}function Ks(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ru(){var e=Dg,t=Dg,i=On,r,a,n,s=_t,l,u,c;function m(){var f=Math.min(e.length,t.length);return s!==_t&&(s=zj(e[0],e[f-1])),l=f>2?_j:Dj,u=c=null,p}function p(f){return f==null||isNaN(f=+f)?n:(u||(u=l(e.map(r),t,i)))(r(s(f)))}return p.invert=function(f){return s(a((c||(c=l(t,e.map(r),il)))(f)))},p.domain=function(f){return arguments.length?(e=Array.from(f,rl),m()):e.slice()},p.range=function(f){return arguments.length?(t=Array.from(f),m()):t.slice()},p.rangeRound=function(f){return t=Array.from(f),i=Cf,m()},p.clamp=function(f){return arguments.length?(s=f?!0:_t,m()):s!==_t},p.interpolate=function(f){return arguments.length?(i=f,m()):i},p.unknown=function(f){return arguments.length?(n=f,p):n},function(f,b){return r=f,a=b,m()}}function Nf(){return ru()(_t,_t)}function wj(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function al(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,r=e.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+e.slice(i+1)]}function Ya(e){return e=al(Math.abs(e)),e?e[1]:NaN}function Aj(e,t){return function(i,r){for(var a=i.length,n=[],s=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),n.push(i.substring(a-=l,a+l)),!((u+=l+1)>r));)l=e[s=(s+1)%e.length];return n.reverse().join(t)}}function Uj(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}var Gj=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gs(e){if(!(t=Gj.exec(e)))throw new Error("invalid format: "+e);var t;return new xf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gs.prototype=xf.prototype;function xf(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ej(e){e:for(var t=e.length,i=1,r=-1,a;i<t;++i)switch(e[i]){case".":r=a=i;break;case"0":r===0&&(r=i),a=i;break;default:if(!+e[i])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var LN;function Mj(e,t){var i=al(e,t);if(!i)return e+"";var r=i[0],a=i[1],n=a-(LN=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return n===s?r:n>s?r+new Array(n-s+1).join("0"):n>0?r.slice(0,n)+"."+r.slice(n):"0."+new Array(1-n).join("0")+al(e,Math.max(0,t+n-1))[0]}function _g(e,t){var i=al(e,t);if(!i)return e+"";var r=i[0],a=i[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const wg={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wj,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_g(e*100,t),r:_g,s:Mj,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ag(e){return e}var Ug=Array.prototype.map,Gg=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Pj(e){var t=e.grouping===void 0||e.thousands===void 0?Ag:Aj(Ug.call(e.grouping,Number),e.thousands+""),i=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",n=e.numerals===void 0?Ag:Uj(Ug.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"âˆ’":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(p){p=gs(p);var f=p.fill,b=p.align,g=p.sign,h=p.symbol,y=p.zero,C=p.width,N=p.comma,d=p.precision,v=p.trim,k=p.type;k==="n"?(N=!0,k="g"):wg[k]||(d===void 0&&(d=12),v=!0,k="g"),(y||f==="0"&&b==="=")&&(y=!0,f="0",b="=");var T=h==="$"?i:h==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",S=h==="$"?r:/[%p]/.test(k)?s:"",O=wg[k],_=/[defgprs%]/.test(k);d=d===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d));function A(z){var D=T,U=S,P,$,B;if(k==="c")U=O(z)+U,z="";else{z=+z;var q=z<0||1/z<0;if(z=isNaN(z)?u:O(Math.abs(z),d),v&&(z=Ej(z)),q&&+z==0&&g!=="+"&&(q=!1),D=(q?g==="("?g:l:g==="-"||g==="("?"":g)+D,U=(k==="s"?Gg[8+LN/3]:"")+U+(q&&g==="("?")":""),_){for(P=-1,$=z.length;++P<$;)if(B=z.charCodeAt(P),48>B||B>57){U=(B===46?a+z.slice(P+1):z.slice(P))+U,z=z.slice(0,P);break}}}N&&!y&&(z=t(z,1/0));var j=D.length+z.length+U.length,F=j<C?new Array(C-j+1).join(f):"";switch(N&&y&&(z=t(F+z,F.length?C-U.length:1/0),F=""),b){case"<":z=D+z+U+F;break;case"=":z=D+F+z+U;break;case"^":z=F.slice(0,j=F.length>>1)+D+z+U+F.slice(j);break;default:z=F+D+z+U;break}return n(z)}return A.toString=function(){return p+""},A}function m(p,f){var b=c((p=gs(p),p.type="f",p)),g=Math.max(-8,Math.min(8,Math.floor(Ya(f)/3)))*3,h=Math.pow(10,-g),y=Gg[8+g/3];return function(C){return b(h*C)+y}}return{format:c,formatPrefix:m}}var fo,Tf,FN;$j({thousands:",",grouping:[3],currency:["$",""]});function $j(e){return fo=Pj(e),Tf=fo.format,FN=fo.formatPrefix,fo}function Ij(e){return Math.max(0,-Ya(Math.abs(e)))}function Rj(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ya(t)/3)))*3-Ya(Math.abs(e)))}function jj(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ya(t)-Ya(e))+1}function WN(e,t,i,r){var a=bm(e,t,i),n;switch(r=gs(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(n=Rj(a,s))&&(r.precision=n),FN(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(n=jj(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=n-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(n=Ij(a))&&(r.precision=n-(r.type==="%")*2);break}}return Tf(r)}function Ur(e){var t=e.domain;return e.ticks=function(i){var r=t();return dm(r[0],r[r.length-1],i??10)},e.tickFormat=function(i,r){var a=t();return WN(a[0],a[a.length-1],i??10,r)},e.nice=function(i){i==null&&(i=10);var r=t(),a=0,n=r.length-1,s=r[a],l=r[n],u,c,m=10;for(l<s&&(c=s,s=l,l=c,c=a,a=n,n=c);m-- >0;){if(c=gm(s,l,i),c===u)return r[a]=s,r[n]=l,t(r);if(c>0)s=Math.floor(s/c)*c,l=Math.ceil(l/c)*c;else if(c<0)s=Math.ceil(s*c)/c,l=Math.floor(l*c)/c;else break;u=c}return e},e}function nl(){var e=Nf();return e.copy=function(){return Ks(e,nl())},ri.apply(e,arguments),Ur(e)}function qN(e){var t;function i(r){return r==null||isNaN(r=+r)?t:r}return i.invert=i,i.domain=i.range=function(r){return arguments.length?(e=Array.from(r,rl),i):e.slice()},i.unknown=function(r){return arguments.length?(t=r,i):t},i.copy=function(){return qN(e).unknown(t)},e=arguments.length?Array.from(e,rl):[0,1],Ur(i)}function HN(e,t){e=e.slice();var i=0,r=e.length-1,a=e[i],n=e[r],s;return n<a&&(s=i,i=r,r=s,s=a,a=n,n=s),e[i]=t.floor(a),e[r]=t.ceil(n),e}function Eg(e){return Math.log(e)}function Mg(e){return Math.exp(e)}function Bj(e){return-Math.log(-e)}function Lj(e){return-Math.exp(-e)}function Fj(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Wj(e){return e===10?Fj:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qj(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Pg(e){return(t,i)=>-e(-t,i)}function kf(e){const t=e(Eg,Mg),i=t.domain;let r=10,a,n;function s(){return a=qj(r),n=Wj(r),i()[0]<0?(a=Pg(a),n=Pg(n),e(Bj,Lj)):e(Eg,Mg),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(i(l),s()):i()},t.ticks=l=>{const u=i();let c=u[0],m=u[u.length-1];const p=m<c;p&&([c,m]=[m,c]);let f=a(c),b=a(m),g,h;const y=l==null?10:+l;let C=[];if(!(r%1)&&b-f<y){if(f=Math.floor(f),b=Math.ceil(b),c>0){for(;f<=b;++f)for(g=1;g<r;++g)if(h=f<0?g/n(-f):g*n(f),!(h<c)){if(h>m)break;C.push(h)}}else for(;f<=b;++f)for(g=r-1;g>=1;--g)if(h=f>0?g/n(-f):g*n(f),!(h<c)){if(h>m)break;C.push(h)}C.length*2<y&&(C=dm(c,m,y))}else C=dm(f,b,Math.min(b-f,y)).map(n);return p?C.reverse():C},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=gs(u)).precision==null&&(u.trim=!0),u=Tf(u)),l===1/0)return u;const c=Math.max(1,r*l/t.ticks().length);return m=>{let p=m/n(Math.round(a(m)));return p*r<r-.5&&(p*=r),p<=c?u(m):""}},t.nice=()=>i(HN(i(),{floor:l=>n(Math.floor(a(l))),ceil:l=>n(Math.ceil(a(l)))})),t}function KN(){const e=kf(ru()).domain([1,10]);return e.copy=()=>Ks(e,KN()).base(e.base()),ri.apply(e,arguments),e}function $g(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ig(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Sf(e){var t=1,i=e($g(t),Ig(t));return i.constant=function(r){return arguments.length?e($g(t=+r),Ig(t)):t},Ur(i)}function VN(){var e=Sf(ru());return e.copy=function(){return Ks(e,VN()).constant(e.constant())},ri.apply(e,arguments)}function Rg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Hj(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Kj(e){return e<0?-e*e:e*e}function Of(e){var t=e(_t,_t),i=1;function r(){return i===1?e(_t,_t):i===.5?e(Hj,Kj):e(Rg(i),Rg(1/i))}return t.exponent=function(a){return arguments.length?(i=+a,r()):i},Ur(t)}function zf(){var e=Of(ru());return e.copy=function(){return Ks(e,zf()).exponent(e.exponent())},ri.apply(e,arguments),e}function Vj(){return zf.apply(null,arguments).exponent(.5)}function jg(e){return Math.sign(e)*e*e}function Xj(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XN(){var e=Nf(),t=[0,1],i=!1,r;function a(n){var s=Xj(e(n));return isNaN(s)?r:i?Math.round(s):s}return a.invert=function(n){return e.invert(jg(n))},a.domain=function(n){return arguments.length?(e.domain(n),a):e.domain()},a.range=function(n){return arguments.length?(e.range((t=Array.from(n,rl)).map(jg)),a):t.slice()},a.rangeRound=function(n){return a.range(n).round(!0)},a.round=function(n){return arguments.length?(i=!!n,a):i},a.clamp=function(n){return arguments.length?(e.clamp(n),a):e.clamp()},a.unknown=function(n){return arguments.length?(r=n,a):r},a.copy=function(){return XN(e.domain(),t).round(i).clamp(e.clamp()).unknown(r)},ri.apply(a,arguments),Ur(a)}function YN(){var e=[],t=[],i=[],r;function a(){var s=0,l=Math.max(1,t.length);for(i=new Array(l-1);++s<l;)i[s-1]=ej(e,s/l);return n}function n(s){return s==null||isNaN(s=+s)?r:t[qs(i,s)]}return n.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?i[l-1]:e[0],l<i.length?i[l]:e[e.length-1]]},n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Nr),a()},n.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},n.unknown=function(s){return arguments.length?(r=s,n):r},n.quantiles=function(){return i.slice()},n.copy=function(){return YN().domain(e).range(t).unknown(r)},ri.apply(n,arguments)}function JN(){var e=0,t=1,i=1,r=[.5],a=[0,1],n;function s(u){return u!=null&&u<=u?a[qs(r,u,0,i)]:n}function l(){var u=-1;for(r=new Array(i);++u<i;)r[u]=((u+1)*t-(u-i)*e)/(i+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},s.range=function(u){return arguments.length?(i=(a=Array.from(u)).length-1,l()):a.slice()},s.invertExtent=function(u){var c=a.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=i?[r[i-1],t]:[r[c-1],r[c]]},s.unknown=function(u){return arguments.length&&(n=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return JN().domain([e,t]).range(a).unknown(n)},ri.apply(Ur(s),arguments)}function ZN(){var e=[.5],t=[0,1],i,r=1;function a(n){return n!=null&&n<=n?t[qs(e,n,0,r)]:i}return a.domain=function(n){return arguments.length?(e=Array.from(n),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(n){return arguments.length?(t=Array.from(n),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(n){var s=t.indexOf(n);return[e[s-1],e[s]]},a.unknown=function(n){return arguments.length?(i=n,a):i},a.copy=function(){return ZN().domain(e).range(t).unknown(i)},ri.apply(a,arguments)}const Yu=new Date,Ju=new Date;function ut(e,t,i,r){function a(n){return e(n=arguments.length===0?new Date:new Date(+n)),n}return a.floor=n=>(e(n=new Date(+n)),n),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=n=>{const s=a(n),l=a.ceil(n);return n-s<l-n?s:l},a.offset=(n,s)=>(t(n=new Date(+n),s==null?1:Math.floor(s)),n),a.range=(n,s,l)=>{const u=[];if(n=a.ceil(n),l=l==null?1:Math.floor(l),!(n<s)||!(l>0))return u;let c;do u.push(c=new Date(+n)),t(n,l),e(n);while(c<n&&n<s);return u},a.filter=n=>ut(s=>{if(s>=s)for(;e(s),!n(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!n(s););else for(;--l>=0;)for(;t(s,1),!n(s););}),i&&(a.count=(n,s)=>(Yu.setTime(+n),Ju.setTime(+s),e(Yu),e(Ju),Math.floor(i(Yu,Ju))),a.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?a.filter(r?s=>r(s)%n===0:s=>a.count(0,s)%n===0):a)),a}const sl=ut(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sl.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ut(t=>{t.setTime(Math.floor(t/e)*e)},(t,i)=>{t.setTime(+t+i*e)},(t,i)=>(i-t)/e):sl);sl.range;const Hi=1e3,ei=Hi*60,Ki=ei*60,Zi=Ki*24,Df=Zi*7,Bg=Zi*30,Zu=Zi*365,Qr=ut(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Hi)},(e,t)=>(t-e)/Hi,e=>e.getUTCSeconds());Qr.range;const _f=ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hi)},(e,t)=>{e.setTime(+e+t*ei)},(e,t)=>(t-e)/ei,e=>e.getMinutes());_f.range;const wf=ut(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ei)},(e,t)=>(t-e)/ei,e=>e.getUTCMinutes());wf.range;const Af=ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hi-e.getMinutes()*ei)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getHours());Af.range;const Uf=ut(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCHours());Uf.range;const Vs=ut(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ei)/Zi,e=>e.getDate()-1);Vs.range;const au=ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zi,e=>e.getUTCDate()-1);au.range;const QN=ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zi,e=>Math.floor(e/Zi));QN.range;function fa(e){return ut(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,i)=>{t.setDate(t.getDate()+i*7)},(t,i)=>(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*ei)/Df)}const nu=fa(0),ol=fa(1),Yj=fa(2),Jj=fa(3),Ja=fa(4),Zj=fa(5),Qj=fa(6);nu.range;ol.range;Yj.range;Jj.range;Ja.range;Zj.range;Qj.range;function ha(e){return ut(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCDate(t.getUTCDate()+i*7)},(t,i)=>(i-t)/Df)}const su=ha(0),ll=ha(1),e9=ha(2),t9=ha(3),Za=ha(4),i9=ha(5),r9=ha(6);su.range;ll.range;e9.range;t9.range;Za.range;i9.range;r9.range;const Gf=ut(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Gf.range;const Ef=ut(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ef.range;const Qi=ut(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ut(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,i)=>{t.setFullYear(t.getFullYear()+i*e)});Qi.range;const er=ut(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());er.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ut(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCFullYear(t.getUTCFullYear()+i*e)});er.range;function ex(e,t,i,r,a,n){const s=[[Qr,1,Hi],[Qr,5,5*Hi],[Qr,15,15*Hi],[Qr,30,30*Hi],[n,1,ei],[n,5,5*ei],[n,15,15*ei],[n,30,30*ei],[a,1,Ki],[a,3,3*Ki],[a,6,6*Ki],[a,12,12*Ki],[r,1,Zi],[r,2,2*Zi],[i,1,Df],[t,1,Bg],[t,3,3*Bg],[e,1,Zu]];function l(c,m,p){const f=m<c;f&&([c,m]=[m,c]);const b=p&&typeof p.range=="function"?p:u(c,m,p),g=b?b.range(c,+m+1):[];return f?g.reverse():g}function u(c,m,p){const f=Math.abs(m-c)/p,b=gf(([,,y])=>y).right(s,f);if(b===s.length)return e.every(bm(c/Zu,m/Zu,p));if(b===0)return sl.every(Math.max(bm(c,m,p),1));const[g,h]=s[f/s[b-1][2]<s[b][2]/f?b-1:b];return g.every(h)}return[l,u]}const[a9,n9]=ex(er,Ef,su,QN,Uf,wf),[s9,o9]=ex(Qi,Gf,nu,Vs,Af,_f);function Qu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ec(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rn(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}function l9(e){var t=e.dateTime,i=e.date,r=e.time,a=e.periods,n=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,c=jn(a),m=Bn(a),p=jn(n),f=Bn(n),b=jn(s),g=Bn(s),h=jn(l),y=Bn(l),C=jn(u),N=Bn(u),d={a:q,A:j,b:F,B:K,c:null,d:Kg,e:Kg,f:A9,g:B9,G:F9,H:D9,I:_9,j:w9,L:tx,m:U9,M:G9,p:J,q:V,Q:Yg,s:Jg,S:E9,u:M9,U:P9,V:$9,w:I9,W:R9,x:null,X:null,y:j9,Y:L9,Z:W9,"%":Xg},v={a:Q,A:se,b:de,B:ye,c:null,d:Vg,e:Vg,f:V9,g:a7,G:s7,H:q9,I:H9,j:K9,L:rx,m:X9,M:Y9,p:ne,q:ie,Q:Yg,s:Jg,S:J9,u:Z9,U:Q9,V:e7,w:t7,W:i7,x:null,X:null,y:r7,Y:n7,Z:o7,"%":Xg},k={a:A,A:z,b:D,B:U,c:P,d:qg,e:qg,f:k9,g:Wg,G:Fg,H:Hg,I:Hg,j:C9,L:T9,m:v9,M:N9,p:_,q:y9,Q:O9,s:z9,S:x9,u:f9,U:h9,V:d9,w:p9,W:g9,x:$,X:B,y:Wg,Y:Fg,Z:b9,"%":S9};d.x=T(i,d),d.X=T(r,d),d.c=T(t,d),v.x=T(i,v),v.X=T(r,v),v.c=T(t,v);function T(R,Z){return function(le){var E=[],ge=-1,ue=0,re=R.length,xe,_e,St;for(le instanceof Date||(le=new Date(+le));++ge<re;)R.charCodeAt(ge)===37&&(E.push(R.slice(ue,ge)),(_e=Lg[xe=R.charAt(++ge)])!=null?xe=R.charAt(++ge):_e=xe==="e"?" ":"0",(St=Z[xe])&&(xe=St(le,_e)),E.push(xe),ue=ge+1);return E.push(R.slice(ue,ge)),E.join("")}}function S(R,Z){return function(le){var E=Rn(1900,void 0,1),ge=O(E,R,le+="",0),ue,re;if(ge!=le.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(Z&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(ue=ec(Rn(E.y,0,1)),re=ue.getUTCDay(),ue=re>4||re===0?ll.ceil(ue):ll(ue),ue=au.offset(ue,(E.V-1)*7),E.y=ue.getUTCFullYear(),E.m=ue.getUTCMonth(),E.d=ue.getUTCDate()+(E.w+6)%7):(ue=Qu(Rn(E.y,0,1)),re=ue.getDay(),ue=re>4||re===0?ol.ceil(ue):ol(ue),ue=Vs.offset(ue,(E.V-1)*7),E.y=ue.getFullYear(),E.m=ue.getMonth(),E.d=ue.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),re="Z"in E?ec(Rn(E.y,0,1)).getUTCDay():Qu(Rn(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(re+5)%7:E.w+E.U*7-(re+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,ec(E)):Qu(E)}}function O(R,Z,le,E){for(var ge=0,ue=Z.length,re=le.length,xe,_e;ge<ue;){if(E>=re)return-1;if(xe=Z.charCodeAt(ge++),xe===37){if(xe=Z.charAt(ge++),_e=k[xe in Lg?Z.charAt(ge++):xe],!_e||(E=_e(R,le,E))<0)return-1}else if(xe!=le.charCodeAt(E++))return-1}return E}function _(R,Z,le){var E=c.exec(Z.slice(le));return E?(R.p=m.get(E[0].toLowerCase()),le+E[0].length):-1}function A(R,Z,le){var E=b.exec(Z.slice(le));return E?(R.w=g.get(E[0].toLowerCase()),le+E[0].length):-1}function z(R,Z,le){var E=p.exec(Z.slice(le));return E?(R.w=f.get(E[0].toLowerCase()),le+E[0].length):-1}function D(R,Z,le){var E=C.exec(Z.slice(le));return E?(R.m=N.get(E[0].toLowerCase()),le+E[0].length):-1}function U(R,Z,le){var E=h.exec(Z.slice(le));return E?(R.m=y.get(E[0].toLowerCase()),le+E[0].length):-1}function P(R,Z,le){return O(R,t,Z,le)}function $(R,Z,le){return O(R,i,Z,le)}function B(R,Z,le){return O(R,r,Z,le)}function q(R){return s[R.getDay()]}function j(R){return n[R.getDay()]}function F(R){return u[R.getMonth()]}function K(R){return l[R.getMonth()]}function J(R){return a[+(R.getHours()>=12)]}function V(R){return 1+~~(R.getMonth()/3)}function Q(R){return s[R.getUTCDay()]}function se(R){return n[R.getUTCDay()]}function de(R){return u[R.getUTCMonth()]}function ye(R){return l[R.getUTCMonth()]}function ne(R){return a[+(R.getUTCHours()>=12)]}function ie(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var Z=T(R+="",d);return Z.toString=function(){return R},Z},parse:function(R){var Z=S(R+="",!1);return Z.toString=function(){return R},Z},utcFormat:function(R){var Z=T(R+="",v);return Z.toString=function(){return R},Z},utcParse:function(R){var Z=S(R+="",!0);return Z.toString=function(){return R},Z}}}var Lg={"-":"",_:" ",0:"0"},yt=/^\s*\d+/,u9=/^%/,c9=/[\\^$*+?|[\]().{}]/g;function De(e,t,i){var r=e<0?"-":"",a=(r?-e:e)+"",n=a.length;return r+(n<i?new Array(i-n+1).join(t)+a:a)}function m9(e){return e.replace(c9,"\\$&")}function jn(e){return new RegExp("^(?:"+e.map(m9).join("|")+")","i")}function Bn(e){return new Map(e.map((t,i)=>[t.toLowerCase(),i]))}function p9(e,t,i){var r=yt.exec(t.slice(i,i+1));return r?(e.w=+r[0],i+r[0].length):-1}function f9(e,t,i){var r=yt.exec(t.slice(i,i+1));return r?(e.u=+r[0],i+r[0].length):-1}function h9(e,t,i){var r=yt.exec(t.slice(i,i+2));return r?(e.U=+r[0],i+r[0].length):-1}function d9(e,t,i){var r=yt.exec(t.slice(i,i+2));return r?(e.V=+r[0],i+r[0].length):-1}function g9(e,t,i){var r=yt.exec(t.slice(i,i+2));return r?(e.W=+r[0],i+r[0].length):-1}function Fg(e,t,i){var r=yt.exec(t.slice(i,i+4));return r?(e.y=+r[0],i+r[0].length):-1}function Wg(e,t,i){var r=yt.exec(t.slice(i,i+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function b9(e,t,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function y9(e,t,i){var r=yt.exec(t.slice(i,i+1));return r?(e.q=r[0]*3-3,i+r[0].length):-1}function v9(e,t,i){var r=yt.exec(t.slice(i,i+2));return r?(e.m=r[0]-1,i+r[0].length):-1}function qg(e,t,i){var r=yt.exec(t.slice(i,i+2));return r?(e.d=+r[0],i+r[0].length):-1}function C9(e,t,i){var r=yt.exec(t.slice(i,i+3));return r?(e.m=0,e.d=+r[0],i+r[0].length):-1}function Hg(e,t,i){var r=yt.exec(t.slice(i,i+2));return r?(e.H=+r[0],i+r[0].length):-1}function N9(e,t,i){var r=yt.exec(t.slice(i,i+2));return r?(e.M=+r[0],i+r[0].length):-1}function x9(e,t,i){var r=yt.exec(t.slice(i,i+2));return r?(e.S=+r[0],i+r[0].length):-1}function T9(e,t,i){var r=yt.exec(t.slice(i,i+3));return r?(e.L=+r[0],i+r[0].length):-1}function k9(e,t,i){var r=yt.exec(t.slice(i,i+6));return r?(e.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function S9(e,t,i){var r=u9.exec(t.slice(i,i+1));return r?i+r[0].length:-1}function O9(e,t,i){var r=yt.exec(t.slice(i));return r?(e.Q=+r[0],i+r[0].length):-1}function z9(e,t,i){var r=yt.exec(t.slice(i));return r?(e.s=+r[0],i+r[0].length):-1}function Kg(e,t){return De(e.getDate(),t,2)}function D9(e,t){return De(e.getHours(),t,2)}function _9(e,t){return De(e.getHours()%12||12,t,2)}function w9(e,t){return De(1+Vs.count(Qi(e),e),t,3)}function tx(e,t){return De(e.getMilliseconds(),t,3)}function A9(e,t){return tx(e,t)+"000"}function U9(e,t){return De(e.getMonth()+1,t,2)}function G9(e,t){return De(e.getMinutes(),t,2)}function E9(e,t){return De(e.getSeconds(),t,2)}function M9(e){var t=e.getDay();return t===0?7:t}function P9(e,t){return De(nu.count(Qi(e)-1,e),t,2)}function ix(e){var t=e.getDay();return t>=4||t===0?Ja(e):Ja.ceil(e)}function $9(e,t){return e=ix(e),De(Ja.count(Qi(e),e)+(Qi(e).getDay()===4),t,2)}function I9(e){return e.getDay()}function R9(e,t){return De(ol.count(Qi(e)-1,e),t,2)}function j9(e,t){return De(e.getFullYear()%100,t,2)}function B9(e,t){return e=ix(e),De(e.getFullYear()%100,t,2)}function L9(e,t){return De(e.getFullYear()%1e4,t,4)}function F9(e,t){var i=e.getDay();return e=i>=4||i===0?Ja(e):Ja.ceil(e),De(e.getFullYear()%1e4,t,4)}function W9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+De(t/60|0,"0",2)+De(t%60,"0",2)}function Vg(e,t){return De(e.getUTCDate(),t,2)}function q9(e,t){return De(e.getUTCHours(),t,2)}function H9(e,t){return De(e.getUTCHours()%12||12,t,2)}function K9(e,t){return De(1+au.count(er(e),e),t,3)}function rx(e,t){return De(e.getUTCMilliseconds(),t,3)}function V9(e,t){return rx(e,t)+"000"}function X9(e,t){return De(e.getUTCMonth()+1,t,2)}function Y9(e,t){return De(e.getUTCMinutes(),t,2)}function J9(e,t){return De(e.getUTCSeconds(),t,2)}function Z9(e){var t=e.getUTCDay();return t===0?7:t}function Q9(e,t){return De(su.count(er(e)-1,e),t,2)}function ax(e){var t=e.getUTCDay();return t>=4||t===0?Za(e):Za.ceil(e)}function e7(e,t){return e=ax(e),De(Za.count(er(e),e)+(er(e).getUTCDay()===4),t,2)}function t7(e){return e.getUTCDay()}function i7(e,t){return De(ll.count(er(e)-1,e),t,2)}function r7(e,t){return De(e.getUTCFullYear()%100,t,2)}function a7(e,t){return e=ax(e),De(e.getUTCFullYear()%100,t,2)}function n7(e,t){return De(e.getUTCFullYear()%1e4,t,4)}function s7(e,t){var i=e.getUTCDay();return e=i>=4||i===0?Za(e):Za.ceil(e),De(e.getUTCFullYear()%1e4,t,4)}function o7(){return"+0000"}function Xg(){return"%"}function Yg(e){return+e}function Jg(e){return Math.floor(+e/1e3)}var xa,nx,sx;l7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function l7(e){return xa=l9(e),nx=xa.format,xa.parse,sx=xa.utcFormat,xa.utcParse,xa}function u7(e){return new Date(e)}function c7(e){return e instanceof Date?+e:+new Date(+e)}function Mf(e,t,i,r,a,n,s,l,u,c){var m=Nf(),p=m.invert,f=m.domain,b=c(".%L"),g=c(":%S"),h=c("%I:%M"),y=c("%I %p"),C=c("%a %d"),N=c("%b %d"),d=c("%B"),v=c("%Y");function k(T){return(u(T)<T?b:l(T)<T?g:s(T)<T?h:n(T)<T?y:r(T)<T?a(T)<T?C:N:i(T)<T?d:v)(T)}return m.invert=function(T){return new Date(p(T))},m.domain=function(T){return arguments.length?f(Array.from(T,c7)):f().map(u7)},m.ticks=function(T){var S=f();return e(S[0],S[S.length-1],T??10)},m.tickFormat=function(T,S){return S==null?k:c(S)},m.nice=function(T){var S=f();return(!T||typeof T.range!="function")&&(T=t(S[0],S[S.length-1],T??10)),T?f(HN(S,T)):m},m.copy=function(){return Ks(m,Mf(e,t,i,r,a,n,s,l,u,c))},m}function m7(){return ri.apply(Mf(s9,o9,Qi,Gf,nu,Vs,Af,_f,Qr,nx).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function p7(){return ri.apply(Mf(a9,n9,er,Ef,su,au,Uf,wf,Qr,sx).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ou(){var e=0,t=1,i,r,a,n,s=_t,l=!1,u;function c(p){return p==null||isNaN(p=+p)?u:s(a===0?.5:(p=(n(p)-i)*a,l?Math.max(0,Math.min(1,p)):p))}c.domain=function(p){return arguments.length?([e,t]=p,i=n(e=+e),r=n(t=+t),a=i===r?0:1/(r-i),c):[e,t]},c.clamp=function(p){return arguments.length?(l=!!p,c):l},c.interpolator=function(p){return arguments.length?(s=p,c):s};function m(p){return function(f){var b,g;return arguments.length?([b,g]=f,s=p(b,g),c):[s(0),s(1)]}}return c.range=m(On),c.rangeRound=m(Cf),c.unknown=function(p){return arguments.length?(u=p,c):u},function(p){return n=p,i=p(e),r=p(t),a=i===r?0:1/(r-i),c}}function Gr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ox(){var e=Ur(ou()(_t));return e.copy=function(){return Gr(e,ox())},or.apply(e,arguments)}function lx(){var e=kf(ou()).domain([1,10]);return e.copy=function(){return Gr(e,lx()).base(e.base())},or.apply(e,arguments)}function ux(){var e=Sf(ou());return e.copy=function(){return Gr(e,ux()).constant(e.constant())},or.apply(e,arguments)}function Pf(){var e=Of(ou());return e.copy=function(){return Gr(e,Pf()).exponent(e.exponent())},or.apply(e,arguments)}function f7(){return Pf.apply(null,arguments).exponent(.5)}function cx(){var e=[],t=_t;function i(r){if(r!=null&&!isNaN(r=+r))return t((qs(e,r,1)-1)/(e.length-1))}return i.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Nr),i},i.interpolator=function(r){return arguments.length?(t=r,i):t},i.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},i.quantiles=function(r){return Array.from({length:r+1},(a,n)=>Q4(e,n/r))},i.copy=function(){return cx(t).domain(e)},or.apply(i,arguments)}function lu(){var e=0,t=.5,i=1,r=1,a,n,s,l,u,c=_t,m,p=!1,f;function b(h){return isNaN(h=+h)?f:(h=.5+((h=+m(h))-n)*(r*h<r*n?l:u),c(p?Math.max(0,Math.min(1,h)):h))}b.domain=function(h){return arguments.length?([e,t,i]=h,a=m(e=+e),n=m(t=+t),s=m(i=+i),l=a===n?0:.5/(n-a),u=n===s?0:.5/(s-n),r=n<a?-1:1,b):[e,t,i]},b.clamp=function(h){return arguments.length?(p=!!h,b):p},b.interpolator=function(h){return arguments.length?(c=h,b):c};function g(h){return function(y){var C,N,d;return arguments.length?([C,N,d]=y,c=Sj(h,[C,N,d]),b):[c(0),c(.5),c(1)]}}return b.range=g(On),b.rangeRound=g(Cf),b.unknown=function(h){return arguments.length?(f=h,b):f},function(h){return m=h,a=h(e),n=h(t),s=h(i),l=a===n?0:.5/(n-a),u=n===s?0:.5/(s-n),r=n<a?-1:1,b}}function mx(){var e=Ur(lu()(_t));return e.copy=function(){return Gr(e,mx())},or.apply(e,arguments)}function px(){var e=kf(lu()).domain([.1,1,10]);return e.copy=function(){return Gr(e,px()).base(e.base())},or.apply(e,arguments)}function fx(){var e=Sf(lu());return e.copy=function(){return Gr(e,fx()).constant(e.constant())},or.apply(e,arguments)}function $f(){var e=Of(lu());return e.copy=function(){return Gr(e,$f()).exponent(e.exponent())},or.apply(e,arguments)}function h7(){return $f.apply(null,arguments).exponent(.5)}const Zg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ps,scaleDiverging:mx,scaleDivergingLog:px,scaleDivergingPow:$f,scaleDivergingSqrt:h7,scaleDivergingSymlog:fx,scaleIdentity:qN,scaleImplicit:ym,scaleLinear:nl,scaleLog:KN,scaleOrdinal:bf,scalePoint:es,scalePow:zf,scaleQuantile:YN,scaleQuantize:JN,scaleRadial:XN,scaleSequential:ox,scaleSequentialLog:lx,scaleSequentialPow:Pf,scaleSequentialQuantile:cx,scaleSequentialSqrt:f7,scaleSequentialSymlog:ux,scaleSqrt:Vj,scaleSymlog:VN,scaleThreshold:ZN,scaleTime:m7,scaleUtc:p7,tickFormat:WN},Symbol.toStringTag,{value:"Module"}));var zn=1e9,d7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Rf,Fe=!0,ii="[DecimalError] ",ia=ii+"Invalid argument: ",If=ii+"Exponent out of range: ",Dn=Math.floor,Wr=Math.pow,g7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Lt,ft=1e7,Be=7,hx=9007199254740991,ul=Dn(hx/Be),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,i,r,a,n=this;if(e=new n.constructor(e),n.s!==e.s)return n.s||-e.s;if(n.e!==e.e)return n.e>e.e^n.s<0?1:-1;for(r=n.d.length,a=e.d.length,t=0,i=r<a?r:a;t<i;++t)if(n.d[t]!==e.d[t])return n.d[t]>e.d[t]^n.s<0?1:-1;return r===a?0:r>a^n.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,i=(t-e.e)*Be;if(t=e.d[t],t)for(;t%10==0;t/=10)i--;return i<0?0:i};ee.dividedBy=ee.div=function(e){return Xi(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,i=t.constructor;return $e(Xi(t,new i(e),0,1),i.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return tt(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,i=this,r=i.constructor,a=r.precision,n=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Lt))throw Error(ii+"NaN");if(i.s<1)throw Error(ii+(i.s?"NaN":"-Infinity"));return i.eq(Lt)?new r(0):(Fe=!1,t=Xi(bs(i,n),bs(e,n),n),Fe=!0,$e(t,a))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bx(t,e):dx(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,i=this,r=i.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(ii+"NaN");return i.s?(Fe=!1,t=Xi(i,e,0,1).times(e),Fe=!0,i.minus(t)):$e(new r(i),a)};ee.naturalExponential=ee.exp=function(){return gx(this)};ee.naturalLogarithm=ee.ln=function(){return bs(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dx(t,e):bx(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,i,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ia+e);if(t=tt(a)+1,r=a.d.length-1,i=r*Be+1,r=a.d[r],r){for(;r%10==0;r/=10)i--;for(r=a.d[0];r>=10;r/=10)i++}return e&&t>i?t:i};ee.squareRoot=ee.sqrt=function(){var e,t,i,r,a,n,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ii+"NaN")}for(e=tt(l),Fe=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Oi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Dn((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(a.toString()),i=u.precision,a=s=i+3;;)if(n=r,r=n.plus(Xi(l,n,s+2)).times(.5),Oi(n.d).slice(0,s)===(t=Oi(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if($e(n,i+1,0),n.times(n).eq(l)){r=n;break}}else if(t!="9999")break;s+=4}return Fe=!0,$e(r,i)};ee.times=ee.mul=function(e){var t,i,r,a,n,s,l,u,c,m=this,p=m.constructor,f=m.d,b=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,i=m.e+e.e,u=f.length,c=b.length,u<c&&(n=f,f=b,b=n,s=u,u=c,c=s),n=[],s=u+c,r=s;r--;)n.push(0);for(r=c;--r>=0;){for(t=0,a=u+r;a>r;)l=n[a]+b[r]*f[a-r-1]+t,n[a--]=l%ft|0,t=l/ft|0;n[a]=(n[a]+t)%ft|0}for(;!n[--s];)n.pop();return t?++i:n.shift(),e.d=n,e.e=i,Fe?$e(e,p.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var i=this,r=i.constructor;return i=new r(i),e===void 0?i:(Ui(e,0,zn),t===void 0?t=r.rounding:Ui(t,0,8),$e(i,e+tt(i)+1,t))};ee.toExponential=function(e,t){var i,r=this,a=r.constructor;return e===void 0?i=sa(r,!0):(Ui(e,0,zn),t===void 0?t=a.rounding:Ui(t,0,8),r=$e(new a(r),e+1,t),i=sa(r,!0,e+1)),i};ee.toFixed=function(e,t){var i,r,a=this,n=a.constructor;return e===void 0?sa(a):(Ui(e,0,zn),t===void 0?t=n.rounding:Ui(t,0,8),r=$e(new n(a),e+tt(a)+1,t),i=sa(r.abs(),!1,e+tt(r)+1),a.isneg()&&!a.isZero()?"-"+i:i)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return $e(new t(e),tt(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,i,r,a,n,s,l=this,u=l.constructor,c=12,m=+(e=new u(e));if(!e.s)return new u(Lt);if(l=new u(l),!l.s){if(e.s<1)throw Error(ii+"Infinity");return l}if(l.eq(Lt))return l;if(r=u.precision,e.eq(Lt))return $e(l,r);if(t=e.e,i=e.d.length-1,s=t>=i,n=l.s,s){if((i=m<0?-m:m)<=hx){for(a=new u(Lt),t=Math.ceil(r/Be+4),Fe=!1;i%2&&(a=a.times(l),eb(a.d,t)),i=Dn(i/2),i!==0;)l=l.times(l),eb(l.d,t);return Fe=!0,e.s<0?new u(Lt).div(a):$e(a,r)}}else if(n<0)throw Error(ii+"NaN");return n=n<0&&e.d[Math.max(t,i)]&1?-1:1,l.s=1,Fe=!1,a=e.times(bs(l,r+c)),Fe=!0,a=gx(a),a.s=n,a};ee.toPrecision=function(e,t){var i,r,a=this,n=a.constructor;return e===void 0?(i=tt(a),r=sa(a,i<=n.toExpNeg||i>=n.toExpPos)):(Ui(e,1,zn),t===void 0?t=n.rounding:Ui(t,0,8),a=$e(new n(a),e,t),i=tt(a),r=sa(a,e<=i||i<=n.toExpNeg,e)),r};ee.toSignificantDigits=ee.tosd=function(e,t){var i=this,r=i.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ui(e,1,zn),t===void 0?t=r.rounding:Ui(t,0,8)),$e(new r(i),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tt(e),i=e.constructor;return sa(e,t<=i.toExpNeg||t>=i.toExpPos)};function dx(e,t){var i,r,a,n,s,l,u,c,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),Fe?$e(t,p):t;if(u=e.d,c=t.d,s=e.e,a=t.e,u=u.slice(),n=s-a,n){for(n<0?(r=u,n=-n,l=c.length):(r=c,a=s,l=u.length),s=Math.ceil(p/Be),l=s>l?s+1:l+1,n>l&&(n=l,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for(l=u.length,n=c.length,l-n<0&&(n=l,r=c,c=u,u=r),i=0;n;)i=(u[--n]=u[n]+c[n]+i)/ft|0,u[n]%=ft;for(i&&(u.unshift(i),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,Fe?$e(t,p):t}function Ui(e,t,i){if(e!==~~e||e<t||e>i)throw Error(ia+e)}function Oi(e){var t,i,r,a=e.length-1,n="",s=e[0];if(a>0){for(n+=s,t=1;t<a;t++)r=e[t]+"",i=Be-r.length,i&&(n+=hr(i)),n+=r;s=e[t],r=s+"",i=Be-r.length,i&&(n+=hr(i))}else if(s===0)return"0";for(;s%10===0;)s/=10;return n+s}var Xi=function(){function e(r,a){var n,s=0,l=r.length;for(r=r.slice();l--;)n=r[l]*a+s,r[l]=n%ft|0,s=n/ft|0;return s&&r.unshift(s),r}function t(r,a,n,s){var l,u;if(n!=s)u=n>s?1:-1;else for(l=u=0;l<n;l++)if(r[l]!=a[l]){u=r[l]>a[l]?1:-1;break}return u}function i(r,a,n){for(var s=0;n--;)r[n]-=s,s=r[n]<a[n]?1:0,r[n]=s*ft+r[n]-a[n];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,n,s){var l,u,c,m,p,f,b,g,h,y,C,N,d,v,k,T,S,O,_=r.constructor,A=r.s==a.s?1:-1,z=r.d,D=a.d;if(!r.s)return new _(r);if(!a.s)throw Error(ii+"Division by zero");for(u=r.e-a.e,S=D.length,k=z.length,b=new _(A),g=b.d=[],c=0;D[c]==(z[c]||0);)++c;if(D[c]>(z[c]||0)&&--u,n==null?N=n=_.precision:s?N=n+(tt(r)-tt(a))+1:N=n,N<0)return new _(0);if(N=N/Be+2|0,c=0,S==1)for(m=0,D=D[0],N++;(c<k||m)&&N--;c++)d=m*ft+(z[c]||0),g[c]=d/D|0,m=d%D|0;else{for(m=ft/(D[0]+1)|0,m>1&&(D=e(D,m),z=e(z,m),S=D.length,k=z.length),v=S,h=z.slice(0,S),y=h.length;y<S;)h[y++]=0;O=D.slice(),O.unshift(0),T=D[0],D[1]>=ft/2&&++T;do m=0,l=t(D,h,S,y),l<0?(C=h[0],S!=y&&(C=C*ft+(h[1]||0)),m=C/T|0,m>1?(m>=ft&&(m=ft-1),p=e(D,m),f=p.length,y=h.length,l=t(p,h,f,y),l==1&&(m--,i(p,S<f?O:D,f))):(m==0&&(l=m=1),p=D.slice()),f=p.length,f<y&&p.unshift(0),i(h,p,y),l==-1&&(y=h.length,l=t(D,h,S,y),l<1&&(m++,i(h,S<y?O:D,y))),y=h.length):l===0&&(m++,h=[0]),g[c++]=m,l&&h[0]?h[y++]=z[v]||0:(h=[z[v]],y=1);while((v++<k||h[0]!==void 0)&&N--)}return g[0]||g.shift(),b.e=u,$e(b,s?n+tt(b)+1:n)}}();function gx(e,t){var i,r,a,n,s,l,u=0,c=0,m=e.constructor,p=m.precision;if(tt(e)>16)throw Error(If+tt(e));if(!e.s)return new m(Lt);for(t==null?(Fe=!1,l=p):l=t,s=new m(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(Wr(2,c))/Math.LN10*2+5|0,l+=r,i=a=n=new m(Lt),m.precision=l;;){if(a=$e(a.times(e),l),i=i.times(++u),s=n.plus(Xi(a,i,l)),Oi(s.d).slice(0,l)===Oi(n.d).slice(0,l)){for(;c--;)n=$e(n.times(n),l);return m.precision=p,t==null?(Fe=!0,$e(n,p)):n}n=s}}function tt(e){for(var t=e.e*Be,i=e.d[0];i>=10;i/=10)t++;return t}function tc(e,t,i){if(t>e.LN10.sd())throw Fe=!0,i&&(e.precision=i),Error(ii+"LN10 precision limit exceeded");return $e(new e(e.LN10),t)}function hr(e){for(var t="";e--;)t+="0";return t}function bs(e,t){var i,r,a,n,s,l,u,c,m,p=1,f=10,b=e,g=b.d,h=b.constructor,y=h.precision;if(b.s<1)throw Error(ii+(b.s?"NaN":"-Infinity"));if(b.eq(Lt))return new h(0);if(t==null?(Fe=!1,c=y):c=t,b.eq(10))return t==null&&(Fe=!0),tc(h,c);if(c+=f,h.precision=c,i=Oi(g),r=i.charAt(0),n=tt(b),Math.abs(n)<15e14){for(;r<7&&r!=1||r==1&&i.charAt(1)>3;)b=b.times(e),i=Oi(b.d),r=i.charAt(0),p++;n=tt(b),r>1?(b=new h("0."+i),n++):b=new h(r+"."+i.slice(1))}else return u=tc(h,c+2,y).times(n+""),b=bs(new h(r+"."+i.slice(1)),c-f).plus(u),h.precision=y,t==null?(Fe=!0,$e(b,y)):b;for(l=s=b=Xi(b.minus(Lt),b.plus(Lt),c),m=$e(b.times(b),c),a=3;;){if(s=$e(s.times(m),c),u=l.plus(Xi(s,new h(a),c)),Oi(u.d).slice(0,c)===Oi(l.d).slice(0,c))return l=l.times(2),n!==0&&(l=l.plus(tc(h,c+2,y).times(n+""))),l=Xi(l,new h(p),c),h.precision=y,t==null?(Fe=!0,$e(l,y)):l;l=u,a+=2}}function Qg(e,t){var i,r,a;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(i<0&&(i=r),i+=+t.slice(r+1),t=t.substring(0,r)):i<0&&(i=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,i=i-r-1,e.e=Dn(i/Be),e.d=[],r=(i+1)%Be,i<0&&(r+=Be),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Be;r<a;)e.d.push(+t.slice(r,r+=Be));t=t.slice(r),r=Be-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Fe&&(e.e>ul||e.e<-ul))throw Error(If+i)}else e.s=0,e.e=0,e.d=[0];return e}function $e(e,t,i){var r,a,n,s,l,u,c,m,p=e.d;for(s=1,n=p[0];n>=10;n/=10)s++;if(r=t-s,r<0)r+=Be,a=t,c=p[m=0];else{if(m=Math.ceil((r+1)/Be),n=p.length,m>=n)return e;for(c=n=p[m],s=1;n>=10;n/=10)s++;r%=Be,a=r-Be+s}if(i!==void 0&&(n=Wr(10,s-a-1),l=c/n%10|0,u=t<0||p[m+1]!==void 0||c%n,u=i<4?(l||u)&&(i==0||i==(e.s<0?3:2)):l>5||l==5&&(i==4||u||i==6&&(r>0?a>0?c/Wr(10,s-a):0:p[m-1])%10&1||i==(e.s<0?8:7))),t<1||!p[0])return u?(n=tt(e),p.length=1,t=t-n-1,p[0]=Wr(10,(Be-t%Be)%Be),e.e=Dn(-t/Be)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,n=1,m--):(p.length=m+1,n=Wr(10,Be-r),p[m]=a>0?(c/Wr(10,s-a)%Wr(10,a)|0)*n:0),u)for(;;)if(m==0){(p[0]+=n)==ft&&(p[0]=1,++e.e);break}else{if(p[m]+=n,p[m]!=ft)break;p[m--]=0,n=1}for(r=p.length;p[--r]===0;)p.pop();if(Fe&&(e.e>ul||e.e<-ul))throw Error(If+tt(e));return e}function bx(e,t){var i,r,a,n,s,l,u,c,m,p,f=e.constructor,b=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Fe?$e(t,b):t;if(u=e.d,p=t.d,r=t.e,c=e.e,u=u.slice(),s=c-r,s){for(m=s<0,m?(i=u,s=-s,l=p.length):(i=p,r=c,l=u.length),a=Math.max(Math.ceil(b/Be),l)+2,s>a&&(s=a,i.length=1),i.reverse(),a=s;a--;)i.push(0);i.reverse()}else{for(a=u.length,l=p.length,m=a<l,m&&(l=a),a=0;a<l;a++)if(u[a]!=p[a]){m=u[a]<p[a];break}s=0}for(m&&(i=u,u=p,p=i,t.s=-t.s),l=u.length,a=p.length-l;a>0;--a)u[l++]=0;for(a=p.length;a>s;){if(u[--a]<p[a]){for(n=a;n&&u[--n]===0;)u[n]=ft-1;--u[n],u[a]+=ft}u[a]-=p[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,Fe?$e(t,b):t):new f(0)}function sa(e,t,i){var r,a=tt(e),n=Oi(e.d),s=n.length;return t?(i&&(r=i-s)>0?n=n.charAt(0)+"."+n.slice(1)+hr(r):s>1&&(n=n.charAt(0)+"."+n.slice(1)),n=n+(a<0?"e":"e+")+a):a<0?(n="0."+hr(-a-1)+n,i&&(r=i-s)>0&&(n+=hr(r))):a>=s?(n+=hr(a+1-s),i&&(r=i-a-1)>0&&(n=n+"."+hr(r))):((r=a+1)<s&&(n=n.slice(0,r)+"."+n.slice(r)),i&&(r=i-s)>0&&(a+1===s&&(n+="."),n+=hr(r))),e.s<0?"-"+n:n}function eb(e,t){if(e.length>t)return e.length=t,!0}function yx(e){var t,i,r;function a(n){var s=this;if(!(s instanceof a))return new a(n);if(s.constructor=a,n instanceof a){s.s=n.s,s.e=n.e,s.d=(n=n.d)?n.slice():n;return}if(typeof n=="number"){if(n*0!==0)throw Error(ia+n);if(n>0)s.s=1;else if(n<0)n=-n,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(n===~~n&&n<1e7){s.e=0,s.d=[n];return}return Qg(s,n.toString())}else if(typeof n!="string")throw Error(ia+n);if(n.charCodeAt(0)===45?(n=n.slice(1),s.s=-1):s.s=1,g7.test(n))Qg(s,n);else throw Error(ia+n)}if(a.prototype=ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=yx,a.config=a.set=b7,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(i=r[t++])||(e[i]=this[i]);return a.config(e),a}function b7(e){if(!e||typeof e!="object")throw Error(ii+"Object expected");var t,i,r,a=["precision",1,zn,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[i=a[t]])!==void 0)if(Dn(r)===r&&r>=a[t+1]&&r<=a[t+2])this[i]=r;else throw Error(ia+i+": "+r);if((r=e[i="LN10"])!==void 0)if(r==Math.LN10)this[i]=new this(r);else throw Error(ia+i+": "+r);return this}var Rf=yx(d7);Lt=new Rf(1);const Me=Rf;function y7(e){return x7(e)||N7(e)||C7(e)||v7()}function v7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7(e,t){if(e){if(typeof e=="string")return xm(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return xm(e,t)}}function N7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function x7(e){if(Array.isArray(e))return xm(e)}function xm(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var T7=function(t){return t},vx={"@@functional/placeholder":!0},Cx=function(t){return t===vx},tb=function(t){return function i(){return arguments.length===0||arguments.length===1&&Cx(arguments.length<=0?void 0:arguments[0])?i:t.apply(void 0,arguments)}},k7=function e(t,i){return t===1?i:tb(function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var s=a.filter(function(l){return l!==vx}).length;return s>=t?i.apply(void 0,a):e(t-s,tb(function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var m=a.map(function(p){return Cx(p)?u.shift():p});return i.apply(void 0,y7(m).concat(u))}))})},uu=function(t){return k7(t.length,t)},Tm=function(t,i){for(var r=[],a=t;a<i;++a)r[a-t]=a;return r},S7=uu(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(i){return t[i]}).map(e)}),O7=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];if(!i.length)return T7;var a=i.reverse(),n=a[0],s=a.slice(1);return function(){return s.reduce(function(l,u){return u(l)},n.apply(void 0,arguments))}},km=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Nx=function(t){var i=null,r=null;return function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return i&&n.every(function(l,u){return l===i[u]})||(i=n,r=t.apply(void 0,n)),r}};function z7(e){var t;return e===0?t=1:t=Math.floor(new Me(e).abs().log(10).toNumber())+1,t}function D7(e,t,i){for(var r=new Me(e),a=0,n=[];r.lt(t)&&a<1e5;)n.push(r.toNumber()),r=r.add(i),a++;return n}var _7=uu(function(e,t,i){var r=+e,a=+t;return r+i*(a-r)}),w7=uu(function(e,t,i){var r=t-+e;return r=r||1/0,(i-e)/r}),A7=uu(function(e,t,i){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(i-e)/r))});const cu={rangeStep:D7,getDigitCount:z7,interpolateNumber:_7,uninterpolateNumber:w7,uninterpolateTruncation:A7};function Sm(e){return E7(e)||G7(e)||xx(e)||U7()}function U7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function E7(e){if(Array.isArray(e))return Om(e)}function ys(e,t){return $7(e)||P7(e,t)||xx(e,t)||M7()}function M7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xx(e,t){if(e){if(typeof e=="string")return Om(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Om(e,t)}}function Om(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function P7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var i=[],r=!0,a=!1,n=void 0;try{for(var s=e[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(i.push(l.value),!(t&&i.length===t));r=!0);}catch(u){a=!0,n=u}finally{try{!r&&s.return!=null&&s.return()}finally{if(a)throw n}}return i}}function $7(e){if(Array.isArray(e))return e}function Tx(e){var t=ys(e,2),i=t[0],r=t[1],a=i,n=r;return i>r&&(a=r,n=i),[a,n]}function kx(e,t,i){if(e.lte(0))return new Me(0);var r=cu.getDigitCount(e.toNumber()),a=new Me(10).pow(r),n=e.div(a),s=r!==1?.05:.1,l=new Me(Math.ceil(n.div(s).toNumber())).add(i).mul(s),u=l.mul(a);return t?u:new Me(Math.ceil(u))}function I7(e,t,i){var r=1,a=new Me(e);if(!a.isint()&&i){var n=Math.abs(e);n<1?(r=new Me(10).pow(cu.getDigitCount(e)-1),a=new Me(Math.floor(a.div(r).toNumber())).mul(r)):n>1&&(a=new Me(Math.floor(e)))}else e===0?a=new Me(Math.floor((t-1)/2)):i||(a=new Me(Math.floor(e)));var s=Math.floor((t-1)/2),l=O7(S7(function(u){return a.add(new Me(u-s).mul(r)).toNumber()}),Tm);return l(0,t)}function Sx(e,t,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(i-1)))return{step:new Me(0),tickMin:new Me(0),tickMax:new Me(0)};var n=kx(new Me(t).sub(e).div(i-1),r,a),s;e<=0&&t>=0?s=new Me(0):(s=new Me(e).add(t).div(2),s=s.sub(new Me(s).mod(n)));var l=Math.ceil(s.sub(e).div(n).toNumber()),u=Math.ceil(new Me(t).sub(s).div(n).toNumber()),c=l+u+1;return c>i?Sx(e,t,i,r,a+1):(c<i&&(u=t>0?u+(i-c):u,l=t>0?l:l+(i-c)),{step:n,tickMin:s.sub(new Me(l).mul(n)),tickMax:s.add(new Me(u).mul(n))})}function R7(e){var t=ys(e,2),i=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=Tx([i,r]),u=ys(l,2),c=u[0],m=u[1];if(c===-1/0||m===1/0){var p=m===1/0?[c].concat(Sm(Tm(0,a-1).map(function(){return 1/0}))):[].concat(Sm(Tm(0,a-1).map(function(){return-1/0})),[m]);return i>r?km(p):p}if(c===m)return I7(c,a,n);var f=Sx(c,m,s,n),b=f.step,g=f.tickMin,h=f.tickMax,y=cu.rangeStep(g,h.add(new Me(.1).mul(b)),b);return i>r?km(y):y}function j7(e,t){var i=ys(e,2),r=i[0],a=i[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Tx([r,a]),l=ys(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0)return[r,a];if(u===c)return[u];var m=Math.max(t,2),p=kx(new Me(c).sub(u).div(m-1),n,0),f=[].concat(Sm(cu.rangeStep(new Me(u),new Me(c).sub(new Me(.99).mul(p)),p)),[c]);return r>a?km(f):f}var B7=Nx(R7),L7=Nx(j7),F7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},cl.apply(this,arguments)}function W7(e,t){return V7(e)||K7(e,t)||H7(e,t)||q7()}function q7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7(e,t){if(e){if(typeof e=="string")return ib(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ib(e,t)}}function ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function K7(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var r,a,n,s,l=[],u=!0,c=!1;try{if(n=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(r=n.call(i)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(m){c=!0,a=m}finally{try{if(!u&&i.return!=null&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function V7(e){if(Array.isArray(e))return e}function X7(e,t){if(e==null)return{};var i=Y7(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Y7(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function _n(e){var t=e.offset,i=e.layout,r=e.width,a=e.dataKey,n=e.data,s=e.dataPointFormatter,l=e.xAxis,u=e.yAxis,c=X7(e,F7),m=ve(c),p=n.map(function(f,b){var g=s(f,a),h=g.x,y=g.y,C=g.value,N=g.errorVal;if(!N)return null;var d=[],v,k;if(Array.isArray(N)){var T=W7(N,2);v=T[0],k=T[1]}else v=k=N;if(i==="vertical"){var S=l.scale,O=y+t,_=O+r,A=O-r,z=S(C-v),D=S(C+k);d.push({x1:D,y1:_,x2:D,y2:A}),d.push({x1:z,y1:O,x2:D,y2:O}),d.push({x1:z,y1:_,x2:z,y2:A})}else if(i==="horizontal"){var U=u.scale,P=h+t,$=P-r,B=P+r,q=U(C-v),j=U(C+k);d.push({x1:$,y1:j,x2:B,y2:j}),d.push({x1:P,y1:q,x2:P,y2:j}),d.push({x1:$,y1:q,x2:B,y2:q})}return G.createElement(Ae,cl({className:"recharts-errorBar",key:"bar-".concat(b)},m),d.map(function(F,K){return G.createElement("line",cl({},F,{key:"line-".concat(K)}))}))});return G.createElement(Ae,{className:"recharts-errorBars"},p)}_n.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};_n.displayName="ErrorBar";function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function rb(e){return eB(e)||Q7(e)||Z7(e)||J7()}function J7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z7(e,t){if(e){if(typeof e=="string")return zm(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return zm(e,t)}}function Q7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eB(e){if(Array.isArray(e))return zm(e)}function zm(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function ab(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function Dt(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ab(Object(i),!0).forEach(function(r){Ga(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ab(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function Ga(e,t,i){return t=tB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function tB(e){var t=iB(e,"string");return vs(t)==="symbol"?t:String(t)}function iB(e,t){if(vs(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(vs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lt(e,t,i){return te(e)||te(t)?i:nt(t)?Ct(e,t,i):me(t)?t(e):i}function ts(e,t,i,r){var a=B4(e,function(l){return lt(l,t)});if(i==="number"){var n=a.filter(function(l){return X(l)||parseFloat(l)});return n.length?[iu(n),br(n)]:[1/0,-1/0]}var s=r?a.filter(function(l){return!te(l)}):a;return s.map(function(l){return nt(l)||l instanceof Date?l:""})}var rB=function(t){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=-1,l=(i=r==null?void 0:r.length)!==null&&i!==void 0?i:0;if(l<=1)return 0;if(n&&n.axisType==="angleAxis"&&Math.abs(Math.abs(n.range[1]-n.range[0])-360)<=1e-6)for(var u=n.range,c=0;c<l;c++){var m=c>0?a[c-1].coordinate:a[l-1].coordinate,p=a[c].coordinate,f=c>=l-1?a[0].coordinate:a[c+1].coordinate,b=void 0;if(Qt(p-m)!==Qt(f-p)){var g=[];if(Qt(f-p)===Qt(u[1]-u[0])){b=f;var h=p+u[1]-u[0];g[0]=Math.min(h,(h+m)/2),g[1]=Math.max(h,(h+m)/2)}else{b=m;var y=f+u[1]-u[0];g[0]=Math.min(p,(y+p)/2),g[1]=Math.max(p,(y+p)/2)}var C=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(t>C[0]&&t<=C[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var N=Math.min(m,f),d=Math.max(m,f);if(t>(N+p)/2&&t<=(d+p)/2){s=a[c].index;break}}}else for(var v=0;v<l;v++)if(v===0&&t<=(r[v].coordinate+r[v+1].coordinate)/2||v>0&&v<l-1&&t>(r[v].coordinate+r[v-1].coordinate)/2&&t<=(r[v].coordinate+r[v+1].coordinate)/2||v===l-1&&t>(r[v].coordinate+r[v-1].coordinate)/2){s=r[v].index;break}return s},jf=function(t){var i=t,r=i.type.displayName,a=t.props,n=a.stroke,s=a.fill,l;switch(r){case"Line":l=n;break;case"Area":case"Radar":l=n&&n!=="none"?n:s;break;default:l=s;break}return l},Ox=function(t){var i=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,n=t.legendContent,s=qi(i,na);if(!s)return null;var l;return s.props&&s.props.payload?l=s.props&&s.props.payload:n==="children"?l=(r||[]).reduce(function(u,c){var m=c.item,p=c.props,f=p.sectors||p.data||[];return u.concat(f.map(function(b){return{type:s.props.iconType||m.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):l=(r||[]).map(function(u){var c=u.item,m=c.props,p=m.dataKey,f=m.name,b=m.legendType,g=m.hide;return{inactive:g,dataKey:p,type:s.props.iconType||b||"square",color:jf(c),value:f||p,payload:c.props}}),Dt(Dt(Dt({},s.props),na.getWithHeight(s,a)),{},{payload:l,item:s})},aB=function(t){var i=t.barSize,r=t.stackGroups,a=r===void 0?{}:r;if(!a)return{};for(var n={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,m=Object.keys(c),p=0,f=m.length;p<f;p++){var b=c[m[p]],g=b.items,h=b.cateAxisId,y=g.filter(function(d){return Cr(d.type).indexOf("Bar")>=0});if(y&&y.length){var C=y[0].props.barSize,N=y[0].props[h];n[N]||(n[N]=[]),n[N].push({item:y[0],stackList:y.slice(1),barSize:te(C)?i:C})}}return n},nB=function(t){var i=t.barGap,r=t.barCategoryGap,a=t.bandSize,n=t.sizeList,s=n===void 0?[]:n,l=t.maxBarSize,u=s.length;if(u<1)return null;var c=ja(i,a,0,!0),m;if(s[0].barSize===+s[0].barSize){var p=!1,f=a/u,b=s.reduce(function(d,v){return d+v.barSize||0},0);b+=(u-1)*c,b>=a&&(b-=(u-1)*c,c=0),b>=a&&f>0&&(p=!0,f*=.9,b=u*f);var g=(a-b)/2>>0,h={offset:g-c,size:0};m=s.reduce(function(d,v){var k=[].concat(rb(d),[{item:v.item,position:{offset:h.offset+h.size+c,size:p?f:v.barSize}}]);return h=k[k.length-1].position,v.stackList&&v.stackList.length&&v.stackList.forEach(function(T){k.push({item:T,position:h})}),k},[])}else{var y=ja(r,a,0,!0);a-2*y-(u-1)*c<=0&&(c=0);var C=(a-2*y-(u-1)*c)/u;C>1&&(C>>=0);var N=l===+l?Math.min(C,l):C;m=s.reduce(function(d,v,k){var T=[].concat(rb(d),[{item:v.item,position:{offset:y+(C+c)*k+(C-N)/2,size:N}}]);return v.stackList&&v.stackList.length&&v.stackList.forEach(function(S){T.push({item:S,position:T[T.length-1].position})}),T},[])}return m},sB=function(t,i,r,a){var n=r.children,s=r.width,l=r.margin,u=s-(l.left||0)-(l.right||0),c=Ox({children:n,legendWidth:u}),m=t;if(c){var p=a||{},f=c.align,b=c.verticalAlign,g=c.layout;(g==="vertical"||g==="horizontal"&&b==="middle")&&X(t[f])&&(m=Dt(Dt({},t),{},Ga({},f,m[f]+(p.width||0)))),(g==="horizontal"||g==="vertical"&&f==="center")&&X(t[b])&&(m=Dt(Dt({},t),{},Ga({},b,m[b]+(p.height||0))))}return m},oB=function(t,i,r){return te(i)?!0:t==="horizontal"?i==="yAxis":t==="vertical"||r==="x"?i==="xAxis":r==="y"?i==="yAxis":!0},zx=function(t,i,r,a,n){var s=i.props.children,l=Pt(s,_n).filter(function(c){return oB(a,n,c.props.direction)});if(l&&l.length){var u=l.map(function(c){return c.props.dataKey});return t.reduce(function(c,m){var p=lt(m,r,0),f=Qe(p)?[iu(p),br(p)]:[p,p],b=u.reduce(function(g,h){var y=lt(m,h,0),C=f[0]-Math.abs(Qe(y)?y[0]:y),N=f[1]+Math.abs(Qe(y)?y[1]:y);return[Math.min(C,g[0]),Math.max(N,g[1])]},[1/0,-1/0]);return[Math.min(b[0],c[0]),Math.max(b[1],c[1])]},[1/0,-1/0])}return null},lB=function(t,i,r,a,n){var s=i.map(function(l){return zx(t,l,r,n,a)}).filter(function(l){return!te(l)});return s&&s.length?s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},Dx=function(t,i,r,a,n){var s=i.map(function(u){var c=u.props.dataKey;return r==="number"&&c&&zx(t,u,c,a)||ts(t,c,r,n)});if(r==="number")return s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);var l={};return s.reduce(function(u,c){for(var m=0,p=c.length;m<p;m++)l[c[m]]||(l[c[m]]=!0,u.push(c[m]));return u},[])},_x=function(t,i){return t==="horizontal"&&i==="xAxis"||t==="vertical"&&i==="yAxis"||t==="centric"&&i==="angleAxis"||t==="radial"&&i==="radiusAxis"},nb=function(t,i,r){var a,n,s=t.map(function(l){return l.coordinate===i&&(a=!0),l.coordinate===r&&(n=!0),l.coordinate});return a||s.push(i),n||s.push(r),s},cr=function(t,i,r){if(!t)return null;var a=t.scale,n=t.duplicateDomain,s=t.type,l=t.range,u=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(i||r)&&s==="category"&&a.bandwidth?a.bandwidth()/u:0;return c=t.axisType==="angleAxis"?Qt(l[0]-l[1])*2*c:c,i&&(t.ticks||t.niceTicks)?(t.ticks||t.niceTicks).map(function(m){var p=n?n.indexOf(m):m;return{coordinate:a(p)+c,value:m,offset:c}}):t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,p){return{coordinate:a(m)+c,value:m,index:p,offset:c}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+c,value:m,offset:c}}):a.domain().map(function(m,p){return{coordinate:a(m)+c,value:n?n[m]:m,index:p,offset:c}})},ho=function(t,i,r){var a;return me(r)?a=r:me(i)&&(a=i),me(t)||a?function(n,s,l,u){me(t)&&t(n,s,l,u),me(a)&&a(n,s,l,u)}:null},uB=function(t,i,r){var a=t.scale,n=t.type,s=t.layout,l=t.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:ps(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:nl(),realScaleType:"linear"}:n==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?{scale:es(),realScaleType:"point"}:n==="category"?{scale:ps(),realScaleType:"band"}:{scale:nl(),realScaleType:"linear"};if(Bs(a)){var u="scale".concat(Vl(a));return{scale:(Zg[u]||es)(),realScaleType:Zg[u]?u:"point"}}return me(a)?{scale:a}:{scale:es(),realScaleType:"point"}},sb=1e-4,cB=function(t){var i=t.domain();if(!(!i||i.length<=2)){var r=i.length,a=t.range(),n=Math.min(a[0],a[1])-sb,s=Math.max(a[0],a[1])+sb,l=t(i[0]),u=t(i[r-1]);(l<n||l>s||u<n||u>s)&&t.domain([i[0],i[r-1]])}},mB=function(t,i){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===i)return t[r].position;return null},pB=function(t,i){if(!i||i.length!==2||!X(i[0])||!X(i[1]))return t;var r=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]),n=[t[0],t[1]];return(!X(t[0])||t[0]<r)&&(n[0]=r),(!X(t[1])||t[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<r&&(n[1]=r),n},fB=function(t){var i=t.length;if(!(i<=0))for(var r=0,a=t[0].length;r<a;++r)for(var n=0,s=0,l=0;l<i;++l){var u=Ls(t[l][r][1])?t[l][r][0]:t[l][r][1];u>=0?(t[l][r][0]=n,t[l][r][1]=n+u,n=t[l][r][1]):(t[l][r][0]=s,t[l][r][1]=s+u,s=t[l][r][1])}},hB=function(t){var i=t.length;if(!(i<=0))for(var r=0,a=t[0].length;r<a;++r)for(var n=0,s=0;s<i;++s){var l=Ls(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=n,t[s][r][1]=n+l,n=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},dB={sign:fB,expand:zP,none:Ba,silhouette:DP,wiggle:_P,positive:hB},gB=function(t,i,r){var a=i.map(function(s){return s.props.dataKey}),n=OP().keys(a).value(function(s,l){return+lt(s,l,0)}).order(jc).offset(dB[r]);return n(t)},bB=function(t,i,r,a,n,s){if(!t)return null;var l=s?i.reverse():i,u=l.reduce(function(c,m){var p=m.props,f=p.stackId,b=p.hide;if(b)return c;var g=m.props[r],h=c[g]||{hasStack:!1,stackGroups:{}};if(nt(f)){var y=h.stackGroups[f]||{numericAxisId:r,cateAxisId:a,items:[]};y.items.push(m),h.hasStack=!0,h.stackGroups[f]=y}else h.stackGroups[pa("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[m]};return Dt(Dt({},c),{},Ga({},g,h))},{});return Object.keys(u).reduce(function(c,m){var p=u[m];return p.hasStack&&(p.stackGroups=Object.keys(p.stackGroups).reduce(function(f,b){var g=p.stackGroups[b];return Dt(Dt({},f),{},Ga({},b,{numericAxisId:r,cateAxisId:a,items:g.items,stackedData:gB(t,g.items,n)}))},{})),Dt(Dt({},c),{},Ga({},m,p))},{})},yB=function(t,i){var r=i.realScaleType,a=i.type,n=i.tickCount,s=i.originalDomain,l=i.allowDecimals,u=r||i.scale;if(u!=="auto"&&u!=="linear")return null;if(n&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var m=B7(c,n,l);return t.domain([iu(m),br(m)]),{niceTicks:m}}if(n&&a==="number"){var p=t.domain(),f=L7(p,n,l);return{niceTicks:f}}return null},Qa=function(t){var i=t.axis,r=t.ticks,a=t.bandSize,n=t.entry,s=t.index,l=t.dataKey;if(i.type==="category"){if(!i.allowDuplicatedCategory&&i.dataKey&&!te(n[i.dataKey])){var u=Ao(r,"value",n[i.dataKey]);if(u)return u.coordinate+a/2}return r[s]?r[s].coordinate+a/2:null}var c=lt(n,te(l)?i.dataKey:l);return te(c)?null:i.scale(c)},ob=function(t){var i=t.axis,r=t.ticks,a=t.offset,n=t.bandSize,s=t.entry,l=t.index;if(i.type==="category")return r[l]?r[l].coordinate+a:null;var u=lt(s,i.dataKey,i.domain[l]);return te(u)?null:i.scale(u)-n/2+a},vB=function(t){var i=t.numericAxis,r=i.scale.domain();if(i.type==="number"){var a=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]);return a<=0&&n>=0?0:n<0?n:a}return r[0]},CB=function(t,i){var r=t.props.stackId;if(nt(r)){var a=i[r];if(a&&a.items.length){for(var n=-1,s=0,l=a.items.length;s<l;s++)if(a.items[s]===t){n=s;break}return n>=0?a.stackedData[n]:null}}return null},NB=function(t){return t.reduce(function(i,r){return[iu(r.concat([i[0]]).filter(X)),br(r.concat([i[1]]).filter(X))]},[1/0,-1/0])},wx=function(t,i,r){return Object.keys(t).reduce(function(a,n){var s=t[n],l=s.stackedData,u=l.reduce(function(c,m){var p=NB(m.slice(i,r+1));return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],a[0]),Math.max(u[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},lb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ub=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dm=function(t,i,r){if(me(t))return t(i,r);if(!Qe(t))return i;var a=[];if(X(t[0]))a[0]=r?t[0]:Math.min(t[0],i[0]);else if(lb.test(t[0])){var n=+lb.exec(t[0])[1];a[0]=i[0]-n}else me(t[0])?a[0]=t[0](i[0]):a[0]=i[0];if(X(t[1]))a[1]=r?t[1]:Math.max(t[1],i[1]);else if(ub.test(t[1])){var s=+ub.exec(t[1])[1];a[1]=i[1]+s}else me(t[1])?a[1]=t[1](i[1]):a[1]=i[1];return a},ml=function(t,i,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&i&&i.length>=2){for(var n=cf(i,function(p){return p.coordinate}),s=1/0,l=1,u=n.length;l<u;l++){var c=n[l],m=n[l-1];s=Math.min((c.coordinate||0)-(m.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},cb=function(t,i,r){return!t||!t.length||Xa(t,Ct(r,"type.defaultProps.domain"))?i:t},Ax=function(t,i){var r=t.props,a=r.dataKey,n=r.name,s=r.unit,l=r.formatter,u=r.tooltipType,c=r.chartType;return Dt(Dt({},ve(t)),{},{dataKey:a,unit:s,formatter:l,name:n||a,color:jf(t),value:lt(i,a),type:u,payload:i,chartType:c})};function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function mb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function pb(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(i),!0).forEach(function(r){xB(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):mb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function xB(e,t,i){return t=TB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function TB(e){var t=kB(e,"string");return Cs(t)==="symbol"?t:String(t)}function kB(e,t){if(Cs(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(Cs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pl=Math.PI/180,SB=function(t){return t*180/Math.PI},Nt=function(t,i,r,a){return{x:t+Math.cos(-pl*a)*r,y:i+Math.sin(-pl*a)*r}},OB=function(t,i){var r=t.x,a=t.y,n=i.x,s=i.y;return Math.sqrt(Math.pow(r-n,2)+Math.pow(a-s,2))},zB=function(t,i){var r=t.x,a=t.y,n=i.cx,s=i.cy,l=OB({x:r,y:a},{x:n,y:s});if(l<=0)return{radius:l};var u=(r-n)/l,c=Math.acos(u);return a>s&&(c=2*Math.PI-c),{radius:l,angle:SB(c),angleInRadian:c}},DB=function(t){var i=t.startAngle,r=t.endAngle,a=Math.floor(i/360),n=Math.floor(r/360),s=Math.min(a,n);return{startAngle:i-s*360,endAngle:r-s*360}},_B=function(t,i){var r=i.startAngle,a=i.endAngle,n=Math.floor(r/360),s=Math.floor(a/360),l=Math.min(n,s);return t+l*360},fb=function(t,i){var r=t.x,a=t.y,n=zB({x:r,y:a},i),s=n.radius,l=n.angle,u=i.innerRadius,c=i.outerRadius;if(s<u||s>c)return!1;if(s===0)return!0;var m=DB(i),p=m.startAngle,f=m.endAngle,b=l,g;if(p<=f){for(;b>f;)b-=360;for(;b<p;)b+=360;g=b>=p&&b<=f}else{for(;b>p;)b-=360;for(;b<f;)b+=360;g=b>=f&&b<=p}return g?pb(pb({},i),{},{radius:s,angle:_B(b,i)}):null};function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function wB(e){return EB(e)||GB(e)||UB(e)||AB()}function AB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UB(e,t){if(e){if(typeof e=="string")return _m(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _m(e,t)}}function GB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EB(e){if(Array.isArray(e))return _m(e)}function _m(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function hb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function mt(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?hb(Object(i),!0).forEach(function(r){MB(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):hb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function MB(e,t,i){return t=PB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function PB(e){var t=$B(e,"string");return Ns(t)==="symbol"?t:String(t)}function $B(e,t){if(Ns(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(Ns(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},xs.apply(this,arguments)}var IB=function(t){var i=t.value,r=t.formatter,a=te(t.children)?i:t.children;return me(r)?r(a):a},RB=function(t,i){var r=Qt(i-t),a=Math.min(Math.abs(i-t),360);return r*a},jB=function(t,i,r){var a=t.position,n=t.viewBox,s=t.offset,l=t.className,u=n,c=u.cx,m=u.cy,p=u.innerRadius,f=u.outerRadius,b=u.startAngle,g=u.endAngle,h=u.clockWise,y=(p+f)/2,C=RB(b,g),N=C>=0?1:-1,d,v;a==="insideStart"?(d=b+N*s,v=h):a==="insideEnd"?(d=g-N*s,v=!h):a==="end"&&(d=g+N*s,v=h),v=C<=0?v:!v;var k=Nt(c,m,y,d),T=Nt(c,m,y,d+(v?1:-1)*359),S="M".concat(k.x,",").concat(k.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(v?0:1,`,
    `).concat(T.x,",").concat(T.y),O=te(t.id)?pa("recharts-radial-line-"):t.id;return G.createElement("text",xs({},r,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",l)}),G.createElement("defs",null,G.createElement("path",{id:O,d:S})),G.createElement("textPath",{xlinkHref:"#".concat(O)},i))},BB=function(t){var i=t.viewBox,r=t.offset,a=t.position,n=i,s=n.cx,l=n.cy,u=n.innerRadius,c=n.outerRadius,m=n.startAngle,p=n.endAngle,f=(m+p)/2;if(a==="outside"){var b=Nt(s,l,c+r,f),g=b.x,h=b.y;return{x:g,y:h,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(u+c)/2,C=Nt(s,l,y,f),N=C.x,d=C.y;return{x:N,y:d,textAnchor:"middle",verticalAnchor:"middle"}},LB=function(t){var i=t.viewBox,r=t.parentViewBox,a=t.offset,n=t.position,s=i,l=s.x,u=s.y,c=s.width,m=s.height,p=m>=0?1:-1,f=p*a,b=p>0?"end":"start",g=p>0?"start":"end",h=c>=0?1:-1,y=h*a,C=h>0?"end":"start",N=h>0?"start":"end";if(n==="top"){var d={x:l+c/2,y:u-p*a,textAnchor:"middle",verticalAnchor:b};return mt(mt({},d),r?{height:Math.max(u-r.y,0),width:c}:{})}if(n==="bottom"){var v={x:l+c/2,y:u+m+f,textAnchor:"middle",verticalAnchor:g};return mt(mt({},v),r?{height:Math.max(r.y+r.height-(u+m),0),width:c}:{})}if(n==="left"){var k={x:l-y,y:u+m/2,textAnchor:C,verticalAnchor:"middle"};return mt(mt({},k),r?{width:Math.max(k.x-r.x,0),height:m}:{})}if(n==="right"){var T={x:l+c+y,y:u+m/2,textAnchor:N,verticalAnchor:"middle"};return mt(mt({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:m}:{})}var S=r?{width:c,height:m}:{};return n==="insideLeft"?mt({x:l+y,y:u+m/2,textAnchor:N,verticalAnchor:"middle"},S):n==="insideRight"?mt({x:l+c-y,y:u+m/2,textAnchor:C,verticalAnchor:"middle"},S):n==="insideTop"?mt({x:l+c/2,y:u+f,textAnchor:"middle",verticalAnchor:g},S):n==="insideBottom"?mt({x:l+c/2,y:u+m-f,textAnchor:"middle",verticalAnchor:b},S):n==="insideTopLeft"?mt({x:l+y,y:u+f,textAnchor:N,verticalAnchor:g},S):n==="insideTopRight"?mt({x:l+c-y,y:u+f,textAnchor:C,verticalAnchor:g},S):n==="insideBottomLeft"?mt({x:l+y,y:u+m-f,textAnchor:N,verticalAnchor:b},S):n==="insideBottomRight"?mt({x:l+c-y,y:u+m-f,textAnchor:C,verticalAnchor:b},S):yn(n)&&(X(n.x)||Yr(n.x))&&(X(n.y)||Yr(n.y))?mt({x:l+ja(n.x,c),y:u+ja(n.y,m),textAnchor:"end",verticalAnchor:"end"},S):mt({x:l+c/2,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},S)},FB=function(t){return"cx"in t&&X(t.cx)};function Ye(e){var t=e.viewBox,i=e.position,r=e.value,a=e.children,n=e.content,s=e.className,l=s===void 0?"":s,u=e.textBreakAll;if(!t||te(r)&&te(a)&&!x.isValidElement(n)&&!me(n))return null;if(x.isValidElement(n))return x.cloneElement(n,e);var c;if(me(n)){if(c=x.createElement(n,e),x.isValidElement(c))return c}else c=IB(e);var m=FB(t),p=ve(e,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return jB(e,c,p);var f=m?BB(e):LB(e);return G.createElement(ms,xs({className:Ge("recharts-label",l)},p,f,{breakAll:u}),c)}Ye.displayName="Label";Ye.defaultProps={offset:5};var Ux=function(t){var i=t.cx,r=t.cy,a=t.angle,n=t.startAngle,s=t.endAngle,l=t.r,u=t.radius,c=t.innerRadius,m=t.outerRadius,p=t.x,f=t.y,b=t.top,g=t.left,h=t.width,y=t.height,C=t.clockWise,N=t.labelViewBox;if(N)return N;if(X(h)&&X(y)){if(X(p)&&X(f))return{x:p,y:f,width:h,height:y};if(X(b)&&X(g))return{x:b,y:g,width:h,height:y}}return X(p)&&X(f)?{x:p,y:f,width:0,height:0}:X(i)&&X(r)?{cx:i,cy:r,startAngle:n||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:m||u||l||0,clockWise:C}:t.viewBox?t.viewBox:{}},WB=function(t,i){return t?t===!0?G.createElement(Ye,{key:"label-implicit",viewBox:i}):nt(t)?G.createElement(Ye,{key:"label-implicit",viewBox:i,value:t}):x.isValidElement(t)?t.type===Ye?x.cloneElement(t,{key:"label-implicit",viewBox:i}):G.createElement(Ye,{key:"label-implicit",content:t,viewBox:i}):me(t)?G.createElement(Ye,{key:"label-implicit",content:t,viewBox:i}):yn(t)?G.createElement(Ye,xs({viewBox:i},t,{key:"label-implicit"})):null:null},qB=function(t,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,n=Ux(t),s=Pt(a,Ye).map(function(u,c){return x.cloneElement(u,{viewBox:i||n,key:"label-".concat(c)})});if(!r)return s;var l=WB(t.label,i||n);return[l].concat(wB(s))};Ye.parseViewBox=Ux;Ye.renderCallByParent=qB;function HB(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var KB=HB;const VB=Re(KB);function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}var XB=["data","valueAccessor","dataKey","clockWise","id","textBreakAll"];function YB(e){return eL(e)||QB(e)||ZB(e)||JB()}function JB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZB(e,t){if(e){if(typeof e=="string")return wm(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return wm(e,t)}}function QB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eL(e){if(Array.isArray(e))return wm(e)}function wm(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},fl.apply(this,arguments)}function db(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function gb(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?db(Object(i),!0).forEach(function(r){tL(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):db(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function tL(e,t,i){return t=iL(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function iL(e){var t=rL(e,"string");return Ts(t)==="symbol"?t:String(t)}function rL(e,t){if(Ts(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(Ts(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aL(e,t){if(e==null)return{};var i=nL(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nL(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}var sL={valueAccessor:function(t){return Qe(t.value)?VB(t.value):t.value}};function di(e){var t=e.data,i=e.valueAccessor,r=e.dataKey,a=e.clockWise,n=e.id,s=e.textBreakAll,l=aL(e,XB);return!t||!t.length?null:G.createElement(Ae,{className:"recharts-label-list"},t.map(function(u,c){var m=te(r)?i(u,c):lt(u&&u.payload,r),p=te(n)?{}:{id:"".concat(n,"-").concat(c)};return G.createElement(Ye,fl({},ve(u,!0),l,p,{parentViewBox:u.parentViewBox,index:c,value:m,textBreakAll:s,viewBox:Ye.parseViewBox(te(a)?u:gb(gb({},u),{},{clockWise:a})),key:"label-".concat(c)}))}))}di.displayName="LabelList";function oL(e,t){return e?e===!0?G.createElement(di,{key:"labelList-implicit",data:t}):G.isValidElement(e)||me(e)?G.createElement(di,{key:"labelList-implicit",data:t,content:e}):yn(e)?G.createElement(di,fl({data:t},e,{key:"labelList-implicit"})):null:null}function lL(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&i&&!e.label)return null;var r=e.children,a=Pt(r,di).map(function(s,l){return x.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!i)return a;var n=oL(e.label,t);return[n].concat(YB(a))}di.renderCallByParent=lL;di.defaultProps=sL;function en(e){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(e)}function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Am.apply(this,arguments)}function uL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bb(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gx(r.key),r)}}function cL(e,t,i){return t&&bb(e.prototype,t),i&&bb(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function mL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Um(e,t)}function Um(e,t){return Um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Um(e,t)}function pL(e){var t=dL();return function(){var r=hl(e),a;if(t){var n=hl(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return fL(this,a)}}function fL(e,t){if(t&&(en(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hL(e)}function hL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hl(e){return hl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},hl(e)}function gL(e,t,i){return t=Gx(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Gx(e){var t=bL(e,"string");return en(t)==="symbol"?t:String(t)}function bL(e,t){if(en(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(en(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yL=function(t,i){var r=Qt(i-t),a=Math.min(Math.abs(i-t),359.999);return r*a},go=function(t){var i=t.cx,r=t.cy,a=t.radius,n=t.angle,s=t.sign,l=t.isExternal,u=t.cornerRadius,c=t.cornerIsExternal,m=u*(l?1:-1)+a,p=Math.asin(u/m)/pl,f=c?n:n+s*p,b=Nt(i,r,m,f),g=Nt(i,r,a,f),h=c?n-s*p:n,y=Nt(i,r,m*Math.cos(p*pl),h);return{center:b,circleTangency:g,lineTangency:y,theta:p}},Ex=function(t){var i=t.cx,r=t.cy,a=t.innerRadius,n=t.outerRadius,s=t.startAngle,l=t.endAngle,u=yL(s,l),c=s+u,m=Nt(i,r,n,s),p=Nt(i,r,n,c),f="M ".concat(m.x,",").concat(m.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>c),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var b=Nt(i,r,a,s),g=Nt(i,r,a,c);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=c),`,
            `).concat(b.x,",").concat(b.y," Z")}else f+="L ".concat(i,",").concat(r," Z");return f},vL=function(t){var i=t.cx,r=t.cy,a=t.innerRadius,n=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,c=t.startAngle,m=t.endAngle,p=Qt(m-c),f=go({cx:i,cy:r,radius:n,angle:c,sign:p,cornerRadius:s,cornerIsExternal:u}),b=f.circleTangency,g=f.lineTangency,h=f.theta,y=go({cx:i,cy:r,radius:n,angle:m,sign:-p,cornerRadius:s,cornerIsExternal:u}),C=y.circleTangency,N=y.lineTangency,d=y.theta,v=u?Math.abs(c-m):Math.abs(c-m)-h-d;if(v<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Ex({cx:i,cy:r,innerRadius:a,outerRadius:n,startAngle:c,endAngle:m});var k="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(v>180),",").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
  `);if(a>0){var T=go({cx:i,cy:r,radius:a,angle:c,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),S=T.circleTangency,O=T.lineTangency,_=T.theta,A=go({cx:i,cy:r,radius:a,angle:m,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),z=A.circleTangency,D=A.lineTangency,U=A.theta,P=u?Math.abs(c-m):Math.abs(c-m)-_-U;if(P<0&&s===0)return"".concat(k,"L").concat(i,",").concat(r,"Z");k+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(p>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,"Z")}else k+="L".concat(i,",").concat(r,"Z");return k},Mx=function(e){mL(i,e);var t=pL(i);function i(){return uL(this,i),t.apply(this,arguments)}return cL(i,[{key:"render",value:function(){var a=this.props,n=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.cornerRadius,m=a.forceCornerRadius,p=a.cornerIsExternal,f=a.startAngle,b=a.endAngle,g=a.className;if(u<l||f===b)return null;var h=Ge("recharts-sector",g),y=u-l,C=ja(c,y,0,!0),N;return C>0&&Math.abs(f-b)<360?N=vL({cx:n,cy:s,innerRadius:l,outerRadius:u,cornerRadius:Math.min(C,y/2),forceCornerRadius:m,cornerIsExternal:p,startAngle:f,endAngle:b}):N=Ex({cx:n,cy:s,innerRadius:l,outerRadius:u,startAngle:f,endAngle:b}),G.createElement("path",Am({},ve(this.props,!0),{className:h,d:N,role:"img"}))}}]),i}(x.PureComponent);gL(Mx,"defaultProps",{cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1});function tn(e){"@babel/helpers - typeof";return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(e)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Gm.apply(this,arguments)}function yb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function vb(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?yb(Object(i),!0).forEach(function(r){Px(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function CL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cb(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$x(r.key),r)}}function NL(e,t,i){return t&&Cb(e.prototype,t),i&&Cb(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function xL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Em(e,t)}function Em(e,t){return Em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Em(e,t)}function TL(e){var t=OL();return function(){var r=dl(e),a;if(t){var n=dl(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return kL(this,a)}}function kL(e,t){if(t&&(tn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SL(e)}function SL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dl(e){return dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},dl(e)}function Px(e,t,i){return t=$x(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function $x(e){var t=zL(e,"string");return tn(t)==="symbol"?t:String(t)}function zL(e,t){if(tn(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(tn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nb={curveBasisClosed:dP,curveBasisOpen:gP,curveBasis:hP,curveLinearClosed:bP,curveLinear:Yl,curveMonotoneX:yP,curveMonotoneY:vP,curveNatural:CP,curveStep:NP,curveStepAfter:TP,curveStepBefore:xP},bo=function(t){return t.x===+t.x&&t.y===+t.y},Ln=function(t){return t.x},Fn=function(t){return t.y},DL=function(t,i){if(me(t))return t;var r="curve".concat(Vl(t));return r==="curveMonotone"&&i?Nb["".concat(r).concat(i==="vertical"?"Y":"X")]:Nb[r]||Yl},xr=function(e){xL(i,e);var t=TL(i);function i(){return CL(this,i),t.apply(this,arguments)}return NL(i,[{key:"getPath",value:function(){var a=this.props,n=a.type,s=a.points,l=a.baseLine,u=a.layout,c=a.connectNulls,m=DL(n,u),p=c?s.filter(function(h){return bo(h)}):s,f;if(Qe(l)){var b=c?l.filter(function(h){return bo(h)}):l,g=p.map(function(h,y){return vb(vb({},h),{},{base:b[y]})});return u==="vertical"?f=oo().y(Fn).x1(Ln).x0(function(h){return h.base.x}):f=oo().x(Ln).y1(Fn).y0(function(h){return h.base.y}),f.defined(bo).curve(m),f(g)}return u==="vertical"&&X(l)?f=oo().y(Fn).x1(Ln).x0(l):X(l)?f=oo().x(Ln).y1(Fn).y0(l):f=KC().x(Ln).y(Fn),f.defined(bo).curve(m),f(p)}},{key:"render",value:function(){var a=this.props,n=a.className,s=a.points,l=a.path,u=a.pathRef;if((!s||!s.length)&&!l)return null;var c=s&&s.length?this.getPath():l;return G.createElement("path",Gm({},ve(this.props),Uo(this.props),{className:Ge("recharts-curve",n),d:c,ref:u}))}}]),i}(x.PureComponent);Px(xr,"defaultProps",{type:"linear",points:[],connectNulls:!1});function rn(e){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(e)}function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},gl.apply(this,arguments)}function _L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xb(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jx(r.key),r)}}function wL(e,t,i){return t&&xb(e.prototype,t),i&&xb(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function AL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mm(e,t)}function Mm(e,t){return Mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Mm(e,t)}function UL(e){var t=EL();return function(){var r=bl(e),a;if(t){var n=bl(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return GL(this,a)}}function GL(e,t){if(t&&(rn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ix(e)}function Ix(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bl(e){return bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},bl(e)}function Rx(e,t,i){return t=jx(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function jx(e){var t=ML(e,"string");return rn(t)==="symbol"?t:String(t)}function ML(e,t){if(rn(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(rn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tb=function(t,i,r,a,n){var s=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,u=r>=0?1:-1,c=a>=0&&r>=0||a<0&&r<0?1:0,m;if(s>0&&n instanceof Array){for(var p=[0,0,0,0],f=0,b=4;f<b;f++)p[f]=n[f]>s?s:n[f];m="M".concat(t,",").concat(i+l*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(c,",").concat(t+u*p[0],",").concat(i)),m+="L ".concat(t+r-u*p[1],",").concat(i),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(i+l*p[1])),m+="L ".concat(t+r,",").concat(i+a-l*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(c,`,
        `).concat(t+r-u*p[2],",").concat(i+a)),m+="L ".concat(t+u*p[3],",").concat(i+a),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(i+a-l*p[3])),m+="Z"}else if(s>0&&n===+n&&n>0){var g=Math.min(s,n);m="M ".concat(t,",").concat(i+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+u*g,",").concat(i,`
            L `).concat(t+r-u*g,",").concat(i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+r,",").concat(i+l*g,`
            L `).concat(t+r,",").concat(i+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+r-u*g,",").concat(i+a,`
            L `).concat(t+u*g,",").concat(i+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(i+a-l*g," Z")}else m="M ".concat(t,",").concat(i," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return m},PL=function(t,i){if(!t||!i)return!1;var r=t.x,a=t.y,n=i.x,s=i.y,l=i.width,u=i.height;if(Math.abs(l)>0&&Math.abs(u)>0){var c=Math.min(n,n+l),m=Math.max(n,n+l),p=Math.min(s,s+u),f=Math.max(s,s+u);return r>=c&&r<=m&&a>=p&&a<=f}return!1},mu=function(e){AL(i,e);var t=UL(i);function i(){var r;_L(this,i);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=t.call.apply(t,[this].concat(n)),Rx(Ix(r),"state",{totalLength:-1}),r}return wL(i,[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var a=this.node.getTotalLength();a&&this.setState({totalLength:a})}catch{}}},{key:"render",value:function(){var a=this,n=this.props,s=n.x,l=n.y,u=n.width,c=n.height,m=n.radius,p=n.className,f=this.state.totalLength,b=this.props,g=b.animationEasing,h=b.animationDuration,y=b.animationBegin,C=b.isAnimationActive,N=b.isUpdateAnimationActive;if(s!==+s||l!==+l||u!==+u||c!==+c||u===0||c===0)return null;var d=Ge("recharts-rectangle",p);return N?G.createElement(Ji,{canBegin:f>0,from:{width:u,height:c,x:s,y:l},to:{width:u,height:c,x:s,y:l},duration:h,animationEasing:g,isActive:N},function(v){var k=v.width,T=v.height,S=v.x,O=v.y;return G.createElement(Ji,{canBegin:f>0,from:"0px ".concat(f===-1?1:f,"px"),to:"".concat(f,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:h,isActive:C,easing:g},G.createElement("path",gl({},ve(a.props,!0),{className:d,d:Tb(S,O,k,T,m),ref:function(A){a.node=A}})))}):G.createElement("path",gl({},ve(this.props,!0),{className:d,d:Tb(s,l,u,c,m)}))}}]),i}(x.PureComponent);Rx(mu,"defaultProps",{x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"});function an(e){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},an(e)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Pm.apply(this,arguments)}function $L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kb(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RL(r.key),r)}}function IL(e,t,i){return t&&kb(e.prototype,t),i&&kb(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function RL(e){var t=jL(e,"string");return an(t)==="symbol"?t:String(t)}function jL(e,t){if(an(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(an(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$m(e,t)}function $m(e,t){return $m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$m(e,t)}function LL(e){var t=qL();return function(){var r=yl(e),a;if(t){var n=yl(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return FL(this,a)}}function FL(e,t){if(t&&(an(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WL(e)}function WL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yl(e){return yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},yl(e)}var pu=function(e){BL(i,e);var t=LL(i);function i(){return $L(this,i),t.apply(this,arguments)}return IL(i,[{key:"render",value:function(){var a=this.props,n=a.cx,s=a.cy,l=a.r,u=a.className,c=Ge("recharts-dot",u);return n===+n&&s===+s&&l===+l?G.createElement("circle",Pm({},ve(this.props),Uo(this.props),{className:c,cx:n,cy:s,r:l})):null}}]),i}(x.PureComponent);function nn(e){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(e)}function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Im.apply(this,arguments)}function HL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sb(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bx(r.key),r)}}function KL(e,t,i){return t&&Sb(e.prototype,t),i&&Sb(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function VL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rm(e,t)}function Rm(e,t){return Rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Rm(e,t)}function XL(e){var t=ZL();return function(){var r=vl(e),a;if(t){var n=vl(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return YL(this,a)}}function YL(e,t){if(t&&(nn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JL(e)}function JL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vl(e){return vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},vl(e)}function QL(e,t,i){return t=Bx(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Bx(e){var t=e6(e,"string");return nn(t)==="symbol"?t:String(t)}function e6(e,t){if(nn(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(nn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lx=function(e){VL(i,e);var t=XL(i);function i(){return HL(this,i),t.apply(this,arguments)}return KL(i,[{key:"render",value:function(){var a=this.props,n=a.x,s=a.y,l=a.width,u=a.height,c=a.top,m=a.left,p=a.className;return!X(n)||!X(s)||!X(l)||!X(u)||!X(c)||!X(m)?null:G.createElement("path",Im({},ve(this.props,!0),{className:Ge("recharts-cross",p),d:i.getPath(n,s,l,u,c,m)}))}}],[{key:"getPath",value:function(a,n,s,l,u,c){return"M".concat(a,",").concat(u,"v").concat(l,"M").concat(c,",").concat(n,"h").concat(s)}}]),i}(x.PureComponent);QL(Lx,"defaultProps",{x:0,y:0,top:0,left:0,width:0,height:0});var t6=Math.ceil,i6=Math.max;function r6(e,t,i,r){for(var a=-1,n=i6(t6((t-e)/(i||1)),0),s=Array(n);n--;)s[r?n:++a]=e,e+=i;return s}var a6=r6,n6=/\s/;function s6(e){for(var t=e.length;t--&&n6.test(e.charAt(t)););return t}var o6=s6,l6=o6,u6=/^\s+/;function c6(e){return e&&e.slice(0,l6(e)+1).replace(u6,"")}var m6=c6,p6=m6,Ob=Dr,f6=vn,zb=NaN,h6=/^[-+]0x[0-9a-f]+$/i,d6=/^0b[01]+$/i,g6=/^0o[0-7]+$/i,b6=parseInt;function y6(e){if(typeof e=="number")return e;if(f6(e))return zb;if(Ob(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ob(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=p6(e);var i=d6.test(e);return i||g6.test(e)?b6(e.slice(2),i?2:8):h6.test(e)?zb:+e}var Fx=y6,v6=Fx,Db=1/0,C6=17976931348623157e292;function N6(e){if(!e)return e===0?e:0;if(e=v6(e),e===Db||e===-Db){var t=e<0?-1:1;return t*C6}return e===e?e:0}var Wx=N6,x6=a6,T6=tu,ic=Wx;function k6(e){return function(t,i,r){return r&&typeof r!="number"&&T6(t,i,r)&&(i=r=void 0),t=ic(t),i===void 0?(i=t,t=0):i=ic(i),r=r===void 0?t<i?1:-1:ic(r),x6(t,i,r,e)}}var S6=k6,O6=S6,z6=O6(),D6=z6;const Cl=Re(D6);function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function _b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function wb(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(i),!0).forEach(function(r){qx(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_b(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function qx(e,t,i){return t=_6(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _6(e){var t=w6(e,"string");return ks(t)==="symbol"?t:String(t)}function w6(e,t){if(ks(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(ks(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A6=["Webkit","Moz","O","ms"],U6=function(t,i){if(!t)return null;var r=t.replace(/(\w)/,function(n){return n.toUpperCase()}),a=A6.reduce(function(n,s){return wb(wb({},n),{},qx({},s+r,i))},{});return a[t]=i,a};function sn(e){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(e)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Nl.apply(this,arguments)}function Ab(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function rc(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(i),!0).forEach(function(r){Yt(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ab(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function G6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ub(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hx(r.key),r)}}function E6(e,t,i){return t&&Ub(e.prototype,t),i&&Ub(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function M6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jm(e,t)}function jm(e,t){return jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},jm(e,t)}function P6(e){var t=I6();return function(){var r=xl(e),a;if(t){var n=xl(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return $6(this,a)}}function $6(e,t){if(t&&(sn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xi(e)}function xi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xl(e){return xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},xl(e)}function Yt(e,t,i){return t=Hx(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Hx(e){var t=R6(e,"string");return sn(t)==="symbol"?t:String(t)}function R6(e,t){if(sn(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(sn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j6=function(t){var i=t.data,r=t.startIndex,a=t.endIndex,n=t.x,s=t.width,l=t.travellerWidth;if(!i||!i.length)return{};var u=i.length,c=es().domain(Cl(0,u)).range([n,n+s-l]),m=c.domain().map(function(p){return c(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:c(r),endX:c(a),scale:c,scaleValues:m}},Gb=function(t){return t.changedTouches&&!!t.changedTouches.length},Ss=function(e){M6(i,e);var t=P6(i);function i(r){var a;return G6(this,i),a=t.call(this,r),Yt(xi(a),"handleDrag",function(n){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(n):a.state.isSlideMoving&&a.handleSlideDrag(n)}),Yt(xi(a),"handleTouchMove",function(n){n.changedTouches!=null&&n.changedTouches.length>0&&a.handleDrag(n.changedTouches[0])}),Yt(xi(a),"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1}),a.detachDragEndListener()}),Yt(xi(a),"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Yt(xi(a),"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Yt(xi(a),"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Yt(xi(a),"handleSlideDragStart",function(n){var s=Gb(n)?n.changedTouches[0]:n;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(xi(a),"startX"),endX:a.handleTravellerDragStart.bind(xi(a),"endX")},a.state={},a}return E6(i,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var n=a.startX,s=a.endX,l=this.state.scaleValues,u=this.props,c=u.gap,m=u.data,p=m.length-1,f=Math.min(n,s),b=Math.max(n,s),g=i.getIndexInRange(l,f),h=i.getIndexInRange(l,b);return{startIndex:g-g%c,endIndex:h===p?p:h-h%c}}},{key:"getTextOfTick",value:function(a){var n=this.props,s=n.data,l=n.tickFormatter,u=n.dataKey,c=lt(s[a],u,a);return me(l)?l(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var n=this.state,s=n.slideMoveStartX,l=n.startX,u=n.endX,c=this.props,m=c.x,p=c.width,f=c.travellerWidth,b=c.startIndex,g=c.endIndex,h=c.onChange,y=a.pageX-s;y>0?y=Math.min(y,m+p-f-u,m+p-f-l):y<0&&(y=Math.max(y,m-l,m-u));var C=this.getIndex({startX:l+y,endX:u+y});(C.startIndex!==b||C.endIndex!==g)&&h&&h(C),this.setState({startX:l+y,endX:u+y,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,n){var s=Gb(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var n,s=this.state,l=s.brushMoveStartX,u=s.movingTravellerId,c=s.endX,m=s.startX,p=this.state[u],f=this.props,b=f.x,g=f.width,h=f.travellerWidth,y=f.onChange,C=f.gap,N=f.data,d={startX:this.state.startX,endX:this.state.endX},v=a.pageX-l;v>0?v=Math.min(v,b+g-h-p):v<0&&(v=Math.max(v,b-p)),d[u]=p+v;var k=this.getIndex(d),T=k.startIndex,S=k.endIndex,O=function(){var A=N.length-1;return u==="startX"&&(c>m?T%C===0:S%C===0)||c<m&&S===A||u==="endX"&&(c>m?S%C===0:T%C===0)||c>m&&S===A};this.setState((n={},Yt(n,u,p+v),Yt(n,"brushMoveStartX",a.pageX),n),function(){y&&O()&&y(k)})}},{key:"renderBackground",value:function(){var a=this.props,n=a.x,s=a.y,l=a.width,u=a.height,c=a.fill,m=a.stroke;return G.createElement("rect",{stroke:m,fill:c,x:n,y:s,width:l,height:u})}},{key:"renderPanorama",value:function(){var a=this.props,n=a.x,s=a.y,l=a.width,u=a.height,c=a.data,m=a.children,p=a.padding,f=x.Children.only(m);return f?G.cloneElement(f,{x:n,y:s,width:l,height:u,margin:p,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,n){var s=this.props,l=s.y,u=s.travellerWidth,c=s.height,m=s.traveller,p=Math.max(a,this.props.x),f=rc(rc({},ve(this.props)),{},{x:p,y:l,width:u,height:c});return G.createElement(Ae,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],style:{cursor:"col-resize"}},i.renderTraveller(m,f))}},{key:"renderSlide",value:function(a,n){var s=this.props,l=s.y,u=s.height,c=s.stroke,m=s.travellerWidth,p=Math.min(a,n)+m,f=Math.max(Math.abs(n-a)-m,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:p,y:l,width:f,height:u})}},{key:"renderText",value:function(){var a=this.props,n=a.startIndex,s=a.endIndex,l=a.y,u=a.height,c=a.travellerWidth,m=a.stroke,p=this.state,f=p.startX,b=p.endX,g=5,h={pointerEvents:"none",fill:m};return G.createElement(Ae,{className:"recharts-brush-texts"},G.createElement(ms,Nl({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,b)-g,y:l+u/2},h),this.getTextOfTick(n)),G.createElement(ms,Nl({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,b)+c+g,y:l+u/2},h),this.getTextOfTick(s)))}},{key:"render",value:function(){var a=this.props,n=a.data,s=a.className,l=a.children,u=a.x,c=a.y,m=a.width,p=a.height,f=a.alwaysShowText,b=this.state,g=b.startX,h=b.endX,y=b.isTextActive,C=b.isSlideMoving,N=b.isTravellerMoving;if(!n||!n.length||!X(u)||!X(c)||!X(m)||!X(p)||m<=0||p<=0)return null;var d=Ge("recharts-brush",s),v=G.Children.count(l)===1,k=U6("userSelect","none");return G.createElement(Ae,{className:d,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(g,h),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(h,"endX"),(y||C||N||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var n=a.x,s=a.y,l=a.width,u=a.height,c=a.stroke,m=Math.floor(s+u/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:n,y:s,width:l,height:u,fill:c,stroke:"none"}),G.createElement("line",{x1:n+1,y1:m,x2:n+l-1,y2:m,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:n+1,y1:m+2,x2:n+l-1,y2:m+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,n){var s;return G.isValidElement(a)?s=G.cloneElement(a,n):me(a)?s=a(n):s=i.renderDefaultTraveller(n),s}},{key:"getDerivedStateFromProps",value:function(a,n){var s=a.data,l=a.width,u=a.x,c=a.travellerWidth,m=a.updateId,p=a.startIndex,f=a.endIndex;if(s!==n.prevData||m!==n.prevUpdateId)return rc({prevData:s,prevTravellerWidth:c,prevUpdateId:m,prevX:u,prevWidth:l},s&&s.length?j6({data:s,width:l,x:u,travellerWidth:c,startIndex:p,endIndex:f}):{scale:null,scaleValues:null});if(n.scale&&(l!==n.prevWidth||u!==n.prevX||c!==n.prevTravellerWidth)){n.scale.range([u,u+l-c]);var b=n.scale.domain().map(function(g){return n.scale(g)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:m,prevX:u,prevWidth:l,startX:n.scale(a.startIndex),endX:n.scale(a.endIndex),scaleValues:b}}return null}},{key:"getIndexInRange",value:function(a,n){for(var s=a.length,l=0,u=s-1;u-l>1;){var c=Math.floor((l+u)/2);a[c]>n?u=c:l=c}return n>=a[u]?u:l}}]),i}(x.PureComponent);Yt(Ss,"displayName","Brush");Yt(Ss,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var B6=uf;function L6(e,t){var i;return B6(e,function(r,a,n){return i=t(r,a,n),!i}),!!i}var F6=L6,W6=NC,q6=Ar,H6=F6,K6=wt,V6=tu;function X6(e,t,i){var r=K6(e)?W6:H6;return i&&V6(e,t,i)&&(t=void 0),r(e,q6(t))}var Y6=X6;const J6=Re(Y6);var wi=function(t,i){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===i};function Z6(e,t){for(var i=-1,r=e==null?0:e.length;++i<r;)if(!t(e[i],i,e))return!1;return!0}var Q6=Z6,e8=uf;function t8(e,t){var i=!0;return e8(e,function(r,a,n){return i=!!t(r,a,n),i}),i}var i8=t8,r8=Q6,a8=i8,n8=Ar,s8=wt,o8=tu;function l8(e,t,i){var r=s8(e)?r8:a8;return i&&o8(e,t,i)&&(t=void 0),r(e,n8(t))}var u8=l8;const Kx=Re(u8);var Eb=yN;function c8(e,t,i){t=="__proto__"&&Eb?Eb(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var m8=c8,p8=m8,f8=gN,h8=Ar;function d8(e,t){var i={};return t=h8(t),f8(e,function(r,a,n){p8(i,a,t(r,a,n))}),i}var g8=d8;const b8=Re(g8);var y8=["value","background"];function on(e){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(e)}function v8(e,t){if(e==null)return{};var i=C8(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function C8(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Bm.apply(this,arguments)}function Mb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function pt(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Mb(Object(i),!0).forEach(function(r){yr(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Mb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function N8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pb(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vx(r.key),r)}}function x8(e,t,i){return t&&Pb(e.prototype,t),i&&Pb(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function T8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lm(e,t)}function Lm(e,t){return Lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Lm(e,t)}function k8(e){var t=O8();return function(){var r=Tl(e),a;if(t){var n=Tl(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return S8(this,a)}}function S8(e,t){if(t&&(on(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yn(e)}function Yn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tl(e){return Tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Tl(e)}function yr(e,t,i){return t=Vx(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Vx(e){var t=z8(e,"string");return on(t)==="symbol"?t:String(t)}function z8(e,t){if(on(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(on(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xs=function(e){T8(i,e);var t=k8(i);function i(){var r;N8(this,i);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=t.call.apply(t,[this].concat(n)),yr(Yn(r),"state",{isAnimationFinished:!1}),yr(Yn(r),"id",pa("recharts-bar-")),yr(Yn(r),"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),yr(Yn(r),"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return x8(i,[{key:"renderRectanglesStatically",value:function(a){var n=this,s=this.props.shape,l=ve(this.props);return a&&a.map(function(u,c){var m=pt(pt(pt({},l),u),{},{index:c});return G.createElement(Ae,Bm({className:"recharts-bar-rectangle"},ls(n.props,u,c),{key:"rectangle-".concat(c),role:"img"}),i.renderRectangle(s,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,n=this.props,s=n.data,l=n.layout,u=n.isAnimationActive,c=n.animationBegin,m=n.animationDuration,p=n.animationEasing,f=n.animationId,b=this.state.prevData;return G.createElement(Ji,{begin:c,duration:m,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var h=g.t,y=s.map(function(C,N){var d=b&&b[N];if(d){var v=Xe(d.x,C.x),k=Xe(d.y,C.y),T=Xe(d.width,C.width),S=Xe(d.height,C.height);return pt(pt({},C),{},{x:v(h),y:k(h),width:T(h),height:S(h)})}if(l==="horizontal"){var O=Xe(0,C.height),_=O(h);return pt(pt({},C),{},{y:C.y+C.height-_,height:_})}var A=Xe(0,C.width),z=A(h);return pt(pt({},C),{},{width:z})});return G.createElement(Ae,null,a.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var a=this.props,n=a.data,s=a.isAnimationActive,l=this.state.prevData;return s&&n&&n.length&&(!l||!Xa(l,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var a=this,n=this.props.data,s=ve(this.props.background);return n.map(function(l,u){l.value;var c=l.background,m=v8(l,y8);if(!c)return null;var p=pt(pt(pt(pt(pt({},m),{},{fill:"#eee"},c),s),ls(a.props,l,u)),{},{index:u,key:"background-bar-".concat(u),className:"recharts-bar-background-rectangle"});return i.renderRectangle(a.props.background,p)})}},{key:"renderErrorBar",value:function(a,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.data,u=s.xAxis,c=s.yAxis,m=s.layout,p=s.children,f=Pt(p,_n);if(!f)return null;var b=m==="vertical"?l[0].height/2:l[0].width/2;function g(y,C){return{x:y.x,y:y.y,value:y.value,errorVal:lt(y,C)}}var h={clipPath:a?"url(#clipPath-".concat(n,")"):null};return G.createElement(Ae,h,f.map(function(y,C){return G.cloneElement(y,{key:"error-bar-".concat(C),data:l,xAxis:u,yAxis:c,layout:m,offset:b,dataPointFormatter:g})}))}},{key:"render",value:function(){var a=this.props,n=a.hide,s=a.data,l=a.className,u=a.xAxis,c=a.yAxis,m=a.left,p=a.top,f=a.width,b=a.height,g=a.isAnimationActive,h=a.background,y=a.id;if(n||!s||!s.length)return null;var C=this.state.isAnimationFinished,N=Ge("recharts-bar",l),d=u&&u.allowDataOverflow||c&&c.allowDataOverflow,v=te(y)?this.id:y;return G.createElement(Ae,{className:N},d?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(v)},G.createElement("rect",{x:m,y:p,width:f,height:b}))):null,G.createElement(Ae,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(v,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(d,v),(!g||C)&&di.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:n.curData}:a.data!==n.curData?{curData:a.data}:null}},{key:"renderRectangle",value:function(a,n){var s;return G.isValidElement(a)?s=G.cloneElement(a,n):me(a)?s=a(n):s=G.createElement(mu,n),s}}]),i}(x.PureComponent);yr(Xs,"displayName","Bar");yr(Xs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});yr(Xs,"getComposedData",function(e){var t=e.props,i=e.item,r=e.barPosition,a=e.bandSize,n=e.xAxis,s=e.yAxis,l=e.xAxisTicks,u=e.yAxisTicks,c=e.stackedData,m=e.dataStartIndex,p=e.displayedData,f=e.offset,b=mB(r,i);if(!b)return null;var g=t.layout,h=i.props,y=h.dataKey,C=h.children,N=h.minPointSize,d=g==="horizontal"?s:n,v=c?d.scale.domain():null,k=vB({numericAxis:d}),T=Pt(C,hf),S=p.map(function(O,_){var A,z,D,U,P,$;if(c?A=pB(c[m+_],v):(A=lt(O,y),Qe(A)||(A=[k,A])),g==="horizontal"){var B,q=[s.scale(A[0]),s.scale(A[1])],j=q[0],F=q[1];z=ob({axis:n,ticks:l,bandSize:a,offset:b.offset,entry:O,index:_}),D=(B=F??j)!==null&&B!==void 0?B:void 0,U=b.size;var K=j-F;if(P=Number.isNaN(K)?0:K,$={x:z,y:s.y,width:U,height:s.height},Math.abs(N)>0&&Math.abs(P)<Math.abs(N)){var J=Qt(P||N)*(Math.abs(N)-Math.abs(P));D-=J,P+=J}}else{var V=[n.scale(A[0]),n.scale(A[1])],Q=V[0],se=V[1];if(z=Q,D=ob({axis:s,ticks:u,bandSize:a,offset:b.offset,entry:O,index:_}),U=se-Q,P=b.size,$={x:n.x,y:D,width:n.width,height:P},Math.abs(N)>0&&Math.abs(U)<Math.abs(N)){var de=Qt(U||N)*(Math.abs(N)-Math.abs(U));U+=de}}return pt(pt(pt({},O),{},{x:z,y:D,width:U,height:P,value:c?A:A[1],payload:O,background:$},T&&T[_]&&T[_].props),{},{tooltipPayload:[Ax(i,O)],tooltipPosition:{x:z+U/2,y:D+P/2}})});return pt({data:S,layout:g},f)});function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function D8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $b(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xx(r.key),r)}}function _8(e,t,i){return t&&$b(e.prototype,t),i&&$b(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ib(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function li(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(i),!0).forEach(function(r){fu(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ib(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function fu(e,t,i){return t=Xx(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Xx(e){var t=w8(e,"string");return Os(t)==="symbol"?t:String(t)}function w8(e,t){if(Os(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(Os(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A8=function(t,i,r,a,n){var s=t.width,l=t.height,u=t.layout,c=t.children,m=Object.keys(i),p={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!qi(c,Xs);return m.reduce(function(b,g){var h=i[g],y=h.orientation,C=h.domain,N=h.padding,d=N===void 0?{}:N,v=h.mirror,k=h.reversed,T="".concat(y).concat(v?"Mirror":""),S,O,_,A,z;if(h.type==="number"&&(h.padding==="gap"||h.padding==="no-gap")){var D=C[1]-C[0],U=1/0,P=h.categoricalDomain.sort();P.forEach(function(se,de){de>0&&(U=Math.min((se||0)-(P[de-1]||0),U))});var $=U/D,B=h.layout==="vertical"?r.height:r.width;if(h.padding==="gap"&&(S=$*B/2),h.padding==="no-gap"){var q=ja(t.barCategoryGap,$*B),j=$*B/2;S=j-q-(j-q)/B*q}}a==="xAxis"?O=[r.left+(d.left||0)+(S||0),r.left+r.width-(d.right||0)-(S||0)]:a==="yAxis"?O=u==="horizontal"?[r.top+r.height-(d.bottom||0),r.top+(d.top||0)]:[r.top+(d.top||0)+(S||0),r.top+r.height-(d.bottom||0)-(S||0)]:O=h.range,k&&(O=[O[1],O[0]]);var F=uB(h,n,f),K=F.scale,J=F.realScaleType;K.domain(C).range(O),cB(K);var V=yB(K,li(li({},h),{},{realScaleType:J}));a==="xAxis"?(z=y==="top"&&!v||y==="bottom"&&v,_=r.left,A=p[T]-z*h.height):a==="yAxis"&&(z=y==="left"&&!v||y==="right"&&v,_=p[T]-z*h.width,A=r.top);var Q=li(li(li({},h),V),{},{realScaleType:J,x:_,y:A,scale:K,width:a==="xAxis"?r.width:h.width,height:a==="yAxis"?r.height:h.height});return Q.bandSize=ml(Q,V),!h.hide&&a==="xAxis"?p[T]+=(z?-1:1)*Q.height:h.hide||(p[T]+=(z?-1:1)*Q.width),li(li({},b),{},fu({},g,Q))},{})},Yx=function(t,i){var r=t.x,a=t.y,n=i.x,s=i.y;return{x:Math.min(r,n),y:Math.min(a,s),width:Math.abs(n-r),height:Math.abs(s-a)}},U8=function(t){var i=t.x1,r=t.y1,a=t.x2,n=t.y2;return Yx({x:i,y:r},{x:a,y:n})},Jx=function(){function e(t){D8(this,e),this.scale=t}return _8(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,n=r.position;if(i!==void 0){if(n)switch(n){case"start":return this.scale(i);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(i)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(i)+l}default:return this.scale(i)}if(a){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(i)+u}return this.scale(i)}}},{key:"isInRange",value:function(i){var r=this.range(),a=r[0],n=r[r.length-1];return a<=n?i>=a&&i<=n:i>=n&&i<=a}}],[{key:"create",value:function(i){return new e(i)}}]),e}();fu(Jx,"EPS",1e-4);var Bf=function(t){var i=Object.keys(t).reduce(function(r,a){return li(li({},r),{},fu({},a,Jx.create(t[a])))},{});return li(li({},i),{},{apply:function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,l=n.position;return b8(a,function(u,c){return i[c].apply(u,{bandAware:s,position:l})})},isInRange:function(a){return Kx(a,function(n,s){return i[s].isInRange(n)})}})};function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}var G8=["isFront","ifOverflow","xAxisId","yAxisId","position","fill","fillOpacity","stroke","strokeWidth"];function E8(e,t){return I8(e)||$8(e,t)||P8(e,t)||M8()}function M8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P8(e,t){if(e){if(typeof e=="string")return Rb(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Rb(e,t)}}function Rb(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function $8(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var r,a,n,s,l=[],u=!0,c=!1;try{if(n=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(r=n.call(i)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(m){c=!0,a=m}finally{try{if(!u&&i.return!=null&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function I8(e){if(Array.isArray(e))return e}function jb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function ac(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?jb(Object(i),!0).forEach(function(r){R8(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):jb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function R8(e,t,i){return t=j8(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function j8(e){var t=B8(e,"string");return zs(t)==="symbol"?t:String(t)}function B8(e,t){if(zs(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(zs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L8(e,t){if(e==null)return{};var i=F8(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function F8(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Fm.apply(this,arguments)}var W8=function(t,i){var r;return G.isValidElement(t)?r=G.cloneElement(t,i):me(t)?r=t(i):r=G.createElement("line",Fm({},i,{className:"recharts-reference-line-line"})),r},q8=function(t,i,r,a,n){var s=n.viewBox,l=s.x,u=s.y,c=s.width,m=s.height,p=n.position;if(r){var f=n.y,b=n.yAxis.orientation,g=t.y.apply(f,{position:p});if(wi(n,"discard")&&!t.y.isInRange(g))return null;var h=[{x:l+c,y:g},{x:l,y:g}];return b==="left"?h.reverse():h}if(i){var y=n.x,C=n.xAxis.orientation,N=t.x.apply(y,{position:p});if(wi(n,"discard")&&!t.x.isInRange(N))return null;var d=[{x:N,y:u+m},{x:N,y:u}];return C==="top"?d.reverse():d}if(a){var v=n.segment,k=v.map(function(T){return t.apply(T,{position:p})});return wi(n,"discard")&&J6(k,function(T){return!t.isInRange(T)})?null:k}return null};function kl(e){var t=e.isFront,i=t===void 0?!1:t,r=e.ifOverflow,a=r===void 0?"discard":r,n=e.xAxisId,s=n===void 0?0:n,l=e.yAxisId,u=l===void 0?0:l,c=e.position,m=c===void 0?"middle":c,p=e.fill,f=p===void 0?"none":p,b=e.fillOpacity,g=b===void 0?1:b,h=e.stroke,y=h===void 0?"#ccc":h,C=e.strokeWidth,N=C===void 0?1:C,d=L8(e,G8),v=ac({isFront:i,ifOverflow:a,xAxisId:s,yAxisId:u,fill:f,stroke:y,fillOpacity:g,strokeWidth:N,position:m},d),k=v.x,T=v.y,S=v.segment,O=v.xAxis,_=v.yAxis,A=v.shape,z=v.className,D=v.alwaysShow,U=v.clipPathId;Aa(D===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var P=Bf({x:O.scale,y:_.scale}),$=nt(k),B=nt(T),q=S&&S.length===2,j=q8(P,$,B,q,v);if(!j)return null;var F=E8(j,2),K=F[0],J=K.x,V=K.y,Q=F[1],se=Q.x,de=Q.y,ye=wi(v,"hidden")?"url(#".concat(U,")"):void 0,ne=ac(ac({clipPath:ye},ve(v,!0)),{},{x1:J,y1:V,x2:se,y2:de});return G.createElement(Ae,{className:Ge("recharts-reference-line",z)},W8(A,ne),Ye.renderCallByParent(v,U8({x1:J,y1:V,x2:se,y2:de})))}kl.displayName="ReferenceLine";function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Wm.apply(this,arguments)}function Bb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function Lb(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(i),!0).forEach(function(r){H8(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Bb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function H8(e,t,i){return t=K8(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function K8(e){var t=V8(e,"string");return Ds(t)==="symbol"?t:String(t)}function V8(e,t){if(Ds(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(Ds(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X8=function(t){var i=t.x,r=t.y,a=t.xAxis,n=t.yAxis,s=Bf({x:a.scale,y:n.scale}),l=s.apply({x:i,y:r},{bandAware:!0});return wi(t,"discard")&&!s.isInRange(l)?null:l};function Ys(e){var t=e.x,i=e.y,r=e.r,a=e.alwaysShow,n=e.clipPathId,s=nt(t),l=nt(i);if(Aa(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var u=X8(e);if(!u)return null;var c=u.x,m=u.y,p=e.shape,f=e.className,b=wi(e,"hidden")?"url(#".concat(n,")"):void 0,g=Lb(Lb({clipPath:b},ve(e,!0)),{},{cx:c,cy:m});return G.createElement(Ae,{className:Ge("recharts-reference-dot",f)},Ys.renderDot(p,g),Ye.renderCallByParent(e,{x:c-r,y:m-r,width:2*r,height:2*r}))}Ys.displayName="ReferenceDot";Ys.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Ys.renderDot=function(e,t){var i;return G.isValidElement(e)?i=G.cloneElement(e,t):me(e)?i=e(t):i=G.createElement(pu,Wm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),i};function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}var Y8=["isFront","ifOverflow","xAxisId","yAxisId","r","fill","fillOpacity","stroke","strokeWidth"];function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},qm.apply(this,arguments)}function Fb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function nc(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(i),!0).forEach(function(r){J8(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Fb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function J8(e,t,i){return t=Z8(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Z8(e){var t=Q8(e,"string");return _s(t)==="symbol"?t:String(t)}function Q8(e,t){if(_s(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(_s(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eF(e,t){if(e==null)return{};var i=tF(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tF(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}var iF=function(t,i,r,a,n){var s=n.x1,l=n.x2,u=n.y1,c=n.y2,m=n.xAxis,p=n.yAxis;if(!m||!p)return null;var f=Bf({x:m.scale,y:p.scale}),b={x:t?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(u,{position:"start"}):f.y.rangeMin},g={x:i?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(c,{position:"end"}):f.y.rangeMax};return wi(n,"discard")&&(!f.isInRange(b)||!f.isInRange(g))?null:Yx(b,g)};function hu(e){var t=e.isFront,i=t===void 0?!1:t,r=e.ifOverflow,a=r===void 0?"discard":r,n=e.xAxisId,s=n===void 0?0:n,l=e.yAxisId,u=l===void 0?0:l,c=e.r,m=c===void 0?10:c,p=e.fill,f=p===void 0?"#ccc":p,b=e.fillOpacity,g=b===void 0?.5:b,h=e.stroke,y=h===void 0?"none":h,C=e.strokeWidth,N=C===void 0?1:C,d=eF(e,Y8),v=nc({isFront:i,ifOverflow:a,xAxisId:s,yAxisId:u,r:m,fill:f,fillOpacity:g,stroke:y,strokeWidth:N},d),k=v.x1,T=v.x2,S=v.y1,O=v.y2,_=v.className,A=v.alwaysShow,z=v.clipPathId;Aa(A===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var D=nt(k),U=nt(T),P=nt(S),$=nt(O),B=v.shape;if(!D&&!U&&!P&&!$&&!B)return null;var q=iF(D,U,P,$,v);if(!q&&!B)return null;var j=wi(v,"hidden")?"url(#".concat(z,")"):void 0;return G.createElement(Ae,{className:Ge("recharts-reference-area",_)},hu.renderRect(B,nc(nc({clipPath:j},ve(v,!0)),q)),Ye.renderCallByParent(v,q))}hu.displayName="ReferenceArea";hu.renderRect=function(e,t){var i;return G.isValidElement(e)?i=G.cloneElement(e,t):me(e)?i=e(t):i=G.createElement(mu,qm({},t,{className:"recharts-reference-area-rect"})),i};var rF=["viewBox"],aF=["viewBox"],nF=["ticks"];function ln(e){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(e)}function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},za.apply(this,arguments)}function Wb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function we(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Wb(Object(i),!0).forEach(function(r){Lf(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Wb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function sc(e,t){if(e==null)return{};var i=sF(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sF(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function oF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qb(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zx(r.key),r)}}function lF(e,t,i){return t&&qb(e.prototype,t),i&&qb(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function uF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hm(e,t)}function Hm(e,t){return Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Hm(e,t)}function cF(e){var t=fF();return function(){var r=Sl(e),a;if(t){var n=Sl(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return mF(this,a)}}function mF(e,t){if(t&&(ln(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pF(e)}function pF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sl(e){return Sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Sl(e)}function Lf(e,t,i){return t=Zx(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Zx(e){var t=hF(e,"string");return ln(t)==="symbol"?t:String(t)}function hF(e,t){if(ln(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(ln(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vr=function(e){uF(i,e);var t=cF(i);function i(r){var a;return oF(this,i),a=t.call(this,r),a.state={fontSize:"",letterSpacing:""},a}return lF(i,[{key:"shouldComponentUpdate",value:function(a,n){var s=a.viewBox,l=sc(a,rF),u=this.props,c=u.viewBox,m=sc(u,aF);return!wa(s,c)||!wa(l,m)||!wa(n,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var n=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var n=this.props,s=n.x,l=n.y,u=n.width,c=n.height,m=n.orientation,p=n.tickSize,f=n.mirror,b=n.tickMargin,g,h,y,C,N,d,v=f?-1:1,k=a.tickSize||p,T=X(a.tickCoord)?a.tickCoord:a.coordinate;switch(m){case"top":g=h=a.coordinate,C=l+ +!f*c,y=C-v*k,d=y-v*b,N=T;break;case"left":y=C=a.coordinate,h=s+ +!f*u,g=h-v*k,N=g-v*b,d=T;break;case"right":y=C=a.coordinate,h=s+ +f*u,g=h+v*k,N=g+v*b,d=T;break;default:g=h=a.coordinate,C=l+ +f*c,y=C+v*k,d=y+v*b,N=T;break}return{line:{x1:g,y1:y,x2:h,y2:C},tick:{x:N,y:d}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,n=a.orientation,s=a.mirror,l;switch(n){case"left":l=s?"start":"end";break;case"right":l=s?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,n=a.orientation,s=a.mirror,l="end";switch(n){case"left":case"right":l="middle";break;case"top":l=s?"start":"end";break;default:l=s?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.x,s=a.y,l=a.width,u=a.height,c=a.orientation,m=a.mirror,p=a.axisLine,f=we(we(we({},ve(this.props)),ve(p)),{},{fill:"none"});if(c==="top"||c==="bottom"){var b=+(c==="top"&&!m||c==="bottom"&&m);f=we(we({},f),{},{x1:n,y1:s+b*u,x2:n+l,y2:s+b*u})}else{var g=+(c==="left"&&!m||c==="right"&&m);f=we(we({},f),{},{x1:n+g*l,y1:s,x2:n+g*l,y2:s+u})}return G.createElement("line",za({},f,{className:Ge("recharts-cartesian-axis-line",Ct(p,"className"))}))}},{key:"renderTicks",value:function(a,n,s){var l=this,u=this.props,c=u.tickLine,m=u.stroke,p=u.tick,f=u.tickFormatter,b=u.unit,g=i.getTicks(we(we({},this.props),{},{ticks:a}),n,s),h=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),C=ve(this.props),N=ve(p),d=we(we({},C),{},{fill:"none"},ve(c)),v=g.map(function(k,T){var S=l.getTickLineCoord(k),O=S.line,_=S.tick,A=we(we(we(we({textAnchor:h,verticalAnchor:y},C),{},{stroke:"none",fill:m},N),_),{},{index:T,payload:k,visibleTicksCount:g.length,tickFormatter:f});return G.createElement(Ae,za({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T)},ls(l.props,k,T)),c&&G.createElement("line",za({},d,O,{className:Ge("recharts-cartesian-axis-tick-line",Ct(c,"className"))})),p&&i.renderTickItem(p,A,"".concat(me(f)?f(k.value,T):k.value).concat(b||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var a=this,n=this.props,s=n.axisLine,l=n.width,u=n.height,c=n.ticksGenerator,m=n.className,p=n.hide;if(p)return null;var f=this.props,b=f.ticks,g=sc(f,nF),h=b;return me(c)&&(h=b&&b.length>0?c(this.props):c(g)),l<=0||u<=0||!h||!h.length?null:G.createElement(Ae,{className:Ge("recharts-cartesian-axis",m),ref:function(C){a.layerReference=C}},s&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),Ye.renderCallByParent(this.props))}}],[{key:"getTicks",value:function(a,n,s){var l=a.tick,u=a.ticks,c=a.viewBox,m=a.minTickGap,p=a.orientation,f=a.interval,b=a.tickFormatter,g=a.unit;return!u||!u.length||!l?[]:X(f)||hi.isSsr?i.getNumberIntervalTicks(u,typeof f=="number"&&X(f)?f:0):f==="preserveStartEnd"?i.getTicksStart({ticks:u,tickFormatter:b,viewBox:c,orientation:p,minTickGap:m,unit:g,fontSize:n,letterSpacing:s},!0):f==="preserveStart"?i.getTicksStart({ticks:u,tickFormatter:b,viewBox:c,orientation:p,minTickGap:m,unit:g,fontSize:n,letterSpacing:s}):i.getTicksEnd({ticks:u,tickFormatter:b,viewBox:c,orientation:p,minTickGap:m,unit:g,fontSize:n,letterSpacing:s})}},{key:"getNumberIntervalTicks",value:function(a,n){return a.filter(function(s,l){return l%(n+1)===0})}},{key:"getTicksStart",value:function(a,n){var s=a.ticks,l=a.tickFormatter,u=a.viewBox,c=a.orientation,m=a.minTickGap,p=a.unit,f=a.fontSize,b=a.letterSpacing,g=u.x,h=u.y,y=u.width,C=u.height,N=c==="top"||c==="bottom"?"width":"height",d=(s||[]).slice(),v=p&&N==="width"?Kr(p,{fontSize:f,letterSpacing:b})[N]:0,k=d.length,T=k>=2?Qt(d[1].coordinate-d[0].coordinate):1,S,O;if(T===1?(S=N==="width"?g:h,O=N==="width"?g+y:h+C):(S=N==="width"?g+y:h+C,O=N==="width"?g:h),n){var _=s[k-1],A=me(l)?l(_.value,k-1):_.value,z=Kr(A,{fontSize:f,letterSpacing:b})[N]+v,D=T*(_.coordinate+T*z/2-O);d[k-1]=_=we(we({},_),{},{tickCoord:D>0?_.coordinate-D*T:_.coordinate});var U=T*(_.tickCoord-T*z/2-S)>=0&&T*(_.tickCoord+T*z/2-O)<=0;U&&(O=_.tickCoord-T*(z/2+m),d[k-1]=we(we({},_),{},{isShow:!0}))}for(var P=n?k-1:k,$=0;$<P;$++){var B=d[$],q=me(l)?l(B.value,$):B.value,j=Kr(q,{fontSize:f,letterSpacing:b})[N]+v;if($===0){var F=T*(B.coordinate-T*j/2-S);d[$]=B=we(we({},B),{},{tickCoord:F<0?B.coordinate-F*T:B.coordinate})}else d[$]=B=we(we({},B),{},{tickCoord:B.coordinate});var K=T*(B.tickCoord-T*j/2-S)>=0&&T*(B.tickCoord+T*j/2-O)<=0;K&&(S=B.tickCoord+T*(j/2+m),d[$]=we(we({},B),{},{isShow:!0}))}return d.filter(function(J){return J.isShow})}},{key:"getTicksEnd",value:function(a){var n=a.ticks,s=a.tickFormatter,l=a.viewBox,u=a.orientation,c=a.minTickGap,m=a.unit,p=a.fontSize,f=a.letterSpacing,b=l.x,g=l.y,h=l.width,y=l.height,C=u==="top"||u==="bottom"?"width":"height",N=m&&C==="width"?Kr(m,{fontSize:p,letterSpacing:f})[C]:0,d=(n||[]).slice(),v=d.length,k=v>=2?Qt(d[1].coordinate-d[0].coordinate):1,T,S;k===1?(T=C==="width"?b:g,S=C==="width"?b+h:g+y):(T=C==="width"?b+h:g+y,S=C==="width"?b:g);for(var O=v-1;O>=0;O--){var _=d[O],A=me(s)?s(_.value,v-O-1):_.value,z=Kr(A,{fontSize:p,letterSpacing:f})[C]+N;if(O===v-1){var D=k*(_.coordinate+k*z/2-S);d[O]=_=we(we({},_),{},{tickCoord:D>0?_.coordinate-D*k:_.coordinate})}else d[O]=_=we(we({},_),{},{tickCoord:_.coordinate});var U=k*(_.tickCoord-k*z/2-T)>=0&&k*(_.tickCoord+k*z/2-S)<=0;U&&(S=_.tickCoord-k*(z/2+c),d[O]=we(we({},_),{},{isShow:!0}))}return d.filter(function(P){return P.isShow})}},{key:"renderTickItem",value:function(a,n,s){var l;return G.isValidElement(a)?l=G.cloneElement(a,n):me(a)?l=a(n):l=G.createElement(ms,za({},n,{className:"recharts-cartesian-axis-tick-value"}),s),l}}]),i}(x.Component);Lf(Vr,"displayName","CartesianAxis");Lf(Vr,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dF=["x1","y1","x2","y2","key"];function un(e){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(e)}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Km.apply(this,arguments)}function gF(e,t){if(e==null)return{};var i=bF(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bF(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function Hb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function yo(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Hb(Object(i),!0).forEach(function(r){Ff(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Hb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function yF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kb(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qx(r.key),r)}}function vF(e,t,i){return t&&Kb(e.prototype,t),i&&Kb(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function CF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vm(e,t)}function Vm(e,t){return Vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Vm(e,t)}function NF(e){var t=kF();return function(){var r=Ol(e),a;if(t){var n=Ol(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return xF(this,a)}}function xF(e,t){if(t&&(un(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TF(e)}function TF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ol(e){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Ol(e)}function Ff(e,t,i){return t=Qx(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Qx(e){var t=SF(e,"string");return un(t)==="symbol"?t:String(t)}function SF(e,t){if(un(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(un(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wf=function(e){CF(i,e);var t=NF(i);function i(){return yF(this,i),t.apply(this,arguments)}return vF(i,[{key:"renderHorizontal",value:function(a){var n=this,s=this.props,l=s.x,u=s.width,c=s.horizontal;if(!a||!a.length)return null;var m=a.map(function(p,f){var b=yo(yo({},n.props),{},{x1:l,y1:p,x2:l+u,y2:p,key:"line-".concat(f),index:f});return i.renderLineItem(c,b)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}},{key:"renderVertical",value:function(a){var n=this,s=this.props,l=s.y,u=s.height,c=s.vertical;if(!a||!a.length)return null;var m=a.map(function(p,f){var b=yo(yo({},n.props),{},{x1:p,y1:l,x2:p,y2:l+u,key:"line-".concat(f),index:f});return i.renderLineItem(c,b)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}},{key:"renderVerticalStripes",value:function(a){var n=this.props.verticalFill;if(!n||!n.length)return null;var s=this.props,l=s.fillOpacity,u=s.x,c=s.y,m=s.width,p=s.height,f=a.map(function(g){return Math.round(g+u-u)}).sort(function(g,h){return g-h});u!==f[0]&&f.unshift(0);var b=f.map(function(g,h){var y=!f[h+1],C=y?u+m-g:f[h+1]-g;if(C<=0)return null;var N=h%n.length;return G.createElement("rect",{key:"react-".concat(h),x:g,y:c,width:C,height:p,stroke:"none",fill:n[N],fillOpacity:l,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},b)}},{key:"renderHorizontalStripes",value:function(a){var n=this.props.horizontalFill;if(!n||!n.length)return null;var s=this.props,l=s.fillOpacity,u=s.x,c=s.y,m=s.width,p=s.height,f=a.map(function(g){return Math.round(g+c-c)}).sort(function(g,h){return g-h});c!==f[0]&&f.unshift(0);var b=f.map(function(g,h){var y=!f[h+1],C=y?c+p-g:f[h+1]-g;if(C<=0)return null;var N=h%n.length;return G.createElement("rect",{key:"react-".concat(h),y:g,x:u,height:C,width:m,stroke:"none",fill:n[N],fillOpacity:l,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},b)}},{key:"renderBackground",value:function(){var a=this.props.fill;if(!a||a==="none")return null;var n=this.props,s=n.fillOpacity,l=n.x,u=n.y,c=n.width,m=n.height;return G.createElement("rect",{x:l,y:u,width:c,height:m,stroke:"none",fill:a,fillOpacity:s,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var a=this.props,n=a.x,s=a.y,l=a.width,u=a.height,c=a.horizontal,m=a.vertical,p=a.horizontalCoordinatesGenerator,f=a.verticalCoordinatesGenerator,b=a.xAxis,g=a.yAxis,h=a.offset,y=a.chartWidth,C=a.chartHeight;if(!X(l)||l<=0||!X(u)||u<=0||!X(n)||n!==+n||!X(s)||s!==+s)return null;var N=this.props,d=N.horizontalPoints,v=N.verticalPoints;return(!d||!d.length)&&me(p)&&(d=p({yAxis:g,width:y,height:C,offset:h})),(!v||!v.length)&&me(f)&&(v=f({xAxis:b,width:y,height:C,offset:h})),G.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),c&&this.renderHorizontal(d),m&&this.renderVertical(v),c&&this.renderHorizontalStripes(d),m&&this.renderVerticalStripes(v))}}],[{key:"renderLineItem",value:function(a,n){var s;if(G.isValidElement(a))s=G.cloneElement(a,n);else if(me(a))s=a(n);else{var l=n.x1,u=n.y1,c=n.x2,m=n.y2,p=n.key,f=gF(n,dF);s=G.createElement("line",Km({},ve(f),{x1:l,y1:u,x2:c,y2:m,fill:"none",key:p}))}return s}}]),i}(x.PureComponent);Ff(Wf,"displayName","CartesianGrid");Ff(Wf,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var OF=["type","layout","connectNulls","ref"];function cn(e){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(e)}function zF(e,t){if(e==null)return{};var i=DF(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DF(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},is.apply(this,arguments)}function Vb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function jt(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Vb(Object(i),!0).forEach(function(r){Ti(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Vb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function Ta(e){return UF(e)||AF(e)||wF(e)||_F()}function _F(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wF(e,t){if(e){if(typeof e=="string")return Xm(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Xm(e,t)}}function AF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UF(e){if(Array.isArray(e))return Xm(e)}function Xm(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function GF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xb(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e0(r.key),r)}}function EF(e,t,i){return t&&Xb(e.prototype,t),i&&Xb(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function MF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ym(e,t)}function Ym(e,t){return Ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ym(e,t)}function PF(e){var t=IF();return function(){var r=zl(e),a;if(t){var n=zl(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return $F(this,a)}}function $F(e,t){if(t&&(cn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(e)}function qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zl(e){return zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},zl(e)}function Ti(e,t,i){return t=e0(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function e0(e){var t=RF(e,"string");return cn(t)==="symbol"?t:String(t)}function RF(e,t){if(cn(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(cn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oa=function(e){MF(i,e);var t=PF(i);function i(){var r;GF(this,i);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=t.call.apply(t,[this].concat(n)),Ti(qr(r),"state",{isAnimationFinished:!0,totalLength:0}),Ti(qr(r),"getStrokeDasharray",function(l,u,c){for(var m=c.reduce(function(N,d){return N+d}),p=Math.floor(l/m),f=l%m,b=u-l,g=[],h=0,y=0;;y+=c[h],++h)if(y+c[h]>f){g=[].concat(Ta(c.slice(0,h)),[f-y]);break}var C=g.length%2===0?[0,b]:[b];return[].concat(Ta(i.repeat(c,p)),Ta(g),C).map(function(N){return"".concat(N,"px")}).join(", ")}),Ti(qr(r),"id",pa("recharts-line-")),Ti(qr(r),"pathRef",function(l){r.mainCurve=l}),Ti(qr(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ti(qr(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return EF(i,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,u=s.xAxis,c=s.yAxis,m=s.layout,p=s.children,f=Pt(p,_n);if(!f)return null;function b(h,y){return{x:h.x,y:h.y,value:h.value,errorVal:lt(h.payload,y)}}var g={clipPath:a?"url(#clipPath-".concat(n,")"):null};return G.createElement(Ae,g,f.map(function(h,y){return G.cloneElement(h,{key:"bar-".concat(y),data:l,xAxis:u,yAxis:c,layout:m,dataPointFormatter:b})}))}},{key:"renderDots",value:function(a,n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,c=l.points,m=l.dataKey,p=ve(this.props),f=ve(u,!0),b=c.map(function(h,y){var C=jt(jt(jt({key:"dot-".concat(y),r:3},p),f),{},{value:h.value,dataKey:m,cx:h.x,cy:h.y,index:y,payload:h.payload});return i.renderDotItem(u,C)}),g={clipPath:a?"url(#clipPath-".concat(n,")"):null};return G.createElement(Ae,is({className:"recharts-line-dots",key:"dots"},g,{role:"img"}),b)}},{key:"renderCurveStatically",value:function(a,n,s,l){var u=this.props,c=u.type,m=u.layout,p=u.connectNulls;u.ref;var f=zF(u,OF),b=jt(jt(jt({},ve(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(s,")"):null,points:a},l),{},{type:c,layout:m,connectNulls:p});return G.createElement(xr,is({},b,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,n){var s=this,l=this.props,u=l.points,c=l.strokeDasharray,m=l.isAnimationActive,p=l.animationBegin,f=l.animationDuration,b=l.animationEasing,g=l.animationId,h=l.animateNewValues,y=l.width,C=l.height,N=this.state,d=N.prevPoints,v=N.totalLength;return G.createElement(Ji,{begin:p,duration:f,isActive:m,easing:b,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var T=k.t;if(d){var S=d.length/u.length,O=u.map(function(U,P){var $=Math.floor(P*S);if(d[$]){var B=d[$],q=Xe(B.x,U.x),j=Xe(B.y,U.y);return jt(jt({},U),{},{x:q(T),y:j(T)})}if(h){var F=Xe(y*2,U.x),K=Xe(C/2,U.y);return jt(jt({},U),{},{x:F(T),y:K(T)})}return jt(jt({},U),{},{x:U.x,y:U.y})});return s.renderCurveStatically(O,a,n)}var _=Xe(0,v),A=_(T),z;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(U){return parseFloat(U)});z=s.getStrokeDasharray(A,v,D)}else z="".concat(A,"px ").concat(v-A,"px");return s.renderCurveStatically(u,a,n,{strokeDasharray:z})})}},{key:"renderCurve",value:function(a,n){var s=this.props,l=s.points,u=s.isAnimationActive,c=this.state,m=c.prevPoints,p=c.totalLength;return u&&l&&l.length&&(!m&&p>0||!Xa(m,l))?this.renderCurveWithAnimation(a,n):this.renderCurveStatically(l,a,n)}},{key:"render",value:function(){var a=this.props,n=a.hide,s=a.dot,l=a.points,u=a.className,c=a.xAxis,m=a.yAxis,p=a.top,f=a.left,b=a.width,g=a.height,h=a.isAnimationActive,y=a.id;if(n||!l||!l.length)return null;var C=this.state.isAnimationFinished,N=l.length===1,d=Ge("recharts-line",u),v=c&&c.allowDataOverflow||m&&m.allowDataOverflow,k=te(y)?this.id:y;return G.createElement(Ae,{className:d},v?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(k)},G.createElement("rect",{x:f,y:p,width:b,height:g}))):null,!N&&this.renderCurve(v,k),this.renderErrorBar(v,k),(N||s)&&this.renderDots(v,k),(!h||C)&&di.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:n.curPoints}:a.points!==n.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,n){for(var s=a.length%2!==0?[].concat(Ta(a),[0]):a,l=[],u=0;u<n;++u)l=[].concat(Ta(l),Ta(s));return l}},{key:"renderDotItem",value:function(a,n){var s;if(G.isValidElement(a))s=G.cloneElement(a,n);else if(me(a))s=a(n);else{var l=Ge("recharts-line-dot",a?a.className:"");s=G.createElement(pu,is({},n,{className:l}))}return s}}]),i}(x.PureComponent);Ti(oa,"displayName","Line");Ti(oa,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!hi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ti(oa,"getComposedData",function(e){var t=e.props,i=e.xAxis,r=e.yAxis,a=e.xAxisTicks,n=e.yAxisTicks,s=e.dataKey,l=e.bandSize,u=e.displayedData,c=e.offset,m=t.layout,p=u.map(function(f,b){var g=lt(f,s);return m==="horizontal"?{x:Qa({axis:i,ticks:a,bandSize:l,entry:f,index:b}),y:te(g)?null:r.scale(g),value:g,payload:f}:{x:te(g)?null:i.scale(g),y:Qa({axis:r,ticks:n,bandSize:l,entry:f,index:b}),value:g,payload:f}});return jt({points:p,layout:m},c)});var jF=["layout","type","stroke","connectNulls","isRange","ref"];function mn(e){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(e)}function BF(e,t){if(e==null)return{};var i=LF(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LF(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ea.apply(this,arguments)}function Yb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function mr(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Yb(Object(i),!0).forEach(function(r){zi(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Yb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function FF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jb(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t0(r.key),r)}}function WF(e,t,i){return t&&Jb(e.prototype,t),i&&Jb(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function qF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jm(e,t)}function Jm(e,t){return Jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Jm(e,t)}function HF(e){var t=VF();return function(){var r=Dl(e),a;if(t){var n=Dl(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return KF(this,a)}}function KF(e,t){if(t&&(mn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jn(e)}function Jn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dl(e){return Dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Dl(e)}function zi(e,t,i){return t=t0(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function t0(e){var t=XF(e,"string");return mn(t)==="symbol"?t:String(t)}function XF(e,t){if(mn(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(mn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tr=function(e){qF(i,e);var t=HF(i);function i(){var r;FF(this,i);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=t.call.apply(t,[this].concat(n)),zi(Jn(r),"state",{isAnimationFinished:!0}),zi(Jn(r),"id",pa("recharts-area-")),zi(Jn(r),"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),me(l)&&l()}),zi(Jn(r),"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),me(l)&&l()}),r}return WF(i,[{key:"renderDots",value:function(a,n){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var u=this.props,c=u.dot,m=u.points,p=u.dataKey,f=ve(this.props),b=ve(c,!0),g=m.map(function(y,C){var N=mr(mr(mr({key:"dot-".concat(C),r:3},f),b),{},{dataKey:p,cx:y.x,cy:y.y,index:C,value:y.value,payload:y.payload});return i.renderDotItem(c,N)}),h={clipPath:a?"url(#clipPath-".concat(n,")"):null};return G.createElement(Ae,ea({className:"recharts-area-dots"},h),g)}},{key:"renderHorizontalRect",value:function(a){var n=this.props,s=n.baseLine,l=n.points,u=n.strokeWidth,c=l[0].x,m=l[l.length-1].x,p=a*Math.abs(c-m),f=br(l.map(function(b){return b.y||0}));return X(s)&&typeof s=="number"?f=Math.max(s,f):s&&Qe(s)&&s.length&&(f=Math.max(br(s.map(function(b){return b.y||0})),f)),X(f)?G.createElement("rect",{x:c<m?c:c-p,y:0,width:p,height:Math.floor(f+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var n=this.props,s=n.baseLine,l=n.points,u=n.strokeWidth,c=l[0].y,m=l[l.length-1].y,p=a*Math.abs(c-m),f=br(l.map(function(b){return b.x||0}));return X(s)&&typeof s=="number"?f=Math.max(s,f):s&&Qe(s)&&s.length&&(f=Math.max(br(s.map(function(b){return b.x||0})),f)),X(f)?G.createElement("rect",{x:0,y:c<m?c:c-p,width:f+(u?parseInt("".concat(u),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(a){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,n,s,l){var u=this.props,c=u.layout,m=u.type,p=u.stroke,f=u.connectNulls,b=u.isRange;u.ref;var g=BF(u,jF);return G.createElement(Ae,{clipPath:s?"url(#clipPath-".concat(l,")"):null},G.createElement(xr,ea({},ve(g,!0),{points:a,connectNulls:f,type:m,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),p!=="none"&&G.createElement(xr,ea({},ve(this.props),{className:"recharts-area-curve",layout:c,type:m,connectNulls:f,fill:"none",points:a})),p!=="none"&&b&&G.createElement(xr,ea({},ve(this.props),{className:"recharts-area-curve",layout:c,type:m,connectNulls:f,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(a,n){var s=this,l=this.props,u=l.points,c=l.baseLine,m=l.isAnimationActive,p=l.animationBegin,f=l.animationDuration,b=l.animationEasing,g=l.animationId,h=this.state,y=h.prevPoints,C=h.prevBaseLine;return G.createElement(Ji,{begin:p,duration:f,isActive:m,easing:b,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var d=N.t;if(y){var v=y.length/u.length,k=u.map(function(_,A){var z=Math.floor(A*v);if(y[z]){var D=y[z],U=Xe(D.x,_.x),P=Xe(D.y,_.y);return mr(mr({},_),{},{x:U(d),y:P(d)})}return _}),T;if(X(c)&&typeof c=="number"){var S=Xe(C,c);T=S(d)}else if(te(c)||Ls(c)){var O=Xe(C,0);T=O(d)}else T=c.map(function(_,A){var z=Math.floor(A*v);if(C[z]){var D=C[z],U=Xe(D.x,_.x),P=Xe(D.y,_.y);return mr(mr({},_),{},{x:U(d),y:P(d)})}return _});return s.renderAreaStatically(k,T,a,n)}return G.createElement(Ae,null,G.createElement("defs",null,G.createElement("clipPath",{id:"animationClipPath-".concat(n)},s.renderClipRect(d))),G.createElement(Ae,{clipPath:"url(#animationClipPath-".concat(n,")")},s.renderAreaStatically(u,c,a,n)))})}},{key:"renderArea",value:function(a,n){var s=this.props,l=s.points,u=s.baseLine,c=s.isAnimationActive,m=this.state,p=m.prevPoints,f=m.prevBaseLine,b=m.totalLength;return c&&l&&l.length&&(!p&&b>0||!Xa(p,l)||!Xa(f,u))?this.renderAreaWithAnimation(a,n):this.renderAreaStatically(l,u,a,n)}},{key:"render",value:function(){var a=this.props,n=a.hide,s=a.dot,l=a.points,u=a.className,c=a.top,m=a.left,p=a.xAxis,f=a.yAxis,b=a.width,g=a.height,h=a.isAnimationActive,y=a.id;if(n||!l||!l.length)return null;var C=this.state.isAnimationFinished,N=l.length===1,d=Ge("recharts-area",u),v=p&&p.allowDataOverflow||f&&f.allowDataOverflow,k=te(y)?this.id:y;return G.createElement(Ae,{className:d},v?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(k)},G.createElement("rect",{x:m,y:c,width:b,height:Math.floor(g)}))):null,N?null:this.renderArea(v,k),(s||N)&&this.renderDots(v,k),(!h||C)&&di.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:a.points!==n.curPoints||a.baseLine!==n.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}]),i}(x.PureComponent);zi(tr,"displayName","Area");zi(tr,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zi(tr,"getBaseValue",function(e,t,i,r){var a=e.layout,n=e.baseValue,s=t.props.baseValue,l=s??n;if(X(l)&&typeof l=="number")return l;var u=a==="horizontal"?r:i,c=u.scale.domain();if(u.type==="number"){var m=Math.max(c[0],c[1]),p=Math.min(c[0],c[1]);return l==="dataMin"?p:l==="dataMax"||m<0?m:Math.max(Math.min(c[0],c[1]),0)}return l==="dataMin"?c[0]:l==="dataMax"?c[1]:c[0]});zi(tr,"getComposedData",function(e){var t=e.props,i=e.item,r=e.xAxis,a=e.yAxis,n=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,u=e.dataKey,c=e.stackedData,m=e.dataStartIndex,p=e.displayedData,f=e.offset,b=t.layout,g=c&&c.length,h=tr.getBaseValue(t,i,r,a),y=!1,C=p.map(function(d,v){var k=lt(d,u),T;g?T=c[m+v]:(T=k,Qe(T)?y=!0:T=[h,T]);var S=te(T[1])||g&&te(k);return b==="horizontal"?{x:Qa({axis:r,ticks:n,bandSize:l,entry:d,index:v}),y:S?null:a.scale(T[1]),value:T,payload:d}:{x:S?null:r.scale(T[1]),y:Qa({axis:a,ticks:s,bandSize:l,entry:d,index:v}),value:T,payload:d}}),N;return g||y?N=C.map(function(d){return b==="horizontal"?{x:d.x,y:!te(Ct(d,"value[0]"))&&!te(Ct(d,"y"))?a.scale(Ct(d,"value[0]")):null}:{x:te(Ct(d,"value[0]"))?null:r.scale(Ct(d,"value[0]")),y:d.y}}):b==="horizontal"?N=a.scale(h):N=r.scale(h),mr({points:C,baseLine:N,layout:b,isRange:y},f)});zi(tr,"renderDotItem",function(e,t){var i;return G.isValidElement(e)?i=G.cloneElement(e,t):me(e)?i=e(t):i=G.createElement(pu,ea({},t,{className:"recharts-area-dot"})),i});var du=function(){return null};du.displayName="ZAxis";du.defaultProps={zAxisId:0,range:[64,64],scale:"auto",type:"number"};function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},rs.apply(this,arguments)}function Zb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function Jt(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Zb(Object(i),!0).forEach(function(r){vr(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Zb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function YF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qb(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i0(r.key),r)}}function JF(e,t,i){return t&&Qb(e.prototype,t),i&&Qb(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zm(e,t)}function Zm(e,t){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Zm(e,t)}function QF(e){var t=tW();return function(){var r=_l(e),a;if(t){var n=_l(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return eW(this,a)}}function eW(e,t){if(t&&(pn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zn(e)}function Zn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _l(e){return _l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},_l(e)}function vr(e,t,i){return t=i0(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function i0(e){var t=iW(e,"string");return pn(t)==="symbol"?t:String(t)}function iW(e,t){if(pn(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(pn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ra=function(e){ZF(i,e);var t=QF(i);function i(){var r;YF(this,i);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=t.call.apply(t,[this].concat(n)),vr(Zn(r),"state",{isAnimationFinished:!1}),vr(Zn(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),vr(Zn(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),vr(Zn(r),"id",pa("recharts-scatter-")),r}return JF(i,[{key:"renderSymbolsStatically",value:function(a){var n=this,s=this.props,l=s.shape,u=s.activeShape,c=s.activeIndex,m=ve(this.props);return a.map(function(p,f){var b=Jt(Jt({key:"symbol-".concat(f)},m),p);return G.createElement(Ae,rs({className:"recharts-scatter-symbol"},ls(n.props,p,f),{key:"symbol-".concat(f),role:"img"}),i.renderSymbolItem(c===f?u:l,b))})}},{key:"renderSymbolsWithAnimation",value:function(){var a=this,n=this.props,s=n.points,l=n.isAnimationActive,u=n.animationBegin,c=n.animationDuration,m=n.animationEasing,p=n.animationId,f=this.state.prevPoints;return G.createElement(Ji,{begin:u,duration:c,isActive:l,easing:m,from:{t:0},to:{t:1},key:"pie-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var g=b.t,h=s.map(function(y,C){var N=f&&f[C];if(N){var d=Xe(N.cx,y.cx),v=Xe(N.cy,y.cy),k=Xe(N.size,y.size);return Jt(Jt({},y),{},{cx:d(g),cy:v(g),size:k(g)})}var T=Xe(0,y.size);return Jt(Jt({},y),{},{size:T(g)})});return G.createElement(Ae,null,a.renderSymbolsStatically(h))})}},{key:"renderSymbols",value:function(){var a=this.props,n=a.points,s=a.isAnimationActive,l=this.state.prevPoints;return s&&n&&n.length&&(!l||!Xa(l,n))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(n)}},{key:"renderErrorBar",value:function(){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var n=this.props,s=n.points,l=n.xAxis,u=n.yAxis,c=n.children,m=Pt(c,_n);if(!m)return null;function p(b,g){return{x:b.cx,y:b.cy,value:+b.node.y,errorVal:lt(b,g)}}function f(b,g){return{x:b.cx,y:b.cy,value:+b.node.x,errorVal:lt(b,g)}}return m.map(function(b,g){var h=b.props.direction;return G.cloneElement(b,{key:g,data:s,xAxis:l,yAxis:u,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:h==="x"?f:p})})}},{key:"renderLine",value:function(){var a=this.props,n=a.points,s=a.line,l=a.lineType,u=a.lineJointType,c=ve(this.props),m=ve(s),p,f;if(l==="joint")p=n.map(function(v){return{x:v.cx,y:v.cy}});else if(l==="fitting"){var b=yw(n),g=b.xmin,h=b.xmax,y=b.a,C=b.b,N=function(k){return y*k+C};p=[{x:g,y:N(g)},{x:h,y:N(h)}]}var d=Jt(Jt(Jt({},c),{},{fill:"none",stroke:c&&c.fill},m),{},{points:p});return G.isValidElement(s)?f=G.cloneElement(s,d):me(s)?f=s(d):f=G.createElement(xr,rs({},d,{type:u})),G.createElement(Ae,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var a=this.props,n=a.hide,s=a.points,l=a.line,u=a.className,c=a.xAxis,m=a.yAxis,p=a.left,f=a.top,b=a.width,g=a.height,h=a.id,y=a.isAnimationActive;if(n||!s||!s.length)return null;var C=this.state.isAnimationFinished,N=Ge("recharts-scatter",u),d=c&&c.allowDataOverflow||m&&m.allowDataOverflow,v=te(h)?this.id:h;return G.createElement(Ae,{className:N,clipPath:d?"url(#clipPath-".concat(v,")"):null},d?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(v)},G.createElement("rect",{x:p,y:f,width:b,height:g}))):null,l&&this.renderLine(),this.renderErrorBar(),G.createElement(Ae,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!y||C)&&di.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:n.curPoints}:a.points!==n.curPoints?{curPoints:a.points}:null}},{key:"renderSymbolItem",value:function(a,n){var s;return G.isValidElement(a)?s=G.cloneElement(a,n):me(a)?s=a(n):typeof a=="string"&&(s=G.createElement(Zl,rs({},n,{type:a}))),s}}]),i}(x.PureComponent);vr(ra,"displayName","Scatter");vr(ra,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});vr(ra,"getComposedData",function(e){var t=e.xAxis,i=e.yAxis,r=e.zAxis,a=e.item,n=e.displayedData,s=e.xAxisTicks,l=e.yAxisTicks,u=e.offset,c=a.props.tooltipType,m=Pt(a.props.children,hf),p=te(t.dataKey)?a.props.dataKey:t.dataKey,f=te(i.dataKey)?a.props.dataKey:i.dataKey,b=r&&r.dataKey,g=r?r.range:du.defaultProps.range,h=g&&g[0],y=t.scale.bandwidth?t.scale.bandwidth():0,C=i.scale.bandwidth?i.scale.bandwidth():0,N=n.map(function(d,v){var k=lt(d,p),T=lt(d,f),S=!te(b)&&lt(d,b)||"-",O=[{name:te(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:k,payload:d,dataKey:p,type:c},{name:te(i.dataKey)?a.props.name:i.name||i.dataKey,unit:i.unit||"",value:T,payload:d,dataKey:f,type:c}];S!=="-"&&O.push({name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:d,dataKey:b,type:c});var _=Qa({axis:t,ticks:s,bandSize:y,entry:d,index:v,dataKey:p}),A=Qa({axis:i,ticks:l,bandSize:C,entry:d,index:v,dataKey:f}),z=S!=="-"?r.scale(S):h,D=Math.sqrt(Math.max(z,0)/Math.PI);return Jt(Jt({},d),{},{cx:_,cy:A,x:_-D,y:A-D,xAxis:t,yAxis:i,zAxis:r,width:2*D,height:2*D,size:z,node:{x:k,y:T,z:S},tooltipPayload:O,tooltipPosition:{x:_,y:A},payload:d},m&&m[v]&&m[v].props)});return Jt({points:N},u)});var Js=function(){return null};Js.displayName="XAxis";Js.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var Zs=function(){return null};Zs.displayName="YAxis";Zs.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var rW=Ar,aW=Fs,nW=Kl;function sW(e){return function(t,i,r){var a=Object(t);if(!aW(t)){var n=rW(i);t=nW(t),i=function(l){return n(a[l],l,a)}}var s=e(t,i,r);return s>-1?a[n?t[s]:s]:void 0}}var oW=sW,lW=Wx;function uW(e){var t=lW(e),i=t%1;return t===t?i?t-i:t:0}var cW=uW,mW=EC,pW=Ar,fW=cW,hW=Math.max;function dW(e,t,i){var r=e==null?0:e.length;if(!r)return-1;var a=i==null?0:fW(i);return a<0&&(a=hW(r+a,0)),mW(e,pW(t),a)}var gW=dW,bW=oW,yW=gW,vW=bW(yW),CW=vW;const NW=Re(CW);var xW=Ii,TW=function(){return xW.Date.now()},kW=TW,SW=Dr,oc=kW,ey=Fx,OW="Expected a function",zW=Math.max,DW=Math.min;function _W(e,t,i){var r,a,n,s,l,u,c=0,m=!1,p=!1,f=!0;if(typeof e!="function")throw new TypeError(OW);t=ey(t)||0,SW(i)&&(m=!!i.leading,p="maxWait"in i,n=p?zW(ey(i.maxWait)||0,t):n,f="trailing"in i?!!i.trailing:f);function b(T){var S=r,O=a;return r=a=void 0,c=T,s=e.apply(O,S),s}function g(T){return c=T,l=setTimeout(C,t),m?b(T):s}function h(T){var S=T-u,O=T-c,_=t-S;return p?DW(_,n-O):_}function y(T){var S=T-u,O=T-c;return u===void 0||S>=t||S<0||p&&O>=n}function C(){var T=oc();if(y(T))return N(T);l=setTimeout(C,h(T))}function N(T){return l=void 0,f&&r?b(T):(r=a=void 0,s)}function d(){l!==void 0&&clearTimeout(l),c=0,r=u=a=l=void 0}function v(){return l===void 0?s:N(oc())}function k(){var T=oc(),S=y(T);if(r=arguments,a=this,u=T,S){if(l===void 0)return g(u);if(p)return clearTimeout(l),l=setTimeout(C,t),b(u)}return l===void 0&&(l=setTimeout(C,t)),s}return k.cancel=d,k.flush=v,k}var wW=_W,AW=wW,UW=Dr,GW="Expected a function";function EW(e,t,i){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(GW);return UW(i)&&(r="leading"in i?!!i.leading:r,a="trailing"in i?!!i.trailing:a),AW(e,t,{leading:r,maxWait:t,trailing:a})}var MW=EW;const PW=Re(MW);var $W=_r,IW=wr,RW="[object Boolean]";function jW(e){return e===!0||e===!1||IW(e)&&$W(e)==RW}var BW=jW;const LW=Re(BW);function ty(e){return HW(e)||qW(e)||WW(e)||FW()}function FW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WW(e,t){if(e){if(typeof e=="string")return Qm(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Qm(e,t)}}function qW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HW(e){if(Array.isArray(e))return Qm(e)}function Qm(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var ep=function(t,i,r,a,n){var s=Pt(t,kl),l=Pt(t,Ys),u=[].concat(ty(s),ty(l)),c=Pt(t,hu),m="".concat(a,"Id"),p=a[0],f=i;if(u.length&&(f=u.reduce(function(h,y){if(y.props[m]===r&&wi(y.props,"extendDomain")&&X(y.props[p])){var C=y.props[p];return[Math.min(h[0],C),Math.max(h[1],C)]}return h},f)),c.length){var b="".concat(p,"1"),g="".concat(p,"2");f=c.reduce(function(h,y){if(y.props[m]===r&&wi(y.props,"extendDomain")&&X(y.props[b])&&X(y.props[g])){var C=y.props[b],N=y.props[g];return[Math.min(h[0],C,N),Math.max(h[1],C,N)]}return h},f)}return n&&n.length&&(f=n.reduce(function(h,y){return X(y)?[Math.min(h[0],y),Math.max(h[1],y)]:h},f)),f},r0={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function a(u,c,m){this.fn=u,this.context=c,this.once=m||!1}function n(u,c,m,p,f){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new a(m,p||u,f),g=i?i+c:c;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],b]:u._events[g].push(b):(u._events[g]=b,u._eventsCount++),u}function s(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],m,p;if(this._eventsCount===0)return c;for(p in m=this._events)t.call(m,p)&&c.push(i?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(m)):c},l.prototype.listeners=function(c){var m=i?i+c:c,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var f=0,b=p.length,g=new Array(b);f<b;f++)g[f]=p[f].fn;return g},l.prototype.listenerCount=function(c){var m=i?i+c:c,p=this._events[m];return p?p.fn?1:p.length:0},l.prototype.emit=function(c,m,p,f,b,g){var h=i?i+c:c;if(!this._events[h])return!1;var y=this._events[h],C=arguments.length,N,d;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),C){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,m),!0;case 3:return y.fn.call(y.context,m,p),!0;case 4:return y.fn.call(y.context,m,p,f),!0;case 5:return y.fn.call(y.context,m,p,f,b),!0;case 6:return y.fn.call(y.context,m,p,f,b,g),!0}for(d=1,N=new Array(C-1);d<C;d++)N[d-1]=arguments[d];y.fn.apply(y.context,N)}else{var v=y.length,k;for(d=0;d<v;d++)switch(y[d].once&&this.removeListener(c,y[d].fn,void 0,!0),C){case 1:y[d].fn.call(y[d].context);break;case 2:y[d].fn.call(y[d].context,m);break;case 3:y[d].fn.call(y[d].context,m,p);break;case 4:y[d].fn.call(y[d].context,m,p,f);break;default:if(!N)for(k=1,N=new Array(C-1);k<C;k++)N[k-1]=arguments[k];y[d].fn.apply(y[d].context,N)}}return!0},l.prototype.on=function(c,m,p){return n(this,c,m,p,!1)},l.prototype.once=function(c,m,p){return n(this,c,m,p,!0)},l.prototype.removeListener=function(c,m,p,f){var b=i?i+c:c;if(!this._events[b])return this;if(!m)return s(this,b),this;var g=this._events[b];if(g.fn)g.fn===m&&(!f||g.once)&&(!p||g.context===p)&&s(this,b);else{for(var h=0,y=[],C=g.length;h<C;h++)(g[h].fn!==m||f&&!g[h].once||p&&g[h].context!==p)&&y.push(g[h]);y.length?this._events[b]=y.length===1?y[0]:y:s(this,b)}return this},l.prototype.removeAllListeners=function(c){var m;return c?(m=i?i+c:c,this._events[m]&&s(this,m)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l})(r0);var KW=r0.exports;const VW=Re(KW);var Bt=new VW;Bt.setMaxListeners&&Bt.setMaxListeners(10);var lc="recharts.syncMouseEvents",XW=["item"],YW=["children","className","width","height","style","compact","title","desc"];function fn(e){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(e)}function iy(e,t){return QW(e)||ZW(e,t)||a0(e,t)||JW()}function JW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZW(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var r,a,n,s,l=[],u=!0,c=!1;try{if(n=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(r=n.call(i)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(m){c=!0,a=m}finally{try{if(!u&&i.return!=null&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function QW(e){if(Array.isArray(e))return e}function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Da.apply(this,arguments)}function ry(e,t){if(e==null)return{};var i=eq(e,t),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eq(e,t){if(e==null)return{};var i={},r=Object.keys(e),a,n;for(n=0;n<r.length;n++)a=r[n],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function tq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ay(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n0(r.key),r)}}function iq(e,t,i){return t&&ay(e.prototype,t),i&&ay(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function rq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tp(e,t)}function tp(e,t){return tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},tp(e,t)}function aq(e){var t=sq();return function(){var r=wl(e),a;if(t){var n=wl(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return nq(this,a)}}function nq(e,t){if(t&&(fn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ke(e)}function ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wl(e){return wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},wl(e)}function hn(e){return uq(e)||lq(e)||a0(e)||oq()}function oq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a0(e,t){if(e){if(typeof e=="string")return ip(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ip(e,t)}}function lq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uq(e){if(Array.isArray(e))return ip(e)}function ip(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function ny(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function L(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ny(Object(i),!0).forEach(function(r){fe(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ny(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function fe(e,t,i){return t=n0(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n0(e){var t=cq(e,"string");return fn(t)==="symbol"?t:String(t)}function cq(e,t){if(fn(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(fn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mq={xAxis:["bottom","top"],yAxis:["left","right"]},s0={x:0,y:0},pq=Number.isFinite?Number.isFinite:isFinite,sy=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:setTimeout,oy=typeof cancelAnimationFrame=="function"?cancelAnimationFrame:typeof clearImmediate=="function"?clearImmediate:clearTimeout,fq=function(t,i){return i==="horizontal"?t.x:i==="vertical"?t.y:i==="centric"?t.angle:t.radius},hq=function(t,i,r,a){var n=i.find(function(m){return m&&m.index===r});if(n){if(t==="horizontal")return{x:n.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:n.coordinate};if(t==="centric"){var s=n.coordinate,l=a.radius;return L(L(L({},a),Nt(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var u=n.coordinate,c=a.angle;return L(L(L({},a),Nt(a.cx,a.cy,u,c)),{},{angle:c,radius:u})}return s0},gu=function(t,i,r){var a=i.graphicalItems,n=i.dataStartIndex,s=i.dataEndIndex,l=(a||[]).reduce(function(u,c){var m=c.props.data;return m&&m.length?[].concat(hn(u),hn(m)):u},[]);return l&&l.length>0?l:r&&r.props&&r.props.data&&r.props.data.length>0?r.props.data:t&&t.length&&X(n)&&X(s)?t.slice(n,s+1):[]};function dq(e,t,i){if(i==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&X(r)&&X(a))return!0}return!1}function o0(e){return e==="number"?[0,"auto"]:void 0}var l0=function(t,i,r,a){var n=t.graphicalItems,s=t.tooltipAxis,l=gu(i,t);return r<0||!n||!n.length||r>=l.length?null:n.reduce(function(u,c){var m=c.props.hide;if(m)return u;var p=c.props.data,f;if(s.dataKey&&!s.allowDuplicatedCategory){var b=p===void 0?l:p;f=Ao(b,s.dataKey,a)}else f=p&&p[r]||l[r];return f?[].concat(hn(u),[Ax(c,f)]):u},[])},ly=function(t,i,r,a){var n=a||{x:t.chartX,y:t.chartY},s=fq(n,r),l=t.orderedTooltipTicks,u=t.tooltipAxis,c=t.tooltipTicks,m=rB(s,l,c,u);if(m>=0&&c){var p=c[m]&&c[m].value,f=l0(t,i,m,p),b=hq(r,l,m,n);return{activeTooltipIndex:m,activeLabel:p,activePayload:f,activeCoordinate:b}}return null},gq=function(t,i){var r=i.axes,a=i.graphicalItems,n=i.axisType,s=i.axisIdKey,l=i.stackGroups,u=i.dataStartIndex,c=i.dataEndIndex,m=t.layout,p=t.children,f=t.stackOffset,b=_x(m,n),g=r.reduce(function(h,y){var C,N=y.props,d=N.type,v=N.dataKey,k=N.allowDataOverflow,T=N.allowDuplicatedCategory,S=N.scale,O=N.ticks,_=y.props[s];if(h[_])return h;var A=gu(t.data,{graphicalItems:a.filter(function(V){return V.props[s]===_}),dataStartIndex:u,dataEndIndex:c}),z=A.length,D,U,P;dq(y.props.domain,k,d)&&(D=Dm(y.props.domain,null,k),b&&(d==="number"||S!=="auto")&&(P=ts(A,v,"category")));var $=o0(d);if(!D||D.length===0){var B,q=(B=y.props.domain)!==null&&B!==void 0?B:$;if(v){if(D=ts(A,v,d),d==="category"&&b){var j=bw(D);T&&j?(U=D,D=Cl(0,z)):T||(D=cb(q,D,y).reduce(function(V,Q){return V.indexOf(Q)>=0?V:[].concat(hn(V),[Q])},[]))}else if(d==="category")T?D=D.filter(function(V){return V!==""&&!te(V)}):D=cb(q,D,y).reduce(function(V,Q){return V.indexOf(Q)>=0||Q===""||te(Q)?V:[].concat(hn(V),[Q])},[]);else if(d==="number"){var F=lB(A,a.filter(function(V){return V.props[s]===_&&!V.props.hide}),v,n,m);F&&(D=F)}b&&(d==="number"||S!=="auto")&&(P=ts(A,v,"category"))}else b?D=Cl(0,z):l&&l[_]&&l[_].hasStack&&d==="number"?D=f==="expand"?[0,1]:wx(l[_].stackGroups,u,c):D=Dx(A,a.filter(function(V){return V.props[s]===_&&!V.props.hide}),d,m,!0);if(d==="number")D=ep(p,D,_,n,O),q&&(D=Dm(q,D,k));else if(d==="category"&&q){var K=q,J=D.every(function(V){return K.indexOf(V)>=0});J&&(D=K)}}return L(L({},h),{},fe({},_,L(L({},y.props),{},{axisType:n,domain:D,categoricalDomain:P,duplicateDomain:U,originalDomain:(C=y.props.domain)!==null&&C!==void 0?C:$,isCategorical:b,layout:m})))},{});return g},bq=function(t,i){var r=i.graphicalItems,a=i.Axis,n=i.axisType,s=i.axisIdKey,l=i.stackGroups,u=i.dataStartIndex,c=i.dataEndIndex,m=t.layout,p=t.children,f=gu(t.data,{graphicalItems:r,dataStartIndex:u,dataEndIndex:c}),b=f.length,g=_x(m,n),h=-1,y=r.reduce(function(C,N){var d=N.props[s],v=o0("number");if(!C[d]){h++;var k;return g?k=Cl(0,b):l&&l[d]&&l[d].hasStack?(k=wx(l[d].stackGroups,u,c),k=ep(p,k,d,n)):(k=Dm(v,Dx(f,r.filter(function(T){return T.props[s]===d&&!T.props.hide}),"number",m),a.defaultProps.allowDataOverflow),k=ep(p,k,d,n)),L(L({},C),{},fe({},d,L(L({axisType:n},a.defaultProps),{},{hide:!0,orientation:Ct(mq,"".concat(n,".").concat(h%2),null),domain:k,originalDomain:v,isCategorical:g,layout:m})))}return C},{});return y},yq=function(t,i){var r=i.axisType,a=r===void 0?"xAxis":r,n=i.AxisComp,s=i.graphicalItems,l=i.stackGroups,u=i.dataStartIndex,c=i.dataEndIndex,m=t.children,p="".concat(a,"Id"),f=Pt(m,n),b={};return f&&f.length?b=gq(t,{axes:f,graphicalItems:s,axisType:a,axisIdKey:p,stackGroups:l,dataStartIndex:u,dataEndIndex:c}):s&&s.length&&(b=bq(t,{Axis:n,graphicalItems:s,axisType:a,axisIdKey:p,stackGroups:l,dataStartIndex:u,dataEndIndex:c})),b},vq=function(t){var i=ur(t),r=cr(i,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:cf(r,function(a){return a.coordinate}),tooltipAxis:i,tooltipAxisBandSize:ml(i,r)}},uy=function(t){var i,r,a=t.children,n=t.defaultShowTooltip,s=qi(a,Ss),l=s&&s.props&&s.props.startIndex||0,u=(s==null||(i=s.props)===null||i===void 0?void 0:i.endIndex)!==void 0?s==null||(r=s.props)===null||r===void 0?void 0:r.endIndex:t.data&&t.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:l,dataEndIndex:u,activeTooltipIndex:-1,isTooltipActive:te(n)?!1:n}},Cq=function(t){return!t||!t.length?!1:t.some(function(i){var r=Cr(i&&i.type);return r&&r.indexOf("Bar")>=0})},cy=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Nq=function(t,i){var r=t.props,a=t.graphicalItems,n=t.xAxisMap,s=n===void 0?{}:n,l=t.yAxisMap,u=l===void 0?{}:l,c=r.width,m=r.height,p=r.children,f=r.margin||{},b=qi(p,Ss),g=qi(p,na),h=Object.keys(u).reduce(function(d,v){var k=u[v],T=k.orientation;return!k.mirror&&!k.hide?L(L({},d),{},fe({},T,d[T]+k.width)):d},{left:f.left||0,right:f.right||0}),y=Object.keys(s).reduce(function(d,v){var k=s[v],T=k.orientation;return!k.mirror&&!k.hide?L(L({},d),{},fe({},T,Ct(d,"".concat(T))+k.height)):d},{top:f.top||0,bottom:f.bottom||0}),C=L(L({},y),h),N=C.bottom;return b&&(C.bottom+=b.props.height||Ss.defaultProps.height),g&&i&&(C=sB(C,a,r,i)),L(L({brushBottom:N},C),{},{width:c-C.left-C.right,height:m-C.top-C.bottom})},xq=function(t){var i,r=t.chartName,a=t.GraphicalChild,n=t.defaultTooltipEventType,s=n===void 0?"axis":n,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,c=t.axisComponents,m=t.legendContent,p=t.formatAxisMap,f=t.defaultProps,b=function(y,C){var N=C.graphicalItems,d=C.stackGroups,v=C.offset,k=C.updateId,T=C.dataStartIndex,S=C.dataEndIndex,O=y.barSize,_=y.layout,A=y.barGap,z=y.barCategoryGap,D=y.maxBarSize,U=cy(_),P=U.numericAxisName,$=U.cateAxisName,B=Cq(N),q=B&&aB({barSize:O,stackGroups:d}),j=[];return N.forEach(function(F,K){var J=gu(y.data,{dataStartIndex:T,dataEndIndex:S},F),V=F.props,Q=V.dataKey,se=V.maxBarSize,de=F.props["".concat(P,"Id")],ye=F.props["".concat($,"Id")],ne=c.reduce(function(xt,Ot){var Ci,Te=C["".concat(Ot.axisType,"Map")],ct=F.props["".concat(Ot.axisType,"Id")],It=Te&&Te[ct];return L(L({},xt),{},(Ci={},fe(Ci,Ot.axisType,It),fe(Ci,"".concat(Ot.axisType,"Ticks"),cr(It)),Ci))},{}),ie=ne[$],R=ne["".concat($,"Ticks")],Z=d&&d[de]&&d[de].hasStack&&CB(F,d[de].stackGroups),le=Cr(F.type).indexOf("Bar")>=0,E=ml(ie,R),ge=[];if(le){var ue,re,xe=te(se)?D:se,_e=(ue=(re=ml(ie,R,!0))!==null&&re!==void 0?re:xe)!==null&&ue!==void 0?ue:0;ge=nB({barGap:A,barCategoryGap:z,bandSize:_e!==E?_e:E,sizeList:q[ye],maxBarSize:xe}),_e!==E&&(ge=ge.map(function(xt){return L(L({},xt),{},{position:L(L({},xt.position),{},{offset:xt.position.offset-_e/2})})}))}var St=F&&F.type&&F.type.getComposedData;if(St){var qt;j.push({props:L(L({},St(L(L({},ne),{},{displayedData:J,props:y,dataKey:Q,item:F,bandSize:E,barPosition:ge,offset:v,stackedData:Z,layout:_,dataStartIndex:T,dataEndIndex:S}))),{},(qt={key:F.key||"item-".concat(K)},fe(qt,P,ne[P]),fe(qt,$,ne[$]),fe(qt,"animationId",k),qt)),childIndex:_w(F,y.children),item:F})}}),j},g=function(y,C){var N=y.props,d=y.dataStartIndex,v=y.dataEndIndex,k=y.updateId;if(!Bh({props:N}))return null;var T=N.children,S=N.layout,O=N.stackOffset,_=N.data,A=N.reverseStackOrder,z=cy(S),D=z.numericAxisName,U=z.cateAxisName,P=Pt(T,a),$=bB(_,P,"".concat(D,"Id"),"".concat(U,"Id"),O,A),B=c.reduce(function(J,V){var Q="".concat(V.axisType,"Map");return L(L({},J),{},fe({},Q,yq(N,L(L({},V),{},{graphicalItems:P,stackGroups:V.axisType===D&&$,dataStartIndex:d,dataEndIndex:v}))))},{}),q=Nq(L(L({},B),{},{props:N,graphicalItems:P}),C==null?void 0:C.legendBBox);Object.keys(B).forEach(function(J){B[J]=p(N,B[J],q,J.replace("Map",""),r)});var j=B["".concat(U,"Map")],F=vq(j),K=b(N,L(L({},B),{},{dataStartIndex:d,dataEndIndex:v,updateId:k,graphicalItems:P,stackGroups:$,offset:q}));return L(L({formattedGraphicalItems:K,graphicalItems:P,offset:q,stackGroups:$},F),B)};return i=function(h){rq(C,h);var y=aq(C);function C(N){var d;return tq(this,C),d=y.call(this,N),fe(ke(d),"clearDeferId",function(){!te(d.deferId)&&oy&&oy(d.deferId),d.deferId=null}),fe(ke(d),"handleLegendBBoxUpdate",function(v){if(v){var k=d.state,T=k.dataStartIndex,S=k.dataEndIndex,O=k.updateId;d.setState(L({legendBBox:v},g({props:d.props,dataStartIndex:T,dataEndIndex:S,updateId:O},L(L({},d.state),{},{legendBBox:v}))))}}),fe(ke(d),"handleReceiveSyncEvent",function(v,k,T){var S=d.props.syncId;S===v&&k!==d.uniqueChartId&&(d.clearDeferId(),d.deferId=sy&&sy(d.applySyncEvent.bind(ke(d),T)))}),fe(ke(d),"handleBrushChange",function(v){var k=v.startIndex,T=v.endIndex;if(k!==d.state.dataStartIndex||T!==d.state.dataEndIndex){var S=d.state.updateId;d.setState(function(){return L({dataStartIndex:k,dataEndIndex:T},g({props:d.props,dataStartIndex:k,dataEndIndex:T,updateId:S},d.state))}),d.triggerSyncEvent({dataStartIndex:k,dataEndIndex:T})}}),fe(ke(d),"handleMouseEnter",function(v){var k=d.props.onMouseEnter,T=d.getMouseInfo(v);if(T){var S=L(L({},T),{},{isTooltipActive:!0});d.setState(S),d.triggerSyncEvent(S),me(k)&&k(S,v)}}),fe(ke(d),"triggeredAfterMouseMove",function(v){var k=d.props.onMouseMove,T=d.getMouseInfo(v),S=T?L(L({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};d.setState(S),d.triggerSyncEvent(S),me(k)&&k(S,v)}),fe(ke(d),"handleItemMouseEnter",function(v){d.setState(function(){return{isTooltipActive:!0,activeItem:v,activePayload:v.tooltipPayload,activeCoordinate:v.tooltipPosition||{x:v.cx,y:v.cy}}})}),fe(ke(d),"handleItemMouseLeave",function(){d.setState(function(){return{isTooltipActive:!1}})}),fe(ke(d),"handleMouseMove",function(v){v&&me(v.persist)&&v.persist(),d.triggeredAfterMouseMove(v)}),fe(ke(d),"handleMouseLeave",function(v){var k=d.props.onMouseLeave,T={isTooltipActive:!1};d.setState(T),d.triggerSyncEvent(T),me(k)&&k(T,v),d.cancelThrottledTriggerAfterMouseMove()}),fe(ke(d),"handleOuterEvent",function(v){var k=Dw(v),T=Ct(d.props,"".concat(k));if(k&&me(T)){var S;/.*touch.*/i.test(k)?S=d.getMouseInfo(v.changedTouches[0]):S=d.getMouseInfo(v);var O=T;O(S,v)}}),fe(ke(d),"handleClick",function(v){var k=d.props.onClick,T=d.getMouseInfo(v);if(T){var S=L(L({},T),{},{isTooltipActive:!0});d.setState(S),d.triggerSyncEvent(S),me(k)&&k(S,v)}}),fe(ke(d),"handleMouseDown",function(v){var k=d.props.onMouseDown;if(me(k)){var T=d.getMouseInfo(v);k(T,v)}}),fe(ke(d),"handleMouseUp",function(v){var k=d.props.onMouseUp;if(me(k)){var T=d.getMouseInfo(v);k(T,v)}}),fe(ke(d),"handleTouchMove",function(v){v.changedTouches!=null&&v.changedTouches.length>0&&d.handleMouseMove(v.changedTouches[0])}),fe(ke(d),"handleTouchStart",function(v){v.changedTouches!=null&&v.changedTouches.length>0&&d.handleMouseDown(v.changedTouches[0])}),fe(ke(d),"handleTouchEnd",function(v){v.changedTouches!=null&&v.changedTouches.length>0&&d.handleMouseUp(v.changedTouches[0])}),fe(ke(d),"verticalCoordinatesGenerator",function(v){var k=v.xAxis,T=v.width,S=v.height,O=v.offset;return nb(Vr.getTicks(L(L(L({},Vr.defaultProps),k),{},{ticks:cr(k,!0),viewBox:{x:0,y:0,width:T,height:S}})),O.left,O.left+O.width)}),fe(ke(d),"horizontalCoordinatesGenerator",function(v){var k=v.yAxis,T=v.width,S=v.height,O=v.offset;return nb(Vr.getTicks(L(L(L({},Vr.defaultProps),k),{},{ticks:cr(k,!0),viewBox:{x:0,y:0,width:T,height:S}})),O.top,O.top+O.height)}),fe(ke(d),"axesTicksGenerator",function(v){return cr(v,!0)}),fe(ke(d),"renderCursor",function(v){var k=d.state,T=k.isTooltipActive,S=k.activeCoordinate,O=k.activePayload,_=k.offset,A=k.activeTooltipIndex,z=d.getTooltipEventType();if(!v||!v.props.cursor||!T||!S||r!=="ScatterChart"&&z!=="axis")return null;var D=d.props.layout,U,P=xr;if(r==="ScatterChart")U=S,P=Lx;else if(r==="BarChart")U=d.getCursorRectangle(),P=mu;else if(D==="radial"){var $=d.getCursorPoints(),B=$.cx,q=$.cy,j=$.radius,F=$.startAngle,K=$.endAngle;U={cx:B,cy:q,startAngle:F,endAngle:K,innerRadius:j,outerRadius:j},P=Mx}else U={points:d.getCursorPoints()},P=xr;var J=v.key||"_recharts-cursor",V=L(L(L(L({stroke:"#ccc",pointerEvents:"none"},_),U),ve(v.props.cursor)),{},{payload:O,payloadIndex:A,key:J,className:"recharts-tooltip-cursor"});return x.isValidElement(v.props.cursor)?x.cloneElement(v.props.cursor,V):x.createElement(P,V)}),fe(ke(d),"renderPolarAxis",function(v,k,T){var S=Ct(v,"type.axisType"),O=Ct(d.state,"".concat(S,"Map")),_=O&&O[v.props["".concat(S,"Id")]];return x.cloneElement(v,L(L({},_),{},{className:S,key:v.key||"".concat(k,"-").concat(T),ticks:cr(_,!0)}))}),fe(ke(d),"renderXAxis",function(v,k,T){var S=d.state.xAxisMap,O=S[v.props.xAxisId];return d.renderAxis(O,v,k,T)}),fe(ke(d),"renderYAxis",function(v,k,T){var S=d.state.yAxisMap,O=S[v.props.yAxisId];return d.renderAxis(O,v,k,T)}),fe(ke(d),"renderGrid",function(v){var k=d.state,T=k.xAxisMap,S=k.yAxisMap,O=k.offset,_=d.props,A=_.width,z=_.height,D=ur(T),U=NW(S,function(B){return Kx(B.domain,pq)}),P=U||ur(S),$=v.props||{};return x.cloneElement(v,{key:v.key||"grid",x:X($.x)?$.x:O.left,y:X($.y)?$.y:O.top,width:X($.width)?$.width:O.width,height:X($.height)?$.height:O.height,xAxis:D,yAxis:P,offset:O,chartWidth:A,chartHeight:z,verticalCoordinatesGenerator:$.verticalCoordinatesGenerator||d.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:$.horizontalCoordinatesGenerator||d.horizontalCoordinatesGenerator})}),fe(ke(d),"renderPolarGrid",function(v){var k=v.props,T=k.radialLines,S=k.polarAngles,O=k.polarRadius,_=d.state,A=_.radiusAxisMap,z=_.angleAxisMap,D=ur(A),U=ur(z),P=U.cx,$=U.cy,B=U.innerRadius,q=U.outerRadius;return x.cloneElement(v,{polarAngles:Qe(S)?S:cr(U,!0).map(function(j){return j.coordinate}),polarRadius:Qe(O)?O:cr(D,!0).map(function(j){return j.coordinate}),cx:P,cy:$,innerRadius:B,outerRadius:q,key:v.key||"polar-grid",radialLines:T})}),fe(ke(d),"renderLegend",function(){var v=d.state.formattedGraphicalItems,k=d.props,T=k.children,S=k.width,O=k.height,_=d.props.margin||{},A=S-(_.left||0)-(_.right||0),z=Ox({children:T,formattedGraphicalItems:v,legendWidth:A,legendContent:m});if(!z)return null;var D=z.item,U=ry(z,XW);return x.cloneElement(D,L(L({},U),{},{chartWidth:S,chartHeight:O,margin:_,ref:function($){d.legendInstance=$},onBBoxUpdate:d.handleLegendBBoxUpdate}))}),fe(ke(d),"renderTooltip",function(){var v=d.props.children,k=qi(v,Jr);if(!k)return null;var T=d.state,S=T.isTooltipActive,O=T.activeCoordinate,_=T.activePayload,A=T.activeLabel,z=T.offset;return x.cloneElement(k,{viewBox:L(L({},z),{},{x:z.left,y:z.top}),active:S,label:A,payload:S?_:[],coordinate:O})}),fe(ke(d),"renderBrush",function(v){var k=d.props,T=k.margin,S=k.data,O=d.state,_=O.offset,A=O.dataStartIndex,z=O.dataEndIndex,D=O.updateId;return x.cloneElement(v,{key:v.key||"_recharts-brush",onChange:ho(d.handleBrushChange,null,v.props.onChange),data:S,x:X(v.props.x)?v.props.x:_.left,y:X(v.props.y)?v.props.y:_.top+_.height+_.brushBottom-(T.bottom||0),width:X(v.props.width)?v.props.width:_.width,startIndex:A,endIndex:z,updateId:"brush-".concat(D)})}),fe(ke(d),"renderReferenceElement",function(v,k,T){if(!v)return null;var S=ke(d),O=S.clipPathId,_=d.state,A=_.xAxisMap,z=_.yAxisMap,D=_.offset,U=v.props,P=U.xAxisId,$=U.yAxisId;return x.cloneElement(v,{key:v.key||"".concat(k,"-").concat(T),xAxis:A[P??0],yAxis:z[$??0],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:O})}),fe(ke(d),"renderActivePoints",function(v){var k=v.item,T=v.activePoint,S=v.basePoint,O=v.childIndex,_=v.isRange,A=[],z=k.props.key,D=k.item.props,U=D.activeDot,P=D.dataKey,$=L(L({index:O,dataKey:P,cx:T.x,cy:T.y,r:4,fill:jf(k.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value,key:"".concat(z,"-activePoint-").concat(O)},ve(U)),Uo(U));return A.push(C.renderActiveDot(U,$)),S?A.push(C.renderActiveDot(U,L(L({},$),{},{cx:S.x,cy:S.y,key:"".concat(z,"-basePoint-").concat(O)}))):_&&A.push(null),A}),fe(ke(d),"renderGraphicChild",function(v,k,T){var S=d.filterFormatItem(v,k,T);if(!S)return null;var O=d.getTooltipEventType(),_=d.state,A=_.isTooltipActive,z=_.tooltipAxis,D=_.activeTooltipIndex,U=_.activeLabel,P=d.props.children,$=qi(P,Jr),B=S.props,q=B.points,j=B.isRange,F=B.baseLine,K=S.item.props,J=K.activeDot,V=K.hide,Q=!V&&A&&$&&J&&D>=0,se={};O!=="axis"&&$&&$.props.trigger==="click"?se={onClick:ho(d.handleItemMouseEnter,null,v.props.onCLick)}:O!=="axis"&&(se={onMouseLeave:ho(d.handleItemMouseLeave,null,v.props.onMouseLeave),onMouseEnter:ho(d.handleItemMouseEnter,null,v.props.onMouseEnter)});var de=x.cloneElement(v,L(L({},S.props),se));function ye(Z){return typeof z.dataKey=="function"?z.dataKey(Z.payload):null}if(Q){var ne,ie;if(z.dataKey&&!z.allowDuplicatedCategory){var R=typeof z.dataKey=="function"?ye:"payload.".concat(z.dataKey.toString());ne=Ao(q,R,U),ie=j&&F&&Ao(F,R,U)}else ne=q[D],ie=j&&F&&F[D];if(!te(ne))return[de].concat(hn(d.renderActivePoints({item:S,activePoint:ne,basePoint:ie,childIndex:D,isRange:j})))}return j?[de,null,null]:[de,null]}),fe(ke(d),"renderCustomized",function(v,k,T){return x.cloneElement(v,L(L({key:"recharts-customized-".concat(T)},d.props),d.state))}),d.uniqueChartId=te(N.id)?pa("recharts"):N.id,d.clipPathId="".concat(d.uniqueChartId,"-clip"),N.throttleDelay&&(d.triggeredAfterMouseMove=PW(d.triggeredAfterMouseMove,N.throttleDelay)),d.state={},d}return iq(C,[{key:"componentDidMount",value:function(){te(this.props.syncId)||this.addListener()}},{key:"componentDidUpdate",value:function(d){te(d.syncId)&&!te(this.props.syncId)&&this.addListener(),!te(d.syncId)&&te(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),te(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var d=qi(this.props.children,Jr);if(d&&LW(d.props.shared)){var v=d.props.shared?"axis":"item";return u.indexOf(v)>=0?v:s}return s}},{key:"getMouseInfo",value:function(d){if(!this.container)return null;var v=VR(this.container),k=XR(d,v),T=this.inRange(k.chartX,k.chartY);if(!T)return null;var S=this.state,O=S.xAxisMap,_=S.yAxisMap,A=this.getTooltipEventType();if(A!=="axis"&&O&&_){var z=ur(O).scale,D=ur(_).scale,U=z&&z.invert?z.invert(k.chartX):null,P=D&&D.invert?D.invert(k.chartY):null;return L(L({},k),{},{xValue:U,yValue:P})}var $=ly(this.state,this.props.data,this.props.layout,T);return $?L(L({},k),$):null}},{key:"getCursorRectangle",value:function(){var d=this.props.layout,v=this.state,k=v.activeCoordinate,T=v.offset,S=v.tooltipAxisBandSize,O=S/2;return{stroke:"none",fill:"#ccc",x:d==="horizontal"?k.x-O:T.left+.5,y:d==="horizontal"?T.top+.5:k.y-O,width:d==="horizontal"?S:T.width-1,height:d==="horizontal"?T.height-1:S}}},{key:"getCursorPoints",value:function(){var d=this.props.layout,v=this.state,k=v.activeCoordinate,T=v.offset,S,O,_,A;if(d==="horizontal")S=k.x,_=S,O=T.top,A=T.top+T.height;else if(d==="vertical")O=k.y,A=O,S=T.left,_=T.left+T.width;else if(!te(k.cx)||!te(k.cy))if(d==="centric"){var z=k.cx,D=k.cy,U=k.innerRadius,P=k.outerRadius,$=k.angle,B=Nt(z,D,U,$),q=Nt(z,D,P,$);S=B.x,O=B.y,_=q.x,A=q.y}else{var j=k.cx,F=k.cy,K=k.radius,J=k.startAngle,V=k.endAngle,Q=Nt(j,F,K,J),se=Nt(j,F,K,V);return{points:[Q,se],cx:j,cy:F,radius:K,startAngle:J,endAngle:V}}return[{x:S,y:O},{x:_,y:A}]}},{key:"inRange",value:function(d,v){var k=this.props.layout;if(k==="horizontal"||k==="vertical"){var T=this.state.offset,S=d>=T.left&&d<=T.left+T.width&&v>=T.top&&v<=T.top+T.height;return S?{x:d,y:v}:null}var O=this.state,_=O.angleAxisMap,A=O.radiusAxisMap;if(_&&A){var z=ur(_);return fb({x:d,y:v},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var d=this.props.children,v=this.getTooltipEventType(),k=qi(d,Jr),T={};k&&v==="axis"&&(k.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=Uo(this.props,this.handleOuterEvent);return L(L({},S),T)}},{key:"addListener",value:function(){Bt.on(lc,this.handleReceiveSyncEvent),Bt.setMaxListeners&&Bt._maxListeners&&Bt.setMaxListeners(Bt._maxListeners+1)}},{key:"removeListener",value:function(){Bt.removeListener(lc,this.handleReceiveSyncEvent),Bt.setMaxListeners&&Bt._maxListeners&&Bt.setMaxListeners(Bt._maxListeners-1)}},{key:"triggerSyncEvent",value:function(d){var v=this.props.syncId;te(v)||Bt.emit(lc,v,this.uniqueChartId,d)}},{key:"applySyncEvent",value:function(d){var v=this.props,k=v.layout,T=v.syncMethod,S=this.state.updateId,O=d.dataStartIndex,_=d.dataEndIndex;if(!te(d.dataStartIndex)||!te(d.dataEndIndex))this.setState(L({dataStartIndex:O,dataEndIndex:_},g({props:this.props,dataStartIndex:O,dataEndIndex:_,updateId:S},this.state)));else if(te(d.activeTooltipIndex))this.setState(d);else{var A=d.chartX,z=d.chartY,D=d.activeTooltipIndex,U=this.state,P=U.offset,$=U.tooltipTicks;if(!P)return;if(typeof T=="function")D=T($,d);else if(T==="value"){D=-1;for(var B=0;B<$.length;B++)if($[B].value===d.activeLabel){D=B;break}}var q=L(L({},P),{},{x:P.left,y:P.top}),j=Math.min(A,q.x+q.width),F=Math.min(z,q.y+q.height),K=$[D]&&$[D].value,J=l0(this.state,this.props.data,D),V=$[D]?{x:k==="horizontal"?$[D].coordinate:j,y:k==="horizontal"?F:$[D].coordinate}:s0;this.setState(L(L({},d),{},{activeLabel:K,activeCoordinate:V,activePayload:J,activeTooltipIndex:D}))}}},{key:"filterFormatItem",value:function(d,v,k){for(var T=this.state.formattedGraphicalItems,S=0,O=T.length;S<O;S++){var _=T[S];if(_.item===d||_.props.key===d.key||v===Cr(_.item.type)&&k===_.childIndex)return _}return null}},{key:"renderAxis",value:function(d,v,k,T){var S=this.props,O=S.width,_=S.height;return G.createElement(Vr,Da({},d,{className:"recharts-".concat(d.axisType," ").concat(d.axisType),key:v.key||"".concat(k,"-").concat(T),viewBox:{x:0,y:0,width:O,height:_},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var d=this.clipPathId,v=this.state.offset,k=v.left,T=v.top,S=v.height,O=v.width;return G.createElement("defs",null,G.createElement("clipPath",{id:d},G.createElement("rect",{x:k,y:T,height:S,width:O})))}},{key:"getXScales",value:function(){var d=this.state.xAxisMap;return d?Object.entries(d).reduce(function(v,k){var T=iy(k,2),S=T[0],O=T[1];return L(L({},v),{},fe({},S,O.scale))},{}):null}},{key:"getYScales",value:function(){var d=this.state.yAxisMap;return d?Object.entries(d).reduce(function(v,k){var T=iy(k,2),S=T[0],O=T[1];return L(L({},v),{},fe({},S,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(d){var v,k;return(v=this.state.xAxisMap)===null||v===void 0||(k=v[d])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(d){var v,k;return(v=this.state.yAxisMap)===null||v===void 0||(k=v[d])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(d){var v=this.state.formattedGraphicalItems;if(v&&v.length)for(var k=0,T=v.length;k<T;k++){var S=v[k],O=S.props,_=S.item,A=Cr(_.type);if(A==="Bar"){var z=(O.data||[]).find(function(U){return PL(d,U)});if(z)return{graphicalItem:S,payload:z}}else if(A==="RadialBar"){var D=(O.data||[]).find(function(U){return fb(d,U)});if(D)return{graphicalItem:S,payload:D}}}return null}},{key:"render",value:function(){var d=this;if(!Bh(this))return null;var v=this.props,k=v.children,T=v.className,S=v.width,O=v.height,_=v.style,A=v.compact,z=v.title,D=v.desc,U=ry(v,YW),P=ve(U),$={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(A)return G.createElement(Dc,Da({},P,{width:S,height:O,title:z,desc:D}),this.renderClipPath(),Fh(k,$));var B=this.parseEventsOfWrapper();return G.createElement("div",Da({className:Ge("recharts-wrapper",T),style:L({position:"relative",cursor:"default",width:S,height:O},_)},B,{ref:function(j){d.container=j},role:"region"}),G.createElement(Dc,Da({},P,{width:S,height:O,title:z,desc:D}),this.renderClipPath(),Fh(k,$)),this.renderLegend(),this.renderTooltip())}}]),C}(x.Component),fe(i,"displayName",r),fe(i,"defaultProps",L({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),fe(i,"getDerivedStateFromProps",function(h,y){var C=h.data,N=h.children,d=h.width,v=h.height,k=h.layout,T=h.stackOffset,S=h.margin;if(te(y.updateId)){var O=uy(h);return L(L(L({},O),{},{updateId:0},g(L(L({props:h},O),{},{updateId:0}),y)),{},{prevData:C,prevWidth:d,prevHeight:v,prevLayout:k,prevStackOffset:T,prevMargin:S,prevChildren:N})}if(C!==y.prevData||d!==y.prevWidth||v!==y.prevHeight||k!==y.prevLayout||T!==y.prevStackOffset||!wa(S,y.prevMargin)){var _=uy(h),A={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},z=L(L({},ly(y,C,k)),{},{updateId:y.updateId+1}),D=L(L(L({},_),A),z);return L(L(L({},D),g(L({props:h},D),y)),{},{prevData:C,prevWidth:d,prevHeight:v,prevLayout:k,prevStackOffset:T,prevMargin:S,prevChildren:N})}if(!yC(N,y.prevChildren)){var U=!te(C),P=U?y.updateId:y.updateId+1;return L(L({updateId:P},g(L(L({props:h},y),{},{updateId:P}),y)),{},{prevChildren:N})}return null}),fe(i,"renderActiveDot",function(h,y){var C;return x.isValidElement(h)?C=x.cloneElement(h,y):me(h)?C=h(y):C=G.createElement(pu,y),G.createElement(Ae,{className:"recharts-active-dot",key:y.key},C)}),i},u0=xq({chartName:"ComposedChart",GraphicalChild:[oa,tr,Xs,ra],axisComponents:[{axisType:"xAxis",AxisComp:Js},{axisType:"yAxis",AxisComp:Zs},{axisType:"zAxis",AxisComp:du}],formatAxisMap:A8});function uc({cx:e,cy:t,payload:i,selectedPoint:r,radiusSelected:a=6,radiusUnselected:n=3,colorSelected:s="red",colorUnselected:l,shape:u="circle"}){if(!e||!t||!i)return null;const c=r&&r.x===i.x&&r.y===i.y;return o("g",{className:"custom-dot","data-chart-x":e,"data-chart-y":t,"data-x-value":i.x,"data-y-value":i.y,"data-radius":c?n:a,children:c?o(Ce,{children:[o(cc,{id:"customShapeSelected",shape:u,cx:e,cy:t,r:a/2,fill:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomDot.tsx",lineNumber:54,columnNumber:11},this),o(cc,{id:"customShapeBorder",shape:u,cx:e,cy:t,r:a,fill:"none",stroke:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomDot.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomDot.tsx",lineNumber:53,columnNumber:9},this):o(cc,{id:"customShapeUnselected",shape:u,cx:e,cy:t,r:n,fill:l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomDot.tsx",lineNumber:44,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomDot.tsx",lineNumber:35,columnNumber:5},this)}function cc({shape:e,id:t,cx:i,cy:r,r:a,fill:n,stroke:s}){switch(e){case"circle":return o("circle",{id:t,cx:i,cy:r,r:a,fill:n,stroke:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomDot.tsx",lineNumber:96,columnNumber:9},this);case"square":return o("rect",{id:t,x:i-a,y:r-a,width:a*2,height:a*2,fill:n,stroke:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomDot.tsx",lineNumber:100,columnNumber:9},this);case"diamond":return o("polygon",{id:t,points:`${i},${r+a*2.5} ${i+a*1.5},${r} ${i},${r-a*2.5} ${i-a*1.5},${r}`,fill:n,stroke:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomDot.tsx",lineNumber:112,columnNumber:9},this)}}function Tq({xLabel:e,xUnit:t,yLabel:i,yUnit:r,selectedPoint:a,setSelectedPoint:n,addBuildToList:s,...l}){var d,v,k,T;const u=oe(),{data:c}=x.useContext(he),{t:m}=pe("page_character_optimize"),{character:{equippedArtifacts:p,equippedWeapon:f}}=x.useContext(Je),b=x.useMemo(()=>{var S;return((S=a==null?void 0:a.build)==null?void 0:S.artifactIds)&&ti(a.build.artifactIds,O=>u.arts.get(O))},[u.arts,a])??ot(Ze,()=>{}),g=x.useCallback(S=>{S.target.id.includes("customShape")||S.target.id.includes("chartContainer")||n(void 0)},[n]),h=f===((d=a==null?void 0:a.build)==null?void 0:d.weaponId)&&Ze.every(S=>{var O;return((O=b[S])==null?void 0:O.id)===p[S]}),y=((v=c.get(kr.weapon.id).value)==null?void 0:v.toString())===((k=a==null?void 0:a.build)==null?void 0:k.weaponId)&&b&&Ze.every(S=>{var O,_;return((O=b[S])==null?void 0:O.id)===((_=c.get(kr.art[S].id).value)==null?void 0:_.toString())}),C=x.useMemo(()=>(a==null?void 0:a.generBuildNumber)!==void 0&&`#${a==null?void 0:a.generBuildNumber}`,[a]),N=x.useMemo(()=>(a==null?void 0:a.graphBuildNumber)!==void 0&&o(Oe,{t:m,i18nKey:"graphBuildLabel",count:a==null?void 0:a.graphBuildNumber,children:["Graph #",{count:(a==null?void 0:a.graphBuildNumber)+1}]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:107,columnNumber:9},this),[a,m]);return!l.active||!a?null:o(v1,{onClickAway:g,children:o(H,{sx:{minWidth:"400px",maxWidth:"400px",p:1},onClick:S=>S.stopPropagation(),children:o(M,{children:o(st,{gap:1,children:[o(st,{direction:"row",alignItems:"start",gap:1,children:[o(st,{spacing:.5,flexGrow:99,children:[h&&o(ce,{color:"info",children:o("strong",{children:m("currentlyEquippedBuild")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:131,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:130,columnNumber:19},this),y&&o(ce,{color:"success",children:o("strong",{children:"Active Build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:137,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:135,columnNumber:19},this),C&&o(ce,{color:"info",children:C},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:140,columnNumber:32},this),N&&o(ce,{color:"info",children:N},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:141,columnNumber:32},this),o(x.Suspense,{fallback:o(Ke,{width:300,height:50},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:142,columnNumber:37},this),children:o(b1,{artifacts:Object.values(b)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:143,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:142,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:128,columnNumber:15},this),o(Le,{onClick:()=>n(void 0),sx:{ml:"auto"},children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:152,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:148,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:127,columnNumber:13},this),o(I,{container:!0,direction:"row",spacing:.75,columns:6,children:[((T=a.build)==null?void 0:T.weaponId)&&o(I,{item:!0,xs:1,children:o(x.Suspense,{fallback:o(Ke,{width:75,height:75},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:158,columnNumber:39},this),children:o(y1,{weaponId:a.build.weaponId},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:159,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:158,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:157,columnNumber:17},this),Ze.map(S=>o(I,{item:!0,xs:1,children:o(x.Suspense,{fallback:o(Ke,{width:75,height:75},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:165,columnNumber:39},this),children:o(yp,{artifactObj:b[S],slotKey:S},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:166,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:165,columnNumber:19},this)},S,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:164,columnNumber:17},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:155,columnNumber:13},this),o(W,{children:[o("strong",{children:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:175,columnNumber:15},this),":"," ",Nc(t==="%"?a.x/100:a.x,t)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:174,columnNumber:13},this),o(W,{children:[o("strong",{children:i},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:182,columnNumber:15},this),":"," ",Nc(r==="%"?a.y/100:a.y,r)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:181,columnNumber:13},this),o(ht,{title:a.highlighted?m("tcGraph.buildAlreadyInList"):"",placement:"top",children:o("span",{children:o(Y,{sx:{width:"100%"},disabled:(a==null?void 0:a.graphBuildNumber)!==void 0,color:"info",onClick:()=>a.build&&s(structuredClone(a.build)),children:m("addBuildToList")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:195,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:194,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:188,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:126,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:125,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:121,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/CustomTooltip.tsx",lineNumber:120,columnNumber:5},this)}class kq{constructor(t,i,r){this.x=t,this.trueY=i,this.build=r}get y(){return this.trueY||this.current||this.highlighted}set y(t){this.trueY=t}}function Sq({plotBase:e,setPlotBase:t,disabled:i=!1,showTooltip:r=!1}){const{t:a}=pe(["page_character_optimize","ui"]),{data:n}=x.useContext(he),{chartData:s}=x.useContext(os),[l,u]=x.useState(!1),[c,m]=x.useState(!0),{graphBuilds:p}=x.useContext(os),{teamChar:{optConfigId:f}}=x.useContext(Se),{builds:b}=yi(f)??{builds:[]},[g,h]=x.useState(-1/0),[y,C]=x.useState(1/0),N=x.useCallback((A,z)=>{if(typeof z=="number")throw new TypeError;const[D,U]=z;D!==U&&(h(D),C(U))},[h,C]);x.useEffect(()=>{h(-1/0),C(1/0)},[s]);const{displayData:d,downloadData:v,sliderMin:k,sliderMax:T}=x.useMemo(()=>{var B,q;if(!s)return{displayData:null,downloadData:null};let A=1/0,z=-1/0;const D=Ze.map(j=>(n==null?void 0:n.get(kr.art[j].id).value)??""),U=s.data.map(({value:j,plot:F,artifactIds:K,weaponId:J})=>{if(F===void 0)return null;F<A&&(A=F),F>z&&(z=F);const V=Object.values(K).filter(Tr),Q=new kq(F,j,{artifactIds:K,weaponId:J}),se=ot(V,ie=>!0);D.every(ie=>se[ie])&&(Q.current=j,Q.y=void 0);const ye=p==null?void 0:p.findIndex(ie=>ie.weaponId===J&&Object.values(ie.artifactIds).every(R=>R&&se[R]));ye!==void 0&&ye!==-1&&(Q.trueY!==void 0&&(Q.highlighted=j,Q.y=void 0),Q.graphBuildNumber=ye+1);const ne=b.findIndex(ie=>ie.weaponId===J&&Object.values(ie.artifactIds).every(R=>R&&se[R]));return ne!==-1&&(Q.trueY!==void 0&&(Q.highlighted=j,Q.y=void 0),Q.generBuildNumber=ne+1),Q}).filter(j=>j!==null).sort((j,F)=>j.x-F.x),P=[];for(const j of U){let F;for(;F=P.pop();)if(F.y>j.y){P.push(F);break}P.push(j)}((B=P[0])==null?void 0:B.x)!==((q=U[0])==null?void 0:q.x)&&(U[0].min=P[0].y),P.forEach(j=>{j.min=j.y});const $={minimum:P.map(j=>[j.x,j.y]),allData:U.map(j=>[j.x,j.y])};return{displayData:U.filter(j=>j&&j.x>=g&&j.x<=y),downloadData:$,sliderMin:A,sliderMax:z}},[s,b,n,p,g,y]),S=e&&Ut(n==null?void 0:n.getDisplay(),e),O=e&&(!S||S.isEmpty),_=a(O?"page_character_optimize:targetSelector.invalidTarget":"page_character_optimize:targetSelector.selectGraphTarget");return o(H,{bgt:"light",children:[o(ae,{children:o(I,{container:!0,spacing:1,alignItems:"center",children:[o(I,{item:!0,children:o(W,{children:a`tcGraph.vs`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:221,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:220,columnNumber:11},this),o(I,{item:!0,children:o(ht,{placement:"top",title:r?a("page_character_optimize:selectTargetFirst"):"",children:o("span",{children:o(ca,{optimizationTarget:e,setTarget:A=>t(A),defaultText:_,disabled:i,targetSelectorModalProps:{excludeSections:["character","bounsStats","teamBuff"]}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:233,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:232,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:224,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:223,columnNumber:11},this),o(I,{item:!0,children:o(ht,{title:e?a("ui:reset"):"",placement:"top",children:o("span",{children:o(Y,{color:"secondary",onClick:()=>t(void 0),disabled:!e||i,children:o(Xy,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:256,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:251,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:250,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:246,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:245,columnNumber:11},this),o(I,{item:!0,flexGrow:1,children:o(ua,{placement:"top",title:a("page_character_optimize:tcGraph.desc")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:262,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:261,columnNumber:11},this),!!v&&o(I,{item:!0,children:o(Y,{size:"small",startIcon:c?o(ss,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:271,columnNumber:38},this):o(ns,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:271,columnNumber:53},this),color:c?"success":"secondary",onClick:()=>m(!c),children:a`tcGraph.showStatThr`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:269,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:268,columnNumber:13},this),!!v&&o(I,{item:!0,children:o(Y,{size:"small",color:"info",startIcon:o(C1,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:282,columnNumber:28},this),onClick:()=>u(!l),children:a`tcGraph.downloadData`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:279,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:278,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:219,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:218,columnNumber:7},this),s&&!!s.data.length&&o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:289,columnNumber:48},this),s&&!!s.data.length&&d&&o(ae,{children:[o(Al,{in:!!v&&l,children:o(H,{sx:{mb:2},children:o(ae,{children:[o(W,{children:"Min Data"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:295,columnNumber:17},this),o(sh,{value:JSON.stringify(v==null?void 0:v.minimum)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:296,columnNumber:17},this),o(W,{children:"All Data"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:299,columnNumber:17},this),o(sh,{value:JSON.stringify(v==null?void 0:v.allData)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:300,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:294,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:293,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:292,columnNumber:11},this),o(Oq,{displayData:d,plotNode:s.plotNode,valueNode:s.valueNode,showMin:c},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:306,columnNumber:11},this),s.data.length>1&&o(vp,{marks:!0,value:[g,y],onChange:N,onChangeCommitted:N,min:k,max:T,step:(T-k)/20,valueLabelDisplay:"auto",valueLabelFormat:A=>{const z=s.plotNode.info&&Mt(s.plotNode.info);return Nc((z==null?void 0:z.unit)==="%"?A/100:A,z==null?void 0:z.unit)},sx:{ml:"6%",width:"93%"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:313,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:291,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:217,columnNumber:5},this)}const my="#8884d8",py="cyan",fy="#46a046",hy="#ff7300";function Oq({displayData:e,plotNode:t,valueNode:i,showMin:r}){const{graphBuilds:a,setGraphBuilds:n}=x.useContext(os),{t:s}=pe("page_character_optimize"),[l,u]=x.useState(),c=x.useCallback(h=>{n([...a??[],h]),u(void 0)},[n,a]),m=x.useCallback(h=>{h&&h.chartX&&h.chartY&&u(zq(h.chartX,h.chartY,20,e))},[u,e]),p=t.info&&Mt(t.info),f=i.info&&Mt(i.info),b=p&&dy(p,s),g=f&&dy(f,s);return o(SN,{width:"100%",height:600,children:o(u0,{id:"chartContainer",data:e,onClick:m,style:{cursor:"pointer"},children:[o(Wf,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:387,columnNumber:9},this),o(Js,{dataKey:"x",scale:"linear",unit:p==null?void 0:p.unit,domain:["auto","auto"],tick:{fill:"white"},type:"number",tickFormatter:h=>h>1e4?h.toFixed():h.toFixed(1),label:o(Ye,{fill:"white",dy:10,children:b},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:397,columnNumber:13},this),height:50},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:388,columnNumber:9},this),o(Zs,{name:"DMG",domain:["auto","auto"],unit:f==null?void 0:f.unit,allowDecimals:!1,tick:{fill:"white"},type:"number",label:o(Ye,{fill:"white",angle:-90,dx:-40,children:g},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:411,columnNumber:13},this),width:100},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:403,columnNumber:9},this),o(Jr,{content:o(Tq,{xLabel:b??"",xUnit:p==null?void 0:p.unit,yLabel:g??"",yUnit:f==null?void 0:f.unit,selectedPoint:l,setSelectedPoint:u,addBuildToList:c},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:419,columnNumber:13},this),trigger:"click",wrapperStyle:{pointerEvents:"auto",cursor:"auto"},cursor:!1},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:417,columnNumber:9},this),o(na,{payload:[...r?[{id:"min",value:s`tcGraph.statReqThr`,type:"line",color:hy}]:[],{id:"trueY",value:s`tcGraph.generatedBuilds`,type:"circle",color:my},{id:"highlighted",value:s`tcGraph.highlightedBuilds`,type:"square",color:py},{id:"current",value:s`tcGraph.currentBuild`,type:"diamond",color:fy}]},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:433,columnNumber:9},this),r&&o(oa,{dataKey:"min",stroke:hy,type:"stepBefore",connectNulls:!0,strokeWidth:2,isAnimationActive:!1,dot:!1,activeDot:!1},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:466,columnNumber:11},this),o(ra,{dataKey:"trueY",isAnimationActive:!1,shape:o(uc,{selectedPoint:l,colorUnselected:my},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:481,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:477,columnNumber:9},this),o(ra,{dataKey:"highlighted",isAnimationActive:!1,shape:o(uc,{shape:"square",selectedPoint:l,colorUnselected:py},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:491,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:487,columnNumber:9},this),o(ra,{dataKey:"current",isAnimationActive:!1,shape:o(uc,{shape:"diamond",selectedPoint:l,colorUnselected:fy},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:502,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:498,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:381,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ChartCard/index.tsx",lineNumber:380,columnNumber:5},this)}function zq(e,t,i,r){const a=Array.from(document.querySelectorAll(".custom-dot")).reduce((s,l)=>{const{chartX:u,chartY:c}=s.dataset,m=Math.sqrt((e-u)**2+(t-c)**2),{chartX:p,chartY:f}=l.dataset,b=Math.sqrt((e-p)**2+(t-f)**2);return m<=b?s:l}).dataset;return Math.sqrt((e-a.chartX)**2+(t-a.chartY)**2)<i?r.find(s=>s.x===+a.xValue&&s.y===+a.yValue):void 0}function dy(e,t){const{name:i,textSuffix:r}=e;return typeof i=="string"?i:`${t(`${i==null?void 0:i.props.ns}:${i==null?void 0:i.props.key18}`)}${r?` ${r}`:""}`}function Dq({disabled:e=!1,excludedTotal:t}){const{t:i}=pe("page_character_optimize"),r=oe(),{teamChar:{optConfigId:a}}=x.useContext(Se),{artExclusion:n,useExcludedArts:s}=yi(a),[l,u,c]=He(!1),m=n.length,[p,f,b]=He(!1),g=x.useCallback(C=>{r.optConfigs.set(a,{artExclusion:[...n,C],useExcludedArts:!1})},[r,a,n]),h=x.useCallback(C=>{r.optConfigs.set(a,{artExclusion:n.filter(N=>N!==C),useExcludedArts:!1})},[r,a,n]),y=x.useCallback(()=>r.optConfigs.set(a,{useExcludedArts:!s}),[r,a,s]);return o(Ce,{children:[o(bt,{open:l,onClose:c,containerProps:{maxWidth:"xl"},children:o(H,{children:[o(Ve,{title:o(M,{display:"flex",gap:1,alignItems:"center",children:[o(W,{variant:"h6",children:i`excludeArt.title_exclude`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:109,columnNumber:17},this),o(ua,{title:o(W,{children:i`excludeArt.title_tooltip`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:111,columnNumber:26},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:110,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:108,columnNumber:15},this),action:o(Le,{onClick:c,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:117,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:116,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:106,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:122,columnNumber:11},this),o(ae,{children:[o(Aq,{show:p,onClose:b,onSelect:g,artExclusion:n},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:124,columnNumber:13},this),o(Y,{fullWidth:!0,onClick:f,color:"info",sx:{mb:1},startIcon:o($a,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:135,columnNumber:26},this),children:i`excludeArt.addExc`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:130,columnNumber:13},this),!!m&&o(H,{bgt:"light",sx:{mb:1},children:o(W,{textAlign:"center",children:i`excludeArt.deSelectExc`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:139,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:138,columnNumber:15},this),o(I,{container:!0,columns:{xs:3,md:5,lg:6,xl:8},spacing:1,children:n.map(C=>o(I,{item:!0,xs:1,children:o(H,{bgt:"light",sx:{height:"100%",maxHeight:"8em"},children:o(Gl,{artifactId:C,slotKey:"flower",onClick:()=>h(C),showLocation:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:153,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:149,columnNumber:19},this)},C,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:148,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:123,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:105,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:100,columnNumber:7},this),o(gi,{sx:{display:"flex",width:"100%"},children:[o(Y,{onClick:y,disabled:e||!m,startIcon:s?o(gp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:173,columnNumber:31},this):o(dp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:173,columnNumber:62},this),color:s?"secondary":"success",sx:{flexGrow:1},children:o(M,{sx:{display:"flex",gap:1},children:[o(M,{children:i("excludeArt.button_txt")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:179,columnNumber:13},this),o(ce,{sx:{whiteSpace:"normal"},color:m?s?"warning":"primary":"secondary",children:s?o(Oe,{t:i,i18nKey:"excludeArt.usingNum",children:["Using ",{totalStr:t}," excluded artifacts"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:191,columnNumber:17},this):o(Oe,{t:i,i18nKey:"excludeArt.excNum",count:m,children:[{count:m}," artifacts are excluded"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:195,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:178,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:169,columnNumber:9},this),o(Y,{color:"info",onClick:u,disabled:e,sx:{flexShrink:1},children:o(Op,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:208,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:202,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:168,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:98,columnNumber:5},this)}const _q={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3},wq=(e,t)=>({...e,...t});function Aq({onSelect:e,show:t,onClose:i,artExclusion:r}){const{t:a}=pe("page_character_optimize"),n=oe(),[s,l]=x.useReducer(wq,N1()),[u,c]=ir();x.useEffect(()=>n.arts.followAny(c),[n,c]);const m=Jy(),p=x.useMemo(()=>x1(),[]),f=x.useMemo(()=>{const y=Qy(s,p);return u&&n.arts.values.filter(y).map(C=>C.id).filter(C=>!r.includes(C))},[u,n,p,s,r]),{numShow:b,setTriggerElement:g}=T1(_q[m],f.length),h=x.useMemo(()=>f.slice(0,b),[f,b]);return o(bt,{open:t,onClose:i,containerProps:{maxWidth:"xl"},children:o(H,{children:[o(Ve,{title:a`excludeArt.selExc`,action:o(Le,{onClick:i,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:273,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:272,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:269,columnNumber:9},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:277,columnNumber:9},this),o(ae,{children:[o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:"100%",height:200},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:281,columnNumber:15},this),children:o(k1,{filterOption:s,filterOptionDispatch:l,filteredIds:f},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:284,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:279,columnNumber:11},this),o(M,{mt:1,children:[o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:"100%",height:300},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:293,columnNumber:17},this),children:o(I,{container:!0,spacing:1,columns:{xs:2,md:3,lg:4},children:h.map(y=>o(I,{item:!0,xs:1,children:o(Zy,{artifactId:y,onClick:()=>{e(y),i()}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:299,columnNumber:21},this)},y,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:298,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:296,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:291,columnNumber:13},this),f.length!==h.length&&o(Ke,{ref:y=>{y&&g(y)},sx:{borderRadius:1,mt:1},variant:"rectangular",width:"100%",height:100},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:311,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:290,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:278,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:268,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/ExcludeArt.tsx",lineNumber:263,columnNumber:5},this)}const mc=["sands","goblet","circlet"];function c0({disabled:e=!1,filteredArtIdMap:t}){const{t:i}=pe("artifact"),{teamChar:{optConfigId:r}}=x.useContext(Se),{mainStatKeys:a}=yi(r),n=oe(),{mainStatSlotTots:s,slotTots:l}=x.useMemo(()=>{const u={flowerMainStatTots:Br.flower,plumeMainStatTots:Br.plume,sandsMainStatTots:Br.sands,gobletMainStatTots:Br.goblet,circletMainStatTots:Br.circlet,slotTots:mc},c=Ms(u,m=>n.arts.entries.forEach(([p,f])=>{const{slotKey:b,mainStatKey:g}=f;mc.includes(b)&&(m.slotTots[b].total++,t[p]&&m.slotTots[b].current++),m[`${b}MainStatTots`][g].total++,t[p]&&m[`${b}MainStatTots`][g].current++}));return{mainStatSlotTots:{flower:c.flowerMainStatTots,plume:c.plumeMainStatTots,sands:c.sandsMainStatTots,goblet:c.gobletMainStatTots,circlet:c.circletMainStatTots},slotTots:c.slotTots}},[n,t]);return o(M,{display:"flex",flexDirection:"column",children:[o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:91,columnNumber:7},this),o(M,{display:"flex",children:[o(ae,{sx:{flexGrow:1},children:o(M,{sx:{display:"flex",gap:1,alignItems:"center"},children:[o(ht,{placement:"top",title:o(W,{children:i("slotName.flower")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:97,columnNumber:22},this),children:o(S1,{fontSize:"inherit"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:99,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:95,columnNumber:13},this),o(M,{flexGrow:1,children:o(ce,{color:"info",children:[o(O1,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:103,columnNumber:17},this)," ",s.flower.hp]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:102,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:94,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:93,columnNumber:9},this),o(be,{orientation:"vertical",flexItem:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:108,columnNumber:9},this),o(ae,{sx:{flexGrow:1},children:o(M,{sx:{display:"flex",gap:1,alignItems:"center"},children:[o(ht,{placement:"top",title:o(W,{children:i("slotName.plume")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:113,columnNumber:22},this),children:o(z1,{fontSize:"inherit"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:115,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:111,columnNumber:13},this),o(M,{flexGrow:1,children:o(ce,{color:"info",children:[o(D1,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:119,columnNumber:17},this)," ",s.plume.atk]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:118,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:117,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:110,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:109,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:92,columnNumber:7},this),mc.map(u=>{const c=a[u],m=Br[u],p=_1([...m]);return o(M,{children:[o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:131,columnNumber:13},this),o(ae,{sx:{pt:1,pb:1},children:[o(M,{sx:{display:"flex",gap:1,alignItems:"center",pb:1},children:[o(ht,{placement:"top",title:o(W,{children:i(`slotName.${u}`)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:138,columnNumber:26},this),children:o(M,{lineHeight:0,children:o(Us,{slotKey:u,iconProps:{fontSize:"inherit"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:141,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:140,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:136,columnNumber:17},this),o(M,{flexGrow:1,children:o(ce,{color:"info",children:l[u]},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:148,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:133,columnNumber:15},this),o(I,{container:!0,spacing:1,children:m.map((f,b)=>{const g=w1.find(y=>f.includes(y)),h=c.includes(f)?g??"success":"secondary";return o(I,{item:!0,flexGrow:1,xs:b<3&&u!=="goblet"||u==="goblet"?4:void 0,children:o(ht,{placement:"top",title:o(W,{children:o("strong",{children:o(ev,{statKey:f},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:175,columnNumber:31},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:174,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:173,columnNumber:27},this),disableInteractive:!0,children:o(Y,{fullWidth:!0,size:"small",color:h,sx:{height:"100%",pointerEvents:e?"none":void 0,cursor:e?"none":void 0},startIcon:o(la,{statKey:f},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:190,columnNumber:38},this),onClick:()=>n.optConfigs.set(r,{mainStatKeys:{...a,[u]:p(c,f)}}),children:s[u][f]},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:181,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:170,columnNumber:23},this)},f,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:160,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:151,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:132,columnNumber:13},this)]},u,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:130,columnNumber:11},this)})]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/MainStatSelectionCard.tsx",lineNumber:90,columnNumber:5},this)}const m0=x.memo(function({characterKey:t}){return o(H,{bgt:"light",children:o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:"100%",height:600},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptCharacterCard.tsx",lineNumber:20,columnNumber:19},this),children:[o(tv,{characterKey:t,children:o(iv,{characterKey:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptCharacterCard.tsx",lineNumber:23,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptCharacterCard.tsx",lineNumber:22,columnNumber:9},this),o(M,{sx:{p:1,width:"100%",display:"flex",flexDirection:"column",gap:1},children:o(rv,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptCharacterCard.tsx",lineNumber:34,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptCharacterCard.tsx",lineNumber:25,columnNumber:9},this),o(A1,{bgt:"light"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptCharacterCard.tsx",lineNumber:36,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptCharacterCard.tsx",lineNumber:19,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptCharacterCard.tsx",lineNumber:18,columnNumber:5},this)});function Uq({statFilters:e,setStatFilters:t,disabled:i=!1}){const r=x.useCallback((l,u,c)=>{const m={...e},p=JSON.stringify(u),f=u?[...e[p]]:void 0,b=JSON.stringify(l),g=[...e[b]??[]];c!==void 0&&f?g.push(f[c]):g.push({value:0,disabled:!1}),m[b]=g,c!==void 0&&f&&(f.splice(c,1),f.length?m[p]=f:delete m[p]),t({...m})},[t,e]),a=x.useCallback((l,u)=>{const c={...e},m=JSON.stringify(l),p=[...e[m]];p.splice(u,1),p.length?c[m]=p:delete c[m],t({...c})},[t,e]),n=x.useCallback((l,u,c)=>{const m={...e},p=JSON.stringify(l),f=[...e[p]];f[u]={...f[u],value:c},m[p]=f,t({...m})},[t,e]),s=x.useCallback((l,u,c)=>{const m={...e},p=JSON.stringify(l),f=[...e[p]];f[u]={...f[u],disabled:c},m[p]=f,t({...m})},[t,e]);return o(Ce,{children:[Object.entries(e).flatMap(([l,u])=>u==null?void 0:u.map((c,m)=>o(gy,{path:JSON.parse(l),setting:c,index:m,setTarget:r,delTarget:a,setValue:n,setDisabled:s,disabled:i},l+m,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetEditorList.tsx",lineNumber:94,columnNumber:11},this))),o(gy,{setTarget:r,delTarget:a,setValue:n,setDisabled:s,disabled:i},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetEditorList.tsx",lineNumber:107,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetEditorList.tsx",lineNumber:91,columnNumber:5},this)}function gy({path:e,setting:t,index:i,setTarget:r,delTarget:a,setValue:n,setDisabled:s,disabled:l}){const{t:u}=pe("page_character_optimize"),{data:c}=x.useContext(he),m=x.useCallback(h=>e&&i!==void 0&&n(e,i,h??0),[n,e,i]),p={p:1,flexBasis:30,flexGrow:0,flexShrink:0},f=Ut(c.getDisplay(),e??[]),b=(f==null?void 0:f.info)&&Mt(f==null?void 0:f.info),g=(b==null?void 0:b.unit)==="%";return o(gi,{sx:{"& .MuiButtonGroup-grouped":{minWidth:24},width:"100%"},children:[!!t&&!!e&&i!==void 0&&o(Y,{sx:p,color:t.disabled?"secondary":"success",onClick:()=>s(e,i,!t.disabled),disabled:l,children:t.disabled?o(ns,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetEditorList.tsx",lineNumber:166,columnNumber:31},this):o(ss,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetEditorList.tsx",lineNumber:166,columnNumber:58},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetEditorList.tsx",lineNumber:160,columnNumber:9},this),o(ca,{showEmptyTargets:!0,optimizationTarget:e,setTarget:h=>r(h,e,i),defaultText:u("targetSelector.selectBuildTarget"),disabled:l,targetSelectorModalProps:{excludeSections:["custom","bounsStats","character","teamBuff"]}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetEditorList.tsx",lineNumber:169,columnNumber:7},this),o(ws,{sx:{flexBasis:150,flexGrow:1},children:o(fi,{float:!0,disabled:!e||l,value:t==null?void 0:t.value,placeholder:"Stat Value",onChange:m,sx:{px:1},inputProps:{sx:{textAlign:"right"}},endAdornment:g?"%":void 0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetEditorList.tsx",lineNumber:180,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetEditorList.tsx",lineNumber:179,columnNumber:7},this),!!e&&i!==void 0&&o(Y,{sx:p,color:"error",onClick:()=>a(e,i),disabled:l,children:o(qv,{fontSize:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetEditorList.tsx",lineNumber:198,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetEditorList.tsx",lineNumber:192,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/OptimizationTargetEditorList.tsx",lineNumber:156,columnNumber:5},this)}function p0({disabled:e=!1}){const{t}=pe("page_character_optimize"),{teamChar:{optConfigId:i}}=x.useContext(Se),{statFilters:r}=yi(i),a=oe(),n=x.useCallback(s=>a.optConfigs.set(i,{statFilters:s}),[a,i]);return o(M,{children:o(H,{bgt:"light",children:[o(ae,{sx:{display:"flex",gap:1,justifyContent:"space-between",flexDirection:"column"},children:o(M,{display:"flex",justifyContent:"space-between",children:[o(W,{sx:{fontWeight:"bold"},children:t`constraintFilter.title`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/StatFilterCard.tsx",lineNumber:42,columnNumber:13},this),o(ua,{title:o(W,{children:t`constraintFilter.tooltip`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/StatFilterCard.tsx",lineNumber:46,columnNumber:22},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/StatFilterCard.tsx",lineNumber:45,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/StatFilterCard.tsx",lineNumber:41,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/StatFilterCard.tsx",lineNumber:33,columnNumber:9},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/StatFilterCard.tsx",lineNumber:50,columnNumber:9},this),o(M,{display:"flex",flexDirection:"column",gap:.5,children:o(Uq,{statFilters:r,setStatFilters:n,disabled:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/StatFilterCard.tsx",lineNumber:52,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/StatFilterCard.tsx",lineNumber:51,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/StatFilterCard.tsx",lineNumber:32,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/StatFilterCard.tsx",lineNumber:31,columnNumber:5},this)}function Gq({disabled:e=!1,allowListTotal:t}){const{t:i}=pe("page_character_optimize"),{t:r}=pe("page_character"),{teamChar:{optConfigId:a}}=x.useContext(Se),{character:{key:n}}=x.useContext(Je),{silly:s}=x.useContext(av),{excludedLocations:l}=yi(a),u=oe(),[c,m,p]=He(!1),[f,b]=ir(),g=x.useDeferredValue(f),[h,y]=x.useState(""),C=x.useDeferredValue(h),[N,d]=x.useState([...oh]),v=x.useDeferredValue(N),[k,T]=x.useState([...lh]),S=x.useDeferredValue(k),[O,_]=x.useState([...uh]),A=x.useDeferredValue(O),z=x.useMemo(()=>g&&Object.fromEntries(Array.from(new Set(Object.entries(u.chars.data).filter(([ne])=>at(ne)!==at(n)).filter(([ne])=>Qy({element:v,weaponType:S,rarity:A,name:C},U1(u,s))(ne))))),[g,u,n,v,S,A,C,s]),D=x.useMemo(()=>g&&new Set(Object.keys(u.chars.data).filter(ne=>at(ne)!==at(n)).map(at)).size,[n,u.chars.data,g]),U=Array.from(new Set(Object.entries(z).sort(([ne,ie],[R,Z])=>{const[le,E]=[-1,1],ge=u.charMeta.get(ne).favorite,ue=u.charMeta.get(R).favorite;if(ge&&!ue)return le;if(ue&&!ge)return E;const re=Object.values(ie.equippedArtifacts).filter(_e=>_e).length,xe=Object.values(Z.equippedArtifacts).filter(_e=>_e).length;return re>xe?le:xe>re?E:ne.localeCompare(R)}).map(([ne])=>at(ne)))),{elementTotals:P,weaponTypeTotals:$,characterRarityTotals:B,locListTotals:q}=x.useMemo(()=>{const ne={elementTotals:[...oh],weaponTypeTotals:[...lh],characterRarityTotals:[...uh],locListTotals:["allowed","excluded"]};let ie=!1;return Ms(ne,R=>Object.entries(u.chars.data).filter(([Z])=>at(Z)!==at(n)).forEach(([Z])=>{const le=bn(Z),E=sr(Z),ge=E.weaponType,ue=E.rarity;if(R.elementTotals[le].total++,z[Z]&&R.elementTotals[le].current++,at(Z)==="Traveler"){if(!z[Z]&&U.includes("Traveler")){if(R.elementTotals[le].current++,ie)return;R.weaponTypeTotals[ge].current++,R.characterRarityTotals[ue].current++}ie=!0}R.weaponTypeTotals[ge].total++,z[Z]&&R.weaponTypeTotals[ge].current++,R.characterRarityTotals[ue].total++,z[Z]&&R.characterRarityTotals[ue].current++;const re=at(Z);U.includes(re)&&(R.locListTotals.allowed.total++,R.locListTotals.excluded.total++,l.includes(re)?R.locListTotals.excluded.current++:R.locListTotals.allowed.current++)}))},[z,n,u,l,U]);x.useEffect(()=>u.charMeta.followAny(ne=>b()),[b,u]),x.useEffect(()=>u.chars.followAny(ne=>b()),[b,u]);const[j,F]=x.useState(!1),K=x.useCallback(()=>u.optConfigs.set(a,{excludedLocations:l.filter(ne=>!U.includes(ne))}),[u,a,l,U]),J=x.useCallback(()=>u.optConfigs.set(a,{excludedLocations:Array.from(new Set(l.concat(U)))}),[u,a,l,U]),V=x.useCallback(ne=>{const ie=[...ne],R=ie.filter(Z=>!l.includes(Z)).concat(l.filter(Z=>!ie.includes(Z)));u.optConfigs.set(a,{excludedLocations:R})},[u,a,l]),Q=x.useCallback(()=>F(!0),[]),se=D,de=se-l.length,ye=de===se?de:`${de}/${se}`;return o(M,{display:"flex",gap:1,children:[o(bt,{open:c,onClose:p,containerProps:{maxWidth:"xl"},draggable:!1,onMouseUp:Q,children:o(H,{children:[o(Ve,{title:o(M,{display:"flex",gap:1,alignItems:"center",children:[o(W,{variant:"h6",children:i`excludeChar.title`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:313,columnNumber:17},this),o(ua,{title:o(W,{children:i`excludeChar.tooltip`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:315,columnNumber:26},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:314,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:312,columnNumber:15},this),action:o(Le,{onClick:p,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:321,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:320,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:310,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:325,columnNumber:11},this),o(ae,{sx:{pb:0},children:o(st,{gap:1,children:o(M,{display:"flex",gap:1,flexWrap:"wrap",children:[o(G1,{sx:{height:"100%"},onChange:T,value:S,totals:$,size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:331,columnNumber:17},this),o(E1,{sx:{height:"100%"},onChange:d,value:v,totals:P,size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:338,columnNumber:17},this),o(M1,{sx:{height:"100%"},onChange:_,value:A,totals:B,size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:345,columnNumber:17},this),o(Ai,{autoFocus:!0,value:h,onChange:ne=>y(ne.target.value),label:r("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:352,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:330,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:328,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:327,columnNumber:11},this),o(ae,{children:[o(I,{container:!0,pb:1,gap:1,flexWrap:"nowrap",children:[o(I,{item:!0,xs:6,children:o(Y,{color:"success",fullWidth:!0,onClick:K,children:[i`excludeChar.modal.allow_all`,o(ce,{sx:{ml:1},children:o("strong",{children:q.allowed},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:375,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:374,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:372,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:371,columnNumber:15},this),o(I,{item:!0,xs:6,children:o(Y,{fullWidth:!0,color:"error",onClick:J,children:[i`excludeChar.modal.disallow_All`,o(ce,{sx:{ml:1},children:o("strong",{children:q.excluded},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:383,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:382,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:380,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:379,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:370,columnNumber:13},this),o(Eq,{locList:U,excludedLocations:l,mouseUpDetected:j,setMouseUpDetected:F,toggleList:V},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:388,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:369,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:308,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:301,columnNumber:7},this),o(H,{bgt:"light",sx:{display:"flex",width:"100%"},children:[o(ae,{sx:{flexGrow:1},children:o(st,{spacing:1,children:[o(W,{children:o("strong",{children:i("excludeChar.title")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:404,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:403,columnNumber:13},this),o(W,{children:[i("excludeChar.chars")," ",o(ce,{color:"success",children:[ye," ",o(Zt,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:409,columnNumber:28},this),i("artSetConfig.allowed")]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:408,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:406,columnNumber:13},this),o(W,{children:[i("excludeChar.artis")," ",o(ce,{color:"success",children:[t," ",o(Zt,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:416,columnNumber:34},this),i("artSetConfig.allowed")]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:415,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:413,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:402,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:401,columnNumber:9},this),o(Y,{sx:{borderRadius:0,flexShrink:1,minWidth:40},onClick:m,disabled:e,color:"info",children:o(Op,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:428,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:422,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:400,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:299,columnNumber:5},this)}function Eq({locList:e,excludedLocations:t,mouseUpDetected:i,setMouseUpDetected:r,toggleList:a}){const[n,s]=x.useState(new Set),[l,u]=x.useState();return x.useEffect(()=>{i&&(r(!1),n.size>0&&(a(n),s(new Set),u(void 0)))},[n,s,r,i,a]),o(I,{container:!0,spacing:1,columns:{xs:6,sm:7,md:10,lg:12,xl:16},children:e.map(c=>o(I,{item:!0,xs:1,children:o(Mq,{locKey:c,charList:n,charListMode:l,setCharList:s,setCharListMode:u,selected:!t.includes(c)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:468,columnNumber:11},this)},c,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:467,columnNumber:9},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:461,columnNumber:5},this)}function Mq({locKey:e,selected:t,charList:i,charListMode:r,setCharList:a,setCharListMode:n}){const s=oe(),l=s.chars.get(s.chars.LocationToCharacterKey(e)),u=x.useCallback(g=>g.buttons===1&&(r===0&&!t||r===1&&t)&&a(new Set([...i]).add(e)),[r,t,a,i,e]),c=x.useCallback(()=>{n(t?1:0),a(new Set([...i]).add(e))},[t,n,a,i,e]),m=t&&!(r===1&&i.has(e))||r===0&&i.has(e),p={opacity:m?void 0:.6,borderColor:m?"rgb(100,200,100)":"rgb(200,100,100)",borderWidth:"3px",borderStyle:"solid",borderRadius:"8px"},f=x.useMemo(()=>o(M,{fontSize:"0.85em",display:"flex",justifyContent:"space-between",p:.3,children:Ze.map(g=>o(Us,{slotKey:g,iconProps:{fontSize:"inherit",sx:{opacity:l!=null&&l.equippedArtifacts[g]?void 0:.5}}},g,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:540,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:533,columnNumber:7},this),[l==null?void 0:l.equippedArtifacts]),b=s.chars.LocationToCharacterKey(e);return o(H,{bgt:"light",sx:p,children:[o(gT,{characterKey:b,onMouseDown:c,onMouseEnter:u,hoverChild:o(M,{sx:{width:300,m:-1},children:o(P1,{hideStats:!0,characterKey:b},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:562,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:561,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:556,columnNumber:7},this),f]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseEquipped.tsx",lineNumber:555,columnNumber:5},this)}const Pq=x.memo(function({totalTally:t,useTeammateBuild:i,disabled:r=!1}){const a=oe(),{teamCharId:n,teamChar:{optConfigId:s},team:{loadoutData:l}}=x.useContext(Se);return o(Cp,{arrow:!0,title:o(M,{children:o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:400,height:400},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:41,columnNumber:15},this),children:o(M,{sx:{display:"flex",flexDirection:"column",gap:1},children:l.filter(Tr).filter(u=>u.teamCharId!==n).map(u=>{var p;const c=(p=a.teamChars.get(u==null?void 0:u.teamCharId))==null?void 0:p.key,m=u.buildType==="tc"?void 0:a.teams.getLoadoutArtifacts(u);return o(H,{sx:{p:1,display:"flex",flexDirection:"column",gap:1},children:[o(M,{display:"flex",alignItems:"center",gap:1,children:[c&&o(Il,{characterKey:c},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:76,columnNumber:27},this),o(W,{children:a.teams.getActiveBuildName(u)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:78,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:74,columnNumber:23},this),m?o(I,{container:!0,columns:5,spacing:1,children:Object.entries(m).map(([f,b])=>o(I,{item:!0,xs:1,children:o(yp,{artifactObj:b,slotKey:f},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:86,columnNumber:31},this)},f,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:85,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:83,columnNumber:25},this):o(W,{children:o(ce,{sx:{width:"100%"},children:"TC build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:95,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:94,columnNumber:25},this)]},u.teamCharId,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:65,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:44,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:39,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:38,columnNumber:9},this),children:o(M,{children:o(Y,{fullWidth:!0,startIcon:i?o(dp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:111,columnNumber:32},this):o(gp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:111,columnNumber:51},this),endIcon:o(gr,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:113,columnNumber:20},this),color:i?"success":"secondary",onClick:()=>{a.optConfigs.set(s,{useTeammateBuild:!i})},disabled:r,children:o(M,{display:"flex",gap:1,children:[o("span",{children:"Use artifacts in teammates' active builds"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:124,columnNumber:13},this),o(Si,{label:t,size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:125,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:122,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:108,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:107,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/Components/UseTeammateArt.tsx",lineNumber:35,columnNumber:5},this)}),$q=new Audio("assets/notification.mp3");function Iq(){const{t:e}=pe("page_character_optimize"),{loadoutDatum:t,teamCharId:i,teamChar:{optConfigId:r,key:a},teamId:n}=x.useContext(Se),s=oe(),{setChartData:l,graphBuilds:u,setGraphBuilds:c}=x.useContext(os),{gender:m}=$t(),p=s.teams.getActiveTeamChar(n).key,[f,b]=x.useState(!1),g=x.useRef(!1);x.useEffect(()=>{g.current=f},[f]);const[h,y]=x.useState({type:"inactive",tested:0,failed:0,skipped:0,total:0}),C=h.type!=="inactive",[N,d]=ir(),[v,k,T]=Xk();x.useEffect(()=>{y({type:"inactive",tested:0,failed:0,skipped:0,total:0})},[a]);const S=x.useMemo(()=>!s.arts.values.length,[s]),O=yi(r),{plotBase:_,optimizationTarget:A,mainStatAssumptionLevel:z,allowPartial:D,maxBuildsToShow:U,levelLow:P,levelHigh:$,builds:B,buildDate:q,useTeammateBuild:j}=O,F=vh(B),K=vh(A),{data:J}=x.useContext(he),V=jp(),Q=K&&Ut(J==null?void 0:J.getDisplay(),K),se=["xs","sm"].includes(Jy());x.useEffect(()=>s.arts.followAny(d),[d,s]);const de=x.useDeferredValue(N),ye=x.useDeferredValue(O),ne=Wk(),ie=x.useMemo(()=>{const{mainStatKeys:Te,excludedLocations:ct,artExclusion:It,levelLow:da,levelHigh:Er,useExcludedArts:Mr,useTeammateBuild:ga}=de&&ye;return s.arts.values.filter(Rt=>{if(!Mr&&It.includes(Rt.id)||!ga&&ne.includes(Rt.id)||Rt.level<da||Rt.level>Er)return!1;const Ri=Te[Rt.slotKey];if(Ri!=null&&Ri.length&&!Ri.includes(Rt.mainStatKey))return!1;const ai=at(a);return!(Rt.location&&Rt.location!==ai&&ct.includes(Rt.location))})},[de,ye,s,ne,a]),R=x.useMemo(()=>ot(ie.map(({id:Te})=>Te),Te=>!0),[ie]),{levelTotal:Z,allowListTotal:le,excludedTotal:E,teammateBuildTotal:ge}=x.useMemo(()=>Ms({levelTotal:["in"],allowListTotal:["in"],excludedTotal:["in"],teammateBuildTotal:["in"]},ct=>s.arts.entries.forEach(([It,da])=>{const{level:Er,location:Mr}=da,{levelLow:ga,levelHigh:Rt,excludedLocations:Ri,artExclusion:ai}=de&&ye;Er>=ga&&Er<=Rt&&(ct.levelTotal.in.total++,R[It]&&ct.levelTotal.in.current++);const wn=at(a);Mr&&Mr!==wn&&!Ri.includes(Mr)&&(ct.allowListTotal.in.total++,R[It]&&ct.allowListTotal.in.current++),ai.includes(It)&&(ct.excludedTotal.in.total++,R[It]&&ct.excludedTotal.in.current++),ne.includes(It)&&(ct.teammateBuildTotal.in.total++,R[It]&&ct.teammateBuildTotal.in.current++)})),[a,s,de,ye,R,ne]),ue=x.useRef(!0);x.useEffect(()=>{const Te=()=>ue.current=!0,ct=()=>ue.current=!1;return window.addEventListener("focus",Te),window.addEventListener("blur",ct),()=>{window.removeEventListener("focus",Te),window.removeEventListener("blur",ct)}},[ue]);const re=x.useRef(()=>{});x.useEffect(()=>()=>re.current(),[]);const xe=Vk(),_e=x.useCallback(async()=>{var Zf;const{artSetExclusion:Te,plotBase:ct,statFilters:It,optimizationTarget:da,mainStatAssumptionLevel:Er,allowPartial:Mr,maxBuildsToShow:ga}=O;if(!a||!da)return;const Rt=vO(ie,Er,Mr),Ri=ov(s,n,i,Er,[]);if(!Ri)return;const ai=(Zf=lv(Ri.teamData,m,p)[a])==null?void 0:Zf.target.data[0];if(!ai)return;Object.assign(ai,hp([ai,$p]));const wn=Ut(ai.display??{},da);if(!wn)return;const bu=wn,Vf=Object.entries(It).flatMap(([We,Ir])=>Ir.filter(Rr=>!Rr.disabled).map(Rr=>{const lr=Ut(ai.display??{},JSON.parse(We)),ji=(lr==null?void 0:lr.info)&&Mt(lr.info),jr=(ji==null?void 0:ji.unit)==="%"?Rr.value/100:Rr.value;return{value:lr,minimum:jr}})).filter(We=>We.value&&We.minimum>-1/0);l(void 0);const v0=new Promise(We=>re.current=We),Xf=[...Vf.map(We=>We.value),wn],Yf=[...Vf.map(We=>We.minimum),-1/0],Pr=ct&&Ut(ai.display??{},ct);Pr&&(Xf.push(Pr),Yf.push(-1/0));const yu=aa(Xf,ai,({path:[We]})=>We!=="dyn"),C0=Pr?yu.pop():void 0,N0=yu.pop(),x0={arts:Rt,optimizationTarget:N0,exclusion:Te,constraints:yu.map((We,Ir)=>({value:We,min:Yf[Ir]})),topN:ga,plotBase:C0},$r={tested:0,failed:0,skipped:0,total:0,startTime:performance.now()},T0=setInterval(()=>y({type:"active",...$r}),100),Jf=new Error;try{const We=new yO(x0,$r,v);v0.then(()=>We.cancel(Jf));const Ir=await We.solve();We.cancel(),re.current=()=>{};const Rr=s.teams.getLoadoutWeapon(t).id;if(Pr){const ji=gO(Ir.map(ni=>ni.plotData)),jr=Object.values(ji),An=bu.info&&Mt(bu.info),ba=Pr.info&&Mt(Pr.info);(An==null?void 0:An.unit)==="%"&&jr.forEach(ni=>ni&&(ni.value=ni.value*100)),(ba==null?void 0:ba.unit)==="%"&&jr.forEach(ni=>ni&&(ni.plot=(ni.plot??0)*100)),l({valueNode:bu,plotNode:Pr,data:jr.filter(Tr).map(({value:ni,plot:k0,artifactIds:S0})=>({artifactIds:ot(Ze,O0=>S0.find(z0=>{var Qf;return((Qf=s.arts.get(z0))==null?void 0:Qf.slotKey)===O0})),weaponId:Rr,value:ni,plot:k0}))})}const lr=dO(Ir.map(ji=>ji.builds),ga);console.log("Build Result",lr),s.optConfigs.set(r,{builds:lr.map(ji=>({artifactIds:ot(Ze,jr=>ji.artifactIds.find(An=>{var ba;return((ba=s.arts.get(An))==null?void 0:ba.slotKey)===jr})),weaponId:Rr})),buildDate:Date.now()}),setTimeout(()=>{Ir&&g.current&&($q.play(),ue.current||setTimeout(()=>window.alert(e`buildCompleted`),1))},100)}catch(We){We!==Jf&&(console.log("Failed to load worker"),console.log(We),We instanceof Error&&xe(We)),re.current(),$r.tested=0,$r.failed=0,$r.skipped=0,$r.total=0}finally{clearInterval(T0),y({type:"inactive",...$r,finishTime:performance.now()})}},[O,a,ie,s,n,i,m,p,l,v,t,r,e,xe]),St=o(Ul,{characterKey:a,gender:m},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:516,columnNumber:5},this),qt=x.useCallback(Te=>{s.optConfigs.set(r,{plotBase:Te}),l(void 0)},[s,r,l]),xt=o(ca,{optimizationTarget:K,setTarget:Te=>s.optConfigs.set(r,{optimizationTarget:Te}),disabled:!!C,targetSelectorModalProps:{excludeSections:["character","bounsStats","teamBuff"]}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:528,columnNumber:5},this),Ot=x.useCallback(Te=>o(Oe,{t:e,i18nKey:"graphBuildLabel",count:Te+1,children:["Graph #",{count:Te+1}]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:542,columnNumber:7},this),[e]),Ci=x.useCallback(Te=>`#${Te+1}`,[]);return o(M,{display:"flex",flexDirection:"column",gap:1,children:[S&&o(Fv,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:552,columnNumber:22},this),o(I,{container:!0,spacing:1,children:[o(I,{item:!0,xs:12,sm:6,lg:3,display:"flex",flexDirection:"column",gap:1,children:[o(m0,{characterKey:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:565,columnNumber:11},this),o(sC,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:566,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:556,columnNumber:9},this),o(I,{item:!0,xs:12,sm:6,lg:4,display:"flex",flexDirection:"column",gap:1,children:[o(Rq,{levelTotal:Z.in,levelLow:P,levelHigh:$,disabled:C,optConfigId:r},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:579,columnNumber:11},this),o(H,{bgt:"light",children:[o(ae,{children:o(W,{sx:{fontWeight:"bold"},children:e`mainStat.title`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:590,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:589,columnNumber:13},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:594,columnNumber:13},this),o(ae,{children:o(M,{display:"flex",alignItems:"center",gap:1,children:[o(PO,{mainStatAssumptionLevel:z,setmainStatAssumptionLevel:Te=>s.optConfigs.set(r,{mainStatAssumptionLevel:Te}),disabled:C},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:597,columnNumber:17},this),o(ua,{title:o(M,{children:[o(W,{variant:"h6",children:e`mainStat.levelAssTooltip.title`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:611,columnNumber:23},this),o(W,{children:e`mainStat.levelAssTooltip.desc`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:612,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:610,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:608,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:596,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:595,columnNumber:13},this),o(c0,{disabled:C,filteredArtIdMap:R},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:619,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:588,columnNumber:11},this),o(Dq,{disabled:C,excludedTotal:E.in},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:626,columnNumber:11},this),o(Pq,{totalTally:ge.in,useTeammateBuild:j,disabled:C},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:630,columnNumber:11},this),o(Y,{fullWidth:!0,startIcon:D?o(ss,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:637,columnNumber:39},this):o(ns,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:637,columnNumber:54},this),color:D?"success":"secondary",onClick:()=>s.optConfigs.set(r,{allowPartial:!D}),disabled:C,children:e`allowPartial`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:635,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:569,columnNumber:9},this),o(I,{item:!0,xs:12,sm:6,lg:5,display:"flex",flexDirection:"column",gap:1,children:[o(nC,{disabled:C},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:660,columnNumber:11},this),o(Gq,{disabled:C,allowListTotal:le.in},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:663,columnNumber:11},this),o(p0,{disabled:C},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:669,columnNumber:11},this),o(jl,{dataAdSlot:"7724855772",bgt:"light"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:670,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:651,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:554,columnNumber:7},this),se&&xt,o(gi,{children:[!se&&xt,o(dt,{disabled:C||!a||!K,title:o(Oe,{t:e,i18nKey:"build",count:U,children:[{count:U}," Builds"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:680,columnNumber:13},this),children:[o(Pe,{children:o(W,{variant:"caption",color:"info.main",children:e("buildDropdownDesc")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:686,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:685,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:690,columnNumber:11},this),I1.map(Te=>o(Pe,{onClick:()=>s.optConfigs.set(r,{maxBuildsToShow:Te}),children:o(Oe,{t:e,i18nKey:"build",count:Te,children:[{count:Te}," Builds"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:698,columnNumber:15},this)},Te,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:692,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:677,columnNumber:9},this),o(dt,{disabled:C||!a||!K,sx:{borderRadius:"4px 0px 0px 4px"},title:o(Oe,{t:e,i18nKey:"thread",count:v,children:[{count:v}," Threads"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:708,columnNumber:13},this),children:[o(Pe,{children:o(W,{variant:"caption",color:"info.main",children:e("threadDropdownDesc")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:714,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:713,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:718,columnNumber:11},this),Vi(1,k).reverse().map(Te=>o(Pe,{onClick:()=>T(Te),children:o(Oe,{t:e,i18nKey:"thread",count:Te,children:[{count:Te}," Threads"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:723,columnNumber:17},this)},Te,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:722,columnNumber:15},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:704,columnNumber:9},this),o(ht,{placement:"top",title:e`notifyTooltip`,children:o(M,{children:o(Y,{sx:{borderRadius:0},color:"warning",onClick:()=>b(Te=>!Te),disabled:!K,children:f?o(rC,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:738,columnNumber:17},this):o(aC,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:740,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:731,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:730,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:729,columnNumber:9},this),o(ht,{placement:"top",title:K?"":e("selectTargetFirst"),children:o("span",{children:o(Y,{disabled:!a||!K||!Q||Q.isEmpty,color:C?"error":"success",onClick:C?()=>re.current():_e,startIcon:C?o(qk,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:761,columnNumber:45},this):o(Kk,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:761,columnNumber:57},this),sx:{borderRadius:"0px 4px 4px 0px"},children:e(C?"generateButton.cancel":"generateButton.generateBuilds")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:750,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:749,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:745,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:675,columnNumber:7},this),!!a&&o(IO,{status:h,characterName:St,maxBuildsToShow:U},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:772,columnNumber:9},this),K&&o(M,{children:o(Sq,{disabled:C||!K,plotBase:_,setPlotBase:qt,showTooltip:!K},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:778,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:777,columnNumber:9},this),K&&o(H,{bgt:"light",children:o(ae,{children:[o(M,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o(W,{sx:{flexGrow:1},children:F?o("span",{children:["Showing"," ",o("strong",{children:F.length+(u?u.length:0)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:794,columnNumber:21},this)," ","build generated for ",St,"."," ",!!q&&o("span",{children:["Build generated on:"," ",o("strong",{children:new Date(q).toLocaleString()},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:801,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:799,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:792,columnNumber:19},this):o("span",{children:"Select a character to generate builds."},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:806,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:790,columnNumber:15},this),o(Y,{disabled:!F.length,color:"error",onClick:()=>{c(void 0),s.optConfigs.set(r,{builds:[],buildDate:0})},children:"Clear Builds"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:809,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:789,columnNumber:13},this),o(I,{container:!0,display:"flex",spacing:1,children:[o(I,{item:!0,children:o(Ps,{size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:825,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:824,columnNumber:15},this),o(I,{item:!0,children:o($s,{size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:828,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:827,columnNumber:15},this),o(I,{item:!0,flexGrow:1},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:830,columnNumber:15},this),o(I,{item:!0,children:o(Bp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:832,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:831,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:823,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:788,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:787,columnNumber:9},this),o(uv.Provider,{value:K,children:[u&&o(by,{builds:u,compareData:V,disabled:!!C,getLabel:Ot,setBuilds:c,mainStatAssumptionLevel:z},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:841,columnNumber:11},this),o(by,{builds:F,compareData:V,disabled:!!C,getLabel:Ci,mainStatAssumptionLevel:z},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:850,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:839,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:551,columnNumber:5},this)}const Rq=x.memo(function({levelTotal:t,levelLow:i,levelHigh:r,disabled:a,optConfigId:n}){const s=oe(),{t:l}=pe("page_character_optimize");return o(H,{bgt:"light",children:[o(ae,{sx:{display:"flex",gap:1},children:[o(W,{sx:{fontWeight:"bold"},children:l`levelFilter`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:880,columnNumber:9},this),o(ce,{color:"info",children:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:881,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:879,columnNumber:7},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:883,columnNumber:7},this),o(nv,{levelLow:i,levelHigh:r,setLow:u=>s.optConfigs.set(n,{levelLow:u}),setHigh:u=>s.optConfigs.set(n,{levelHigh:u}),setBoth:(u,c)=>s.optConfigs.set(n,{levelLow:u,levelHigh:c}),disabled:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:884,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:878,columnNumber:5},this)}),by=x.memo(function({builds:t,setBuilds:i,compareData:r,disabled:a,getLabel:n,mainStatAssumptionLevel:s}){const l=x.useCallback(m=>{if(i){const p=[...t];p.splice(m,1),i(p)}},[t,i]),u=x.useContext(Se),{teamChar:{key:c}}=u;return o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:"100%",height:600},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:937,columnNumber:17},this),children:t==null?void 0:t.map((m,p)=>o(Fq,{characterKey:c,build:m,compareData:r,mainStatAssumptionLevel:s,children:o(jq,{index:p,label:n(p),build:m,disabled:a,deleteBuild:i?l:void 0,mainStatAssumptionLevel:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:947,columnNumber:11},this)},p+Object.values(m.artifactIds).join(),!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:940,columnNumber:9},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:936,columnNumber:5},this)}),jq=x.memo(function({index:t,label:i,build:r,disabled:a,deleteBuild:n,mainStatAssumptionLevel:s}){const{t:l}=pe("page_character_optimize"),u=x.useMemo(()=>o(Ce,{children:[o(Bq,{build:r},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:979,columnNumber:9},this),o(Lq,{build:r},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:980,columnNumber:9},this),n&&o(Y,{color:"error",size:"small",startIcon:o(qv,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:985,columnNumber:24},this),onClick:()=>n(t),children:l("removeBuildButton")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:982,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:978,columnNumber:7},this),[r,n,t,l]);return o($1,{label:i,disabled:a,extraButtonsLeft:u,mainStatAssumptionLevel:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:995,columnNumber:5},this)});function Bq({build:e}){const[t,i]=x.useState(""),[r,a,n]=He(),s=oe(),{teamCharId:l,loadoutDatum:u,teamChar:{key:c}}=x.useContext(Se);return o(Ce,{children:[o(Y,{color:"info",size:"small",startIcon:o(Hk,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1036,columnNumber:20},this),onClick:a,children:"New TC Build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1033,columnNumber:7},this),o(bt,{open:r,onClose:n,children:o(H,{children:[o(Ve,{title:"New Theorycraft Build",action:o(Le,{onClick:n,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1049,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1048,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1045,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1053,columnNumber:11},this),o(ae,{sx:{display:"flex",flexDirection:"column",gap:1},children:[o(W,{children:"Copy over this build to a new TC Build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1057,columnNumber:13},this),o(Ai,{value:t,onChange:p=>i(p.target.value),autoFocus:!0,margin:"dense",label:"TC Build Name",fullWidth:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1058,columnNumber:13},this),o(M,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[o(Y,{onClick:n,children:"Cancel"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1067,columnNumber:15},this),o(Y,{color:"success",disabled:!t,onClick:()=>{const p=sr(c).weaponType,f=s.teams.getLoadoutWeapon(u),b=s.teamChars.newBuildTcFromBuild(l,p,f,Object.values(e.artifactIds).map(g=>s.arts.get(g)));b&&s.buildTcs.set(b,{name:t}),i(""),n()},children:"Create"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1068,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1066,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1054,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1044,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1043,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1032,columnNumber:5},this)}function Lq({build:{artifactIds:e,weaponId:t}}){const[i,r]=x.useState(""),[a,n,s]=He(),l=oe(),{teamCharId:u}=x.useContext(Se);return o(Ce,{children:[o(Y,{color:"info",size:"small",startIcon:o(Ra,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1105,columnNumber:20},this),onClick:n,children:"New Build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1102,columnNumber:7},this),o(bt,{open:a,onClose:s,disableRestoreFocus:!0,children:o(H,{children:[o(Ve,{title:"New Build",action:o(Le,{onClick:s,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1122,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1121,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1118,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1126,columnNumber:11},this),o(ae,{sx:{display:"flex",flexDirection:"column",gap:1},children:[o(W,{children:"Copy over this build to a new build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1130,columnNumber:13},this),o("form",{onSubmit:m=>{m.preventDefault(),l.teamChars.newBuild(u,{name:i,artifactIds:e,weaponId:t}),r(""),s()},children:[o(Ai,{value:i,onChange:m=>r(m.target.value),autoFocus:!0,margin:"dense",label:"Build Name",fullWidth:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1132,columnNumber:15},this),o(M,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[o(Y,{onClick:s,children:"Cancel"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1141,columnNumber:17},this),o(Y,{type:"submit",color:"success",disabled:!i,children:"Create"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1142,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1140,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1131,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1127,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1117,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1112,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1101,columnNumber:5},this)}const Fq=x.memo(function({children:t,characterKey:i,build:r,compareData:a,mainStatAssumptionLevel:n}){const{artifactIds:s,weaponId:l}=r,u=oe(),[c,m]=ir();x.useEffect(()=>{const h=Object.values(s).filter(Tr).map(y=>u.arts.follow(y,()=>m()));return()=>{h.forEach(y=>y())}},[u,s,m]),x.useEffect(()=>l?u.weapons.follow(l,()=>m()):()=>{},[u,l,m]);const p=x.useMemo(()=>c&&Object.values(s).map(h=>u.arts.get(h)).filter(h=>h),[c,s,u]),f=x.useMemo(()=>c&&u.weapons.get(l),[c,l,u]),b=sv(n,p,f),g=x.useMemo(()=>{const h=b==null?void 0:b[i];if(h)return{data:h.target,teamData:b,compareData:a}},[b,a,i]);return g?o(he.Provider,{value:g,children:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOptimize/index.tsx",lineNumber:1205,columnNumber:5},this):null});var qf={},Wq=nr;Object.defineProperty(qf,"__esModule",{value:!0});var f0=qf.default=void 0,qq=Wq(rr()),Hq=ar(),Kq=(0,qq.default)((0,Hq.jsx)("path",{d:"M18.41 5.8 17.2 4.59c-.78-.78-2.05-.78-2.83 0l-2.68 2.68L3 15.96V20h4.04l8.74-8.74 2.63-2.63c.79-.78.79-2.05 0-2.83zM6.21 18H5v-1.21l8.66-8.66 1.21 1.21L6.21 18zM11 20l4-4h6v4H11z"}),"DriveFileRenameOutline");f0=qf.default=Kq;function Vq({show:e,onClose:t}){return o(bt,{open:e,onClose:t,containerProps:{maxWidth:"sm"},children:o(H,{children:o(ae,{children:o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:"100%",height:1e3},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:53,columnNumber:15},this),children:o(Xq,{onClose:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:56,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:51,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:50,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:49,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:44,columnNumber:5},this)}function Xq({onClose:e}){const{t}=pe(["page_team"]),i=oe(),{character:r,character:{key:a}}=x.useContext(Je),{buildTc:n,setBuildTc:s}=x.useContext(kt),l=(n==null?void 0:n.character)??r,{level:u,ascension:c}=l,{gender:m}=$t(),p=Rl(a,m);return o(M,{display:"flex",flexDirection:"column",gap:1,children:[o(M,{display:"flex",gap:1,children:[!!n&&o(ht,{title:o(W,{children:"Set a specific level, constellation, ascension, or talent level for this TC build, that is different from the base character"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:86,columnNumber:15},this),children:o(Y,{sx:{flexGrow:1},startIcon:n!=null&&n.character?o(ST,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:94,columnNumber:47},this):o(OT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:94,columnNumber:63},this),color:n!=null&&n.character?"warning":"primary",onClick:()=>{s(f=>{f!=null&&f.character?f.character=void 0:f.character={...l}})},children:t`buildTcCharOverride.btn`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:92,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:84,columnNumber:11},this),!!e&&o(Le,{onClick:e,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:109,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:108,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:82,columnNumber:7},this),o(M,{children:o(I,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[o(I,{item:!0,xs:5,children:o(H,{bgt:"light",sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:o(Nv,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:125,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:116,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:115,columnNumber:11},this),o(I,{item:!0,xs:7,sx:{display:"flex",flexDirection:"column",gap:1},children:o(M,{display:"flex",flexDirection:"column",gap:1,children:[o(I,{container:!0,columns:1,spacing:1,children:["auto","skill","burst"].map(f=>{var b;return o(I,{item:!0,xs:1,children:o(xv,{talentKey:f,dropDownButtonProps:{startIcon:o(dn,{src:(b=p.getTalentOfKey(f))==null?void 0:b.img,size:1.75,sideMargin:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:142,columnNumber:27},this),sx:{color:n!=null&&n.character?"yellow":void 0}},setTalent:g=>n!=null&&n.character?s(h=>{h.character&&(h.character.talent[f]=g)}):i.chars.set(a,h=>{h.talent[f]=g})},f,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:137,columnNumber:21},this)},f,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:136,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:134,columnNumber:15},this),o(H,{bgt:"light",sx:{p:1},children:o(cv,{warning:!!(n!=null&&n.character),level:u,ascension:c,setBoth:f=>n!=null&&n.character?s(b=>{b.character&&(b.character={...b.character,...f})}):i.chars.set(a,f)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:167,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:166,columnNumber:15},this),o(H,{bgt:"light",sx:{p:1},children:[o(W,{sx:{textAlign:"center",pb:-1},variant:"h6",children:o(mv,{characterKey:a,gender:m},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:186,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:185,columnNumber:17},this),o(M,{sx:{px:1},children:o(NT,{warning:!!(n!=null&&n.character),setConstellation:f=>n!=null&&n.character?s(b=>{b.character&&(b.character.constellation=f)}):i.chars.set(a,{constellation:f})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:192,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:191,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:184,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:133,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:114,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:113,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCharEditor.tsx",lineNumber:81,columnNumber:5},this)}function h0(){const{character:{key:e}}=x.useContext(Je),{gender:t}=$t(),[i,r,a]=He();return o(H,{bgt:"light",sx:{height:"100%"},children:[o(Nv,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:29,columnNumber:7},this),o(M,{p:1,children:[o(Vq,{show:i,onClose:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:31,columnNumber:9},this),o(M,{children:o(Y,{fullWidth:!0,color:"info",onClick:r,startIcon:o(f0,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:37,columnNumber:24},this),children:"EDIT"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:33,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:32,columnNumber:9},this),o(xT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:44,columnNumber:9},this),o(W,{sx:{textAlign:"center",mt:1},variant:"h6",children:o(mv,{characterKey:e,gender:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:47,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:46,columnNumber:9},this),o(Yq,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:52,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:30,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:28,columnNumber:5},this)}function Yq(){const{character:{key:e}}=x.useContext(Je),{data:t}=x.useContext(he),i=t.get(kr.constellation).value,{gender:r}=$t(),a=Rl(e,r);return o(I,{container:!0,spacing:1,children:Vi(1,6).map(n=>{var s;return o(I,{item:!0,xs:4,children:o(M,{component:"img",src:(s=a.getTalentOfKey(`constellation${n}`))==null?void 0:s.img,sx:{...i>=n?{}:{filter:"brightness(50%)"}},width:"100%",height:"auto"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:70,columnNumber:11},this)},n,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:69,columnNumber:9},this)})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharProfileCard.tsx",lineNumber:67,columnNumber:5},this)}function Jq(){var g;const e=oe(),{character:{key:t}}=x.useContext(Je),{loadoutDatum:{buildType:i,buildId:r}}=x.useContext(Se),a=r&&i==="real",{teamData:n,data:s}=x.useContext(he),l=(g=n[t])==null?void 0:g.weaponSheet,u=$i(),c=Yi(u.breakpoints.up("lg")),m=x.useMemo(()=>l&&l.document.length>0&&o(H,{bgt:"light",children:o(M,{p:1,children:o(zr,{sections:l.document},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:53,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:52,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:51,columnNumber:9},this),[l]),p=sr(t).weaponType,f=s.get(et.weapon.id).value,b=x.useMemo(()=>ot(Ze,h=>s.get(et.art[h].id).value),[s]);return o(M,{children:o(I,{container:!0,spacing:1,children:[c&&o(I,{item:!0,xs:12,md:12,lg:3,xl:3,sx:{display:"flex",flexDirection:"column",gap:1},children:[m&&m,o(yy,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:83,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:74,columnNumber:11},this),o(I,{item:!0,xs:12,md:12,lg:9,xl:9,children:o(Cv,{weaponTypeKey:p,weaponId:f,artifactIds:b,setWeapon:h=>{a?e.builds.set(r,{weaponId:h}):e.weapons.set(h,{location:at(t)})},setArtifact:(h,y)=>{a?e.builds.set(r,C=>{C.artifactIds[h]=y}):e.arts.set(y,{location:at(t)})}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:87,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:86,columnNumber:9},this),!c&&o(I,{item:!0,xs:12,md:12,xl:3,container:!0,spacing:1,children:[m&&o(I,{item:!0,xs:12,md:6,lg:4,children:m},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:113,columnNumber:15},this),o(I,{item:!0,xs:12,md:6,lg:4,sx:{display:"flex",flexDirection:"column",gap:1},children:o(yy,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:124,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:117,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:111,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:72,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:71,columnNumber:5},this)}function yy(){const{t:e}=pe(["page_character","artifact"]),t=oe(),{character:{equippedArtifacts:i}}=x.useContext(Je),{loadoutDatum:{buildType:r,buildId:a}}=x.useContext(Se),{data:n}=x.useContext(he),s=!!Object.values(i).filter(m=>m).length,l=a&&r==="real",u=()=>{const m=l?"Do you want to unequip all artifacts in this build?":"Do you want to move all currently equipped artifacts to inventory?";window.confirm(m)&&(l?t.builds.set(a,{artifactIds:ot(Ze,()=>{})}):Object.values(i).forEach(p=>t.arts.set(p,{location:""})))},c=x.useMemo(()=>pv(n),[n]);return o(H,{bgt:"light",children:[s&&o(Y,{color:"error",onClick:u,fullWidth:!0,sx:{borderBottomRightRadius:0,borderBottomLeftRadius:0},children:e`tabEquip.unequipArts`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:166,columnNumber:9},this),o(M,{p:1,children:o(st,{spacing:1,children:c&&Object.entries(c).flatMap(([m,p])=>p.map(f=>o(_p,{setKey:m,setNumKey:f},m+f,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:178,columnNumber:17},this)))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:174,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:173,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/EquipmentSection.tsx",lineNumber:164,columnNumber:5},this)}function Zq(){const e=x.useRef(),t=x.useCallback(()=>{var n,s;return(s=(n=e==null?void 0:e.current)==null?void 0:n.scrollIntoView)==null?void 0:s.call(n,{behavior:"smooth"})},[e]),i=x.useContext(he),r=jp(),a=x.useMemo(()=>({...i,compareData:r}),[i,r]);return o(st,{spacing:1,children:[o(M,{children:o(I,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[o(I,{item:!0,xs:8,sm:8,md:3,lg:2.3,children:o(h0,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:40,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:39,columnNumber:11},this),o(I,{item:!0,xs:12,sm:12,md:9,lg:9.7,sx:{display:"flex",flexDirection:"column",gap:1},children:[o(Qq,{onClick:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:50,columnNumber:13},this),o(H,{bgt:"light",sx:{flexGrow:1,p:1,display:"flex",flexDirection:"column",gap:1},children:[o(M,{sx:{display:"flex",justifyContent:"flex-end",gap:1,flexWrap:"wrap"},children:[o(Ps,{size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:69,columnNumber:17},this),o($s,{size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:70,columnNumber:17},this),o(Bp,{buttonGroupProps:{sx:{marginLeft:"auto"}}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:71,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:61,columnNumber:15},this),o(he.Provider,{value:a,children:o(fv,{columns:{xs:1,sm:1,md:2,lg:2,xl:3}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:74,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:73,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:51,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:42,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:38,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:37,columnNumber:7},this),o(M,{ref:e,children:o(Jq,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:83,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:82,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:36,columnNumber:5},this)}function Qq({onClick:e}){const{data:t}=x.useContext(he);return o(I,{container:!0,spacing:1,columns:{xs:2,sm:2,md:3,lg:6,xl:6},children:[o(I,{item:!0,xs:1,children:o(H,{bgt:"light",sx:{height:"100%",maxHeight:"8em"},children:o(up,{weaponId:t.get(et.weapon.id).value,onClick:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:95,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:94,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:93,columnNumber:7},this),Ze.map(i=>{var r;return o(I,{item:!0,xs:1,children:o(H,{bgt:"light",sx:{height:"100%",maxHeight:"8em"},children:o(Gl,{artifactId:(r=t.get(et.art[i].id).value)==null?void 0:r.toString(),slotKey:i,onClick:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:104,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:103,columnNumber:11},this)},i,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:102,columnNumber:9},this)})]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabOverview/index.tsx",lineNumber:92,columnNumber:5},this)}function eH(e){return["auto","skill","burst"].includes(e)}const Wn={xs:12,sm:6,md:4};function tH(){const{t:e}=pe("sheet_gen"),{character:{key:t}}=x.useContext(Je),{gender:i}=$t(),r=Rl(t,i),{data:a}=x.useContext(he),{buildTc:n,setBuildTc:s}=x.useContext(kt),l=oe(),u=[["auto",e("talents.auto")],["skill",e("talents.skill")],["burst",e("talents.burst")]],c=[["passive1",e("unlockPassive1"),1],["passive2",e("unlockPassive2"),4],["passive3",e("unlockPassive3"),0]],m=a.get(et.asc).value,p=a.get(et.constellation).value,f=$i(),b=Yi(f.breakpoints.up("lg")),g=x.useMemo(()=>Vi(1,hv).map(h=>o(qn,{talentKey:`constellation${h}`,subtitle:e("constellationLvl",{level:h}),onClickTitle:()=>n!=null&&n.character?s(y=>{y.character&&(y.character.constellation=h)}):l.chars.set(t,{constellation:h===p?h-1:h})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:83,columnNumber:9},this)),[e,n==null?void 0:n.character,s,l.chars,t,p]);return o(Ce,{children:[o(H,{bgt:"light",children:o(ae,{children:o(M,{sx:{display:"flex",justifyContent:"flex-end",gap:1,flexWrap:"wrap"},children:[o(Ps,{size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:119,columnNumber:13},this),o($s,{size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:120,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:111,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:110,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:109,columnNumber:7},this),o(iH,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:125,columnNumber:7},this),o(I,{container:!0,spacing:1,children:[b&&o(I,{item:!0,xs:12,md:12,lg:3,sx:{display:"flex",flexDirection:"column",gap:1},children:[o(vy,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:136,columnNumber:13},this),g.map((h,y)=>o(M,{sx:{opacity:p>=y+1?1:.5},children:h},y,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:138,columnNumber:15},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:129,columnNumber:11},this),o(I,{item:!0,xs:12,md:12,lg:9,container:!0,spacing:1,children:[u.map(([h,y])=>o(I,{item:!0,...Wn,children:o(qn,{talentKey:h,subtitle:y},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:148,columnNumber:15},this)},h,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:147,columnNumber:13},this)),!!r.getTalentOfKey("sprint")&&o(I,{item:!0,...Wn,children:o(qn,{talentKey:"sprint",subtitle:e("talents.altSprint")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:153,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:152,columnNumber:13},this),!!r.getTalentOfKey("passive")&&o(I,{item:!0,...Wn,children:o(qn,{talentKey:"passive",subtitle:"Passive"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:161,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:160,columnNumber:13},this),c.map(([h,y,C])=>{const N=m>=C;return r.getTalentOfKey(h)?o(I,{item:!0,style:{opacity:N?1:.5},...Wn,children:o(qn,{talentKey:h,subtitle:y},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:175,columnNumber:17},this)},h,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:169,columnNumber:15},this):null})]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:144,columnNumber:9},this),!b&&o(I,{item:!0,xs:12,md:12,lg:3,container:!0,spacing:1,children:[o(I,{item:!0,xs:12,children:o(vy,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:184,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:183,columnNumber:13},this),g.map((h,y)=>o(I,{item:!0,sx:{opacity:p>=y+1?1:.5},...Wn,children:h},y,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:187,columnNumber:15},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:182,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:126,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:108,columnNumber:5},this)}function iH(){const{data:e}=x.useContext(he),t=e.getDisplay().reaction;return o(H,{bgt:"light",children:o(ae,{children:o(I,{container:!0,spacing:1,children:Object.entries(t).filter(([i,r])=>!r.isEmpty).map(([i,r])=>o(I,{item:!0,children:o(H,{children:o(ae,{sx:{p:1,"&:last-child":{pb:1}},children:o(Es,{calcRes:r},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:216,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:215,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:214,columnNumber:19},this)},i,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:213,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:208,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:207,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:206,columnNumber:5},this)}function qn({talentKey:e,subtitle:t,onClickTitle:i}){const r=oe(),{teamChar:{key:a}}=x.useContext(Se),{buildTc:n,setBuildTc:s}=x.useContext(kt),{gender:l}=$t(),u=Rl(a,l),c=x.useCallback(b=>o(gn,{onClick:i,children:b},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:248,columnNumber:7},this),[i]);let m=null;eH(e)&&(m=o(xv,{talentKey:e,dropDownButtonProps:{sx:{borderRadius:0,color:n!=null&&n.character?"yellow":void 0}},setTalent:b=>n!=null&&n.character?s(g=>{var h;(h=g.character)!=null&&h.talent[e]&&(g.character.talent[e]=b)}):r.chars.set(a,g=>{g.talent[e]=b})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:257,columnNumber:7},this));const p=u.getTalentOfKey(e),f=b=>{var h;const g=(h=b.header)==null?void 0:h.action;return g&&typeof g!="string"?g.props.children.props.key18.includes(e):!1};return o(H,{bgt:"light",sx:{height:"100%"},children:[m,o(ae,{children:[o(R1,{condition:!!i,wrapper:c,children:o(I,{container:!0,sx:{flexWrap:"nowrap"},children:[o(I,{item:!0,children:o(M,{component:"img",src:p==null?void 0:p.img,sx:{width:60,height:"auto"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:300,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:299,columnNumber:13},this),o(I,{item:!0,flexGrow:1,sx:{pl:1},children:[o(W,{variant:"h6",children:p==null?void 0:p.name},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:307,columnNumber:15},this),o(W,{variant:"subtitle1",children:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:308,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:306,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:298,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:294,columnNumber:9},this),p!=null&&p.sections?o(zr,{sections:p.sections,hideDesc:!0,hideHeader:f,collapse:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:314,columnNumber:11},this):null]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:293,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:291,columnNumber:5},this)}function vy(){const{character:{key:e}}=x.useContext(Je),{data:t}=x.useContext(he),{buildTc:i,setBuildTc:r}=x.useContext(kt),{t:a}=pe("sheet_gen"),n=oe(),s=t.get(et.constellation).value;return o(dt,{fullWidth:!0,title:a("constellationLvl",{level:s}),color:"primary",sx:{color:i!=null&&i.character?"yellow":void 0},children:Vi(0,hv).map(l=>o(Pe,{selected:s===l,disabled:s===l,onClick:()=>i!=null&&i.character?r(u=>{u.character&&(u.character.constellation=l)}):n.chars.set(e,{constellation:l}),children:a("constellationLvl",{level:l})},l,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:343,columnNumber:9},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTalent.tsx",lineNumber:336,columnNumber:5},this)}function rH({slotKey:e,disabled:t=!1}){const{buildTc:{artifact:{slots:i}},setBuildTc:r}=x.useContext(kt),{level:a,statKey:n,rarity:s}=i[e],l=Br[e],u=x.useCallback(m=>{r(p=>{const f=p.artifact.slots[e];p.artifact.slots[e]={...f,...m}})},[r,e]),c=x.useCallback(m=>{const p=Pl[m]??0;a>p?u({rarity:m,level:p}):u({rarity:m})},[a,u]);return o(M,{display:"flex",gap:1,justifyContent:"space-between",alignItems:"center",children:[o(Us,{slotKey:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:71,columnNumber:7},this),o(H,{sx:{height:"100%",minWidth:"5em",flexGrow:1,display:"flex"},children:l.length===1?o(M,{p:1,justifyContent:"center",alignItems:"center",width:"100%",display:"flex",gap:1,children:[o(la,{statKey:l[0],iconProps:qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:84,columnNumber:13},this)," ",Ea.getStr(l[0])]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:76,columnNumber:11},this):o(dt,{sx:{px:0},fullWidth:!0,title:o(dc,{statKey:n},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:91,columnNumber:20},this),color:Ea.getVariant(n)??"success",disabled:t,children:l.map(m=>o(Pe,{disabled:n===m,onClick:()=>u({statKey:m}),children:o(ev,{statKey:m},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:101,columnNumber:17},this)},m,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:96,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:88,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:72,columnNumber:7},this),o(dt,{sx:{px:0},title:o(M,{sx:{display:"flex",alignItems:"center"},children:[s," ",o(Cc,{fontSize:"inherit"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:111,columnNumber:22},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:110,columnNumber:11},this),disabled:t,children:[5,4,3].map(m=>o(Pe,{disabled:s===m,onClick:()=>c(m),children:o(M,{sx:{display:"flex",alignItems:"center"},children:[m," ",o(Cc,{fontSize:"inherit"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:123,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:122,columnNumber:13},this)},m,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:117,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:107,columnNumber:7},this),o(j1,{value:a,onChange:m=>m!==void 0&&u({level:m}),color:B1(a),size:"small",inputProps:{sx:{width:"2ch"},max:20,min:0},InputProps:{startAdornment:o(vc,{position:"start",children:"+"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:139,columnNumber:27},this)},focused:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:128,columnNumber:7},this),o(H,{sx:{height:"100%",minWidth:"4em"},children:o(M,{p:1,textAlign:"center",children:`${cp(L1(n,s,a),ci(n))}${ci(n)}`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:144,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:143,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactMainLevelSlot.tsx",lineNumber:65,columnNumber:5},this)}var Hf={},aH=nr;Object.defineProperty(Hf,"__esModule",{value:!0});var Kf=Hf.default=void 0,nH=aH(rr()),sH=ar(),oH=(0,nH.default)((0,sH.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");Kf=Hf.default=oH;function lH({setKey:e,remaining:t,disabled:i=!1}){const{buildTc:{artifact:{sets:r}},setBuildTc:a}=x.useContext(kt),n=r[e],s=x.useCallback(m=>{a(p=>{p.artifact.sets[e]=m})},[a,e]),l=x.useCallback(()=>{a(m=>{const{[e]:p,...f}=m.artifact.sets;m.artifact.sets=f})},[a,e]),u=Ma(e),c=x.useMemo(()=>!n||n<4?[]:Object.keys(u.setEffects).filter(m=>{var p;return(p=u.setEffects[m])==null?void 0:p.document.some(f=>"states"in f)}),[u,n]);return o(H,{bgt:"light",children:[o(M,{display:"flex",children:[o(F1,{setKey:e,numInSet:n,children:o(M,{flexGrow:1,p:1,display:"flex",gap:1,alignItems:"center",children:[o(dn,{size:2,src:Yy(e)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:68,columnNumber:13},this),o(M,{children:o(El,{setKey:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:70,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:69,columnNumber:13},this),o(gr,{...qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:72,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:67,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:66,columnNumber:9},this),o(gi,{children:[o(dt,{size:"small",title:o(M,{whiteSpace:"nowrap",children:[n,"-set"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:78,columnNumber:20},this),disabled:i,children:Object.keys(u.setEffects).map(m=>parseInt(m)).map(m=>o(Pe,{disabled:n===m||m>t+(n??0),onClick:()=>s(m),children:[m,"-set"]},m,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:84,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:76,columnNumber:11},this),o(Y,{color:"error",size:"small",onClick:l,disabled:i,children:o(Kf,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:101,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:95,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:75,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:65,columnNumber:7},this),!!c.length&&o(st,{spacing:1,sx:{p:1},children:c.map(m=>o(_p,{setKey:e,setNumKey:parseInt(m),hideHeader:!0,conditionalsOnly:!0,disabled:i},m,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:108,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:106,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetEditor.tsx",lineNumber:64,columnNumber:5},this)}function uH({disabled:e=!1}){const{buildTc:{artifact:{sets:t}},setBuildTc:i}=x.useContext(kt),r=x.useCallback(n=>{n&&i(s=>{s.artifact.sets[n]=parseInt(Object.keys(Ma(n).setEffects)[0])})},[i]),a=5-Object.values(t).reduce((n,s)=>n+s,0);return o(st,{spacing:1,sx:{flexGrow:1},children:[Object.keys(t).map(n=>o(lH,{setKey:n,remaining:a,disabled:e},n,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetsEditor.tsx",lineNumber:38,columnNumber:9},this)),o(H,{bgt:"light",sx:{flexGrow:1,overflow:"visible"},children:o(W1,{artSetKey:"",setArtSetKey:r,label:"New Artifact Set",getOptionDisabled:({key:n})=>Object.keys(t).includes(n)||!n||Object.keys(Ma(n).setEffects).every(s=>parseInt(s)>a),disabled:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetsEditor.tsx",lineNumber:46,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetsEditor.tsx",lineNumber:45,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/ArtifactSetsEditor.tsx",lineNumber:36,columnNumber:5},this)}function cH({disabled:e=!1}){return o(st,{spacing:1,children:[o(H,{bgt:"light",sx:{p:1},children:o(st,{spacing:1,children:Ze.map(t=>o(rH,{slotKey:t,disabled:e},t,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/index.tsx",lineNumber:18,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/index.tsx",lineNumber:16,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/index.tsx",lineNumber:15,columnNumber:7},this),o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:"100%",height:200},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/index.tsx",lineNumber:23,columnNumber:19},this),children:o(uH,{disabled:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/index.tsx",lineNumber:25,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/index.tsx",lineNumber:22,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactMainStatAndSetEditor/index.tsx",lineNumber:14,columnNumber:5},this)}function mH(e){const{artifact:{substats:{stats:t,rarity:i,type:r}}}=e;return Math.floor(Math.min(...Object.entries(t).map(([a,n])=>n/Di(a,i,r))))}function pH(e){return Math.floor(Math.min(...Object.values(e.optimization.maxSubstats)))}function fH({disabled:e=!1}){const{t}=pe("page_character"),{buildTc:i,setBuildTc:r}=x.useContext(kt),[a,n]=x.useState(()=>[mH(i)]),[s,l]=x.useState(()=>[pH(i)]),[u]=a,[c]=s,m=x.useDeferredValue(a),p=Lk();x.useEffect(()=>{p||r(h=>{const{artifact:{substats:{stats:y,type:C,rarity:N}}}=h;h.artifact.substats.stats=ti(y,(d,v)=>{const k=d,T=Di(v,N,C),S=T*m[0],O=Math.round(k/T-m[0]);return h.optimization.distributedSubstats=Ft(h.optimization.distributedSubstats+O,0,45),S})})},[m]);const f=x.useDeferredValue(s);x.useEffect(()=>{p||r(h=>{h.optimization.maxSubstats=ti(h.optimization.maxSubstats,(y,C)=>f[0])})},[f]);const b=($l[i.artifact.substats.rarity].numUpgrades+1)*5,g=(u??0-1e-4)>b;return o(M,{display:"flex",gap:1,justifyContent:"space-between",alignItems:"center",children:[o(H,{sx:{px:2,flexGrow:1,display:"flex",gap:1,alignItems:"center",justifyContent:"center",overflow:"visible"},children:o(vp,{size:"small",value:u??0,max:b,min:0,step:1,marks:!0,valueLabelDisplay:"auto",onChange:(h,y)=>n([y]),onChangeCommitted:(h,y)=>n([y]),disabled:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactAllSubstatEditor.tsx",lineNumber:110,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactAllSubstatEditor.tsx",lineNumber:99,columnNumber:7},this),o(fi,{color:u&&g?"warning":"primary",float:!0,startAdornment:o(M,{sx:{whiteSpace:"nowrap"},children:t`tabTheorycraft.all.rolls`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactAllSubstatEditor.tsx",lineNumber:127,columnNumber:11},this),value:parseFloat((u??0).toFixed(2)),onChange:h=>h!==void 0&&n([h]),sx:{borderRadius:1,px:1,my:0,height:"100%",width:"7em"},inputProps:{sx:{textAlign:"right",pr:.5},min:0,step:1},disabled:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactAllSubstatEditor.tsx",lineNumber:123,columnNumber:7},this),o(fi,{value:c??0,startAdornment:o(M,{sx:{whiteSpace:"nowrap"},children:t`tabTheorycraft.all.max`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactAllSubstatEditor.tsx",lineNumber:138,columnNumber:11},this),onChange:h=>h!==void 0&&l([h]),color:(c??0)>b?"warning":"primary",sx:{borderRadius:1,px:1,my:0,height:"100%",width:"6.5em"},inputProps:{sx:{textAlign:"right",pr:.5},min:0,step:1},disabled:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactAllSubstatEditor.tsx",lineNumber:135,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactAllSubstatEditor.tsx",lineNumber:93,columnNumber:5},this)}function hH({statKey:e,disabled:t=!1}){const{t:i}=pe("page_character"),{buildTc:{artifact:{slots:r,substats:{type:a,stats:n,rarity:s}},optimization:{maxSubstats:l}},setBuildTc:u}=x.useContext(kt),c=Object.values(r).map(O=>O.statKey),m=n[e],p=x.useCallback(O=>{u(_=>{const A=_.artifact.substats.stats[e];_.artifact.substats.stats[e]=O;const z=Math.round((A-O)/Di(e,_.artifact.substats.rarity,_.artifact.substats.type));_.optimization.distributedSubstats=Ft(_.optimization.distributedSubstats+z,0,45)})},[u,e]),f=l[e],b=x.useCallback(O=>{u(_=>{_.optimization.maxSubstats[e]=O})},[u,e]),g=Di(e,s,a),[h,y]=x.useState(()=>m/g);x.useEffect(()=>y(m/g),[m,g]);const C=ci(e),N=h*g,d=h*g/Di(e)*100,v=c.reduce((O,_)=>O+(_===e?1:0),0),k=(5-v)*(Pl[s]/4+1),T=h-1e-4>k,S=x.useCallback(O=>p(O*g),[p,g]);return o(st,{spacing:.5,children:[o(M,{display:"flex",gap:1,justifyContent:"space-between",alignItems:"center",children:[o(fi,{color:N?"success":"primary",float:ci(e)==="%",endAdornment:ci(e)||o(M,{width:"1em",component:"span"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:101,columnNumber:36},this),value:parseFloat(N.toFixed(2)),onChange:O=>O!==void 0&&p(O),sx:{borderRadius:1,px:1,height:"100%",width:"5em"},inputProps:{sx:{textAlign:"right"},min:0},disabled:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:97,columnNumber:9},this),o(H,{sx:{p:.5,minWidth:"11em",flexGrow:1,display:"flex",gap:1,alignItems:"center",justifyContent:"center"},children:[o(la,{statKey:e,iconProps:{fontSize:"inherit"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:120,columnNumber:11},this),Ea.getStr(e),ci(e)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:109,columnNumber:9},this),o(fi,{color:m?T?"warning":"success":"primary",float:!0,startAdornment:o(M,{sx:{whiteSpace:"nowrap",width:"6em",display:"flex",justifyContent:"space-between"},children:[o("span",{children:[cp(g,C),C]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:136,columnNumber:15},this),o("span",{children:"x"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:140,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:128,columnNumber:13},this),value:parseFloat(h.toFixed(2)),onChange:O=>O!==void 0&&p(O*g),sx:{borderRadius:1,px:1,my:0,height:"100%",width:"6.5em"},inputProps:{sx:{textAlign:"right",pr:.5},min:0,step:1},disabled:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:124,columnNumber:9},this),o(H,{sx:{textAlign:"center",p:.5,minWidth:"6em"},children:o(Ee,{color:T?"warning":void 0,children:["RV: ",o("strong",{children:[d.toFixed(),"%"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:151,columnNumber:17},this),o(ht,{title:o(W,{children:i(v?"tabTheorycraft.maxRollsMain":"tabTheorycraft.maxRolls",{value:k})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:154,columnNumber:17},this),placement:"top",children:o(gr,{fontSize:"inherit",sx:{verticalAlign:"-10%"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:165,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:150,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:149,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:91,columnNumber:7},this),o(M,{display:"flex",gap:1,justifyContent:"space-between",alignItems:"center",children:[o(H,{sx:{px:2,flexGrow:1,display:"flex",gap:1,alignItems:"center",justifyContent:"center",overflow:"visible"},children:o(vp,{size:"small",value:h,max:Math.min(k,f),min:0,step:1,marks:!0,valueLabelDisplay:"auto",onChange:(O,_)=>y(_),onChangeCommitted:(O,_)=>S(_),disabled:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:187,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:176,columnNumber:9},this),o(fi,{value:f,startAdornment:i`tabTheorycraft.substat.max`,onChange:O=>O!==void 0&&b(O),color:h-1e-4>f?"error":f>k?"warning":"success",sx:{borderRadius:1,px:1,my:0,height:"100%",width:"6em"},inputProps:{sx:{textAlign:"right",pr:.5},min:0,step:1},disabled:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:201,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:170,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/ArtifactSubstatEditor.tsx",lineNumber:90,columnNumber:5},this)}function dH({maxTotalRolls:e,disabled:t=!1}){const{t:i}=pe("page_character"),{buildTc:{artifact:{substats:{type:r,stats:a,rarity:n}}},setBuildTc:s}=x.useContext(kt),l=x.useCallback(g=>{s(h=>{h.artifact.substats.type=g})},[s]),u=x.useCallback(g=>{s(h=>{h.artifact.substats.rarity=g})},[s]),c=Object.entries(a).reduce((g,[h,y])=>g+y/Di(h),0)*100,m=Object.entries(a).reduce((g,[h,y])=>g+y/Di(h,n,r),0),{high:p,numUpgrades:f}=$l[n],b=(p+f)*5;return o(H,{bgt:"light",sx:{p:1,height:"100%"},children:o(st,{spacing:1,children:[o(M,{sx:{display:"flex",gap:1},children:[o(dt,{sx:{flexGrow:1},title:i(`tabTheorycraft.substatType.${r}`),disabled:t,children:q1.map(g=>o(Pe,{disabled:r===g,onClick:()=>l(g),children:i(`tabTheorycraft.substatType.${g}`)},g,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:78,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:72,columnNumber:11},this),o(H1,{rarity:n,onChange:g=>u(g),filter:g=>g!==n,disabled:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:87,columnNumber:11},this),o(ht,{title:o(W,{children:o(Oe,{t:i,i18nKey:"tabTheorycraft.maxTotalRolls",children:["The current build can only have a maximum of ",o("strong",{children:{value:e}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:98,columnNumber:19},this)," rolls."]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:96,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:95,columnNumber:15},this),placement:"top",children:o(H,{sx:{textAlign:"center",py:.5,px:1,whiteSpace:"nowrap",display:"flex",gap:2,justifyContent:"flex-end",alignItems:"center",flexShrink:1},children:[o(Ee,{color:m>b?"error":void 0,children:["Rolls: ",o("strong",{children:m.toFixed(0)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:119,columnNumber:24},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:118,columnNumber:15},this),o(Ee,{color:m>b?"error":void 0,children:["RV: ",o("strong",{children:[c.toFixed(),"%"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:122,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:121,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:105,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:71,columnNumber:9},this),o(fH,{disabled:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:127,columnNumber:9},this),Object.entries(a).map(([g])=>o(hH,{statKey:g,disabled:t},g,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:129,columnNumber:11},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:70,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/ArtifactSubCard/index.tsx",lineNumber:69,columnNumber:5},this)}function gH({disabled:e}){const{t}=pe("page_character"),{buildTc:{optimization:{minTotal:i}},setBuildTc:r}=x.useContext(kt);return o(H,{bgt:"light",children:[o(Ve,{titleTypographyProps:{variant:"body1",sx:{fontWeight:"bold"}},title:t`tabTheorycraft.constraint.title`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:39,columnNumber:7},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:43,columnNumber:7},this),o(M,{sx:{p:1},children:o(st,{spacing:1,children:[Object.entries(i).map(([a,n])=>o(bH,{statKey:a,value:n,disabled:e},a,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:47,columnNumber:13},this)),o(dt,{disabled:e,title:t`tabTheorycraft.constraint.add`,children:K1.map(a=>o(Pe,{disabled:Object.keys(i).includes(a),onClick:()=>r(n=>{n.optimization.minTotal[a]=0}),children:[o(V1,{children:o(la,{statKey:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:64,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:63,columnNumber:17},this),o(Vn,{children:o(Np,{statKey:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:67,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:66,columnNumber:17},this)]},a,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:54,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:49,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:45,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:44,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:38,columnNumber:5},this)}function bH({statKey:e,value:t,disabled:i}){const{setBuildTc:r}=x.useContext(kt),a=e?ci(e):" ";return o(gi,{size:"small",children:[o(ws,{sx:{flexBasis:30,flexGrow:1},children:o(fi,{float:a==="%",value:e?t:void 0,onChange:n=>e&&r(s=>{s.optimization.minTotal[e]=n}),endAdornment:o(M,{width:"1em",component:"span",children:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:102,columnNumber:13},this),startAdornment:o(M,{component:"span",sx:{whiteSpace:"nowrap"},children:[e&&o(la,{statKey:e,iconProps:{fontSize:"inherit",sx:{verticalAlign:"-10%",mr:1}}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:109,columnNumber:17},this),e&&o(Np,{statKey:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:120,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:107,columnNumber:13},this),disabled:!e||i,sx:{px:1},inputProps:{sx:{textAlign:"right"}}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:92,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:91,columnNumber:7},this),!!e&&o(Y,{color:"error",disabled:i,size:"small",onClick:()=>r(n=>{delete n.optimization.minTotal[e]}),children:o(Kf,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:143,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:133,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/BuildConstaintCard.tsx",lineNumber:90,columnNumber:5},this)}const yH=""+new URL("gcsim-DHutm7Sy.png",import.meta.url).href,Cy={def_:"def%",def:"def",hp:"hp",hp_:"hp%",atk:"atk",atk_:"atk%",enerRech_:"er",eleMas:"em",critRate_:"cr",critDMG_:"cd",heal_:"heal",pyro_dmg_:"pyro%",hydro_dmg_:"hydro%",cryo_dmg_:"cryo%",electro_dmg_:"electro%",anemo_dmg_:"anemo%",geo_dmg_:"geo%",dendro_dmg_:"dendro%",physical_dmg_:"phys%"};function vH({disabled:e}){const{t}=pe(["page_character","settings"]),[i,r,a]=He(),{character:{key:n,level:s,ascension:l,constellation:u,talent:{auto:c,skill:m,burst:p}}}=x.useContext(Je),{buildTc:{weapon:{key:f,level:b,ascension:g,refinement:h},artifact:{slots:y,substats:{stats:C},sets:N}}}=x.useContext(kt),d=n.toLowerCase(),v=Object.entries(N).map(([_,A])=>`${d} add set="${_.toLowerCase()}" count=${A};`).join(`
`),k=Object.entries(y).map(([_,{level:A,statKey:z,rarity:D}])=>`${Cy[z]}=${_o(z,D,A)}`).join(" "),T=Object.entries(C).map(([_,A])=>`${Cy[_]}=${X1(A,_).toFixed(_.endsWith("_")?4:2)}`).join(" "),S=`# Generated by Genshin Optimizer

# Character
${d} char lvl=${s}/${ch[l]} cons=${u} talent=${c},${m},${p};

# Weapon
${d} add weapon="${f.toLowerCase()}" refine=${h} lvl=${b}/${ch[g]};

# Artifact Set
${v||"# No Artifact Sets"}

# Main stats
${d} add stats ${k};

# Sub stats
${d} add stats ${T};`,O=()=>navigator.clipboard.writeText(S).then(()=>alert(t("tabTheorycraft.gcsimDialog.copied"))).catch(console.error);return o(Ce,{children:[o(Y,{onClick:r,startIcon:o(dn,{src:yH},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:130,columnNumber:20},this),disabled:e,children:t("tabTheorycraft.gcsimDialog.title")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:128,columnNumber:7},this),o(sk,{open:i,onClose:a,maxWidth:"lg",children:[o(Rv,{children:t("tabTheorycraft.gcsimDialog.title")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:136,columnNumber:9},this),o(Mv,{children:[o($v,{children:o(Oe,{t,i18nKey:"tabTheorycraft.gcsimDialog.content",children:["Import this build into"," ",o(Sp,{href:"https://gcsim.app/",target:"_blank",children:"gcsim"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:141,columnNumber:15},this)," ","by copying the code below."]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:139,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:138,columnNumber:11},this),o(H,{children:o(ae,{children:o(Y1,{text:S},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:149,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:148,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:147,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:137,columnNumber:9},this),o(Gv,{children:o(Y,{fullWidth:!0,color:"info",onClick:O,startIcon:o(fp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:158,columnNumber:24},this),children:o(Oe,{t,i18nKey:"settings:DatabaseCard.button.copy"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:160,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:154,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:153,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:135,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/GcsimButton.tsx",lineNumber:127,columnNumber:5},this)}const CH=""+new URL("kqm-DWFBjd02.png",import.meta.url).href;function NH({action:e,disabled:t}){const{t:i}=pe(["page_character","ui"]),[r,a,n]=He();return o(Ce,{children:[o(Y,{color:"keqing",onClick:a,startIcon:o(dn,{src:CH},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:28,columnNumber:20},this),disabled:t,children:i("tabTheorycraft.kqmsDialog.kqmsBtn")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:25,columnNumber:7},this),o(bt,{open:r,onClose:n,children:o(H,{sx:{maxWidth:"sm",alignSelf:"center"},children:[o(Rv,{children:i("tabTheorycraft.kqmsDialog.title")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:35,columnNumber:11},this),o(Mv,{children:o($v,{children:o(Oe,{t:i,i18nKey:"tabTheorycraft.kqmsDialog.content",children:["This will replace your current ",o("strong",{children:"substat setup"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:39,columnNumber:48},this)," ","with one that adheres to the"," ",o(Sp,{href:"https://compendium.keqingmains.com/kqm-standards",target:"_blank",children:"KQM Standards"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:41,columnNumber:17},this),"."]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:38,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:37,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:36,columnNumber:11},this),o(Gv,{children:[o(Y,{onClick:n,color:"error",children:i("ui:close")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:52,columnNumber:13},this),o(Y,{color:"success",onClick:()=>{n(),e()},autoFocus:!0,children:i("tabTheorycraft.kqmsDialog.kqmsBtn")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:55,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:51,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:34,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:33,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/KQMSButton.tsx",lineNumber:24,columnNumber:5},this)}function xH({weaponTypeKey:e,disabled:t}){const{buildTc:i,setBuildTc:r}=x.useContext(kt),a=x.useCallback(C=>{r(N=>{N.weapon={...N.weapon,...C}})},[r]),n=x.useMemo(()=>({...i.weapon,location:"",lock:!1,id:""}),[i]),{key:s,level:l=0,refinement:u=1,ascension:c=0}=n,m=sp(s),[p,f,b]=He(),{data:g}=x.useContext(he),h=x.useMemo(()=>n&&Uy([m.data,Gy(n)]),[m,n]),y=Iy(n.key);return o(H,{bgt:"light",sx:{p:1,mb:1},children:[o(J1,{ascension:c,show:p,onHide:b,onSelect:C=>a({key:C}),weaponTypeFilter:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:67,columnNumber:7},this),o(M,{display:"flex",flexDirection:"column",gap:1,children:[o(M,{display:"flex",gap:1,children:[o(M,{className:`grad-${Ey(n.key).rarity}star`,component:"img",src:My(n.key,c>=2),sx:{flexshrink:1,flexBasis:0,maxWidth:"30%",borderRadius:1}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:76,columnNumber:11},this),o(st,{spacing:1,flexGrow:1,children:[o(Y,{fullWidth:!0,color:"info",sx:{flexGrow:1},onClick:f,disabled:t,children:o(M,{sx:{maxWidth:"10em"},children:o(Py,{weaponKey:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:96,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:95,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:88,columnNumber:13},this),y&&o(Z1,{disabled:t,refinement:u,setRefinement:C=>a({refinement:C})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:100,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:87,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:75,columnNumber:9},this),o(cv,{level:l,ascension:c,setBoth:a,useLow:!y,disabled:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:108,columnNumber:9},this),o(H,{children:[o(Ve,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:116,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:120,columnNumber:11},this),h&&o(Ia,{children:[et.weapon.main,et.weapon.sub,et.weapon.sub2].map(C=>{const N=h.get(C);return N.isEmpty||!N.value?null:o(Es,{calcRes:N,component:Xr},JSON.stringify(N.info),!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:128,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:122,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:115,columnNumber:9},this),g&&(m==null?void 0:m.document)&&o(zr,{sections:m.document,disabled:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:140,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:74,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/WeaponEditorCard.tsx",lineNumber:66,columnNumber:5},this)}function TH(){const{t:e}=pe("page_character"),t=oe(),{gender:i}=$t(),{teamId:r,teamCharId:a,teamChar:{key:n,optConfigId:s}}=x.useContext(Se),{buildTc:l,setBuildTc:u}=x.useContext(kt),{optimizationTarget:c}=yi(s),m=sr(n).weaponType,p=x.useContext(he),f=jp(),b=x.useMemo(()=>{if(p)return{...p,compareData:f}},[p,f]),g=x.useCallback(D=>{t.optConfigs.set(s,{optimizationTarget:D})},[t,s]),h=l.optimization.distributedSubstats,y=x.useCallback(D=>{u(U=>{U.optimization.distributedSubstats=D})},[u]),C=x.useRef(null);C.current===null&&(C.current=SO());const[N,d]=x.useState(mh()),v=N.type==="active",k=x.useCallback(()=>{var D;(D=C.current)==null||D.terminate(),C.current=null,d(mh())},[C]),{minSubLines:T,minOtherRolls:S}=x.useMemo(()=>NO(l),[l]),O=x.useMemo(()=>Object.values(l.artifact.slots).reduce((D,{level:U,rarity:P})=>D+$l[P].high+Math.floor(U/4),0),[l]),{scalesWith:_}=x.useMemo(()=>{const{nodes:D}=Oh(p.teamData,n,l,c),U=D?CO(D):new Set;return{nodes:D,scalesWith:U}},[p.teamData,n,l,c]),A=D=>{if(!C.current)return;const U=Vy(t,r,i,a,0,Ky(l),eT(l));if(!U)return;const{nodes:P}=Oh(U,n,l,c);C.current.postMessage({buildTc:l,nodes:P}),d($=>({...$,type:"active",startTime:performance.now(),finishTime:void 0})),C.current.onmessage=({data:$})=>{const{resultType:B}=$;switch(B){case"total":d(q=>({...q,total:$.total}));break;case"count":d(q=>({...q,tested:$.tested,failed:$.failed}));break;case"finalize":{const{maxBuffer:q,distributed:j,tested:F,failed:K,skipped:J}=$;if(d(V=>({...V,type:"inactive",tested:F,failed:K,skipped:J,finishTime:performance.now()})),!D){console.log({maxBuffer:q,distributed:j,tested:F,failed:K,skipped:J});break}u(V=>(V.artifact.substats.stats=ti(V.artifact.substats.stats,(Q,se)=>Q+tT(q[se]??0,se)),V.optimization.distributedSubstats=h-j,V));break}}}},z=x.useCallback(()=>{u(D=>{D.artifact.substats.type="mid";const{artifact:{slots:U,substats:{stats:P,type:$,rarity:B}}}=D;D.optimization.distributedSubstats=20-(B===5?0:B===4?10:15),D.artifact.substats.stats=ti(P,(q,j)=>Di(j,B,$)*2),D.optimization.maxSubstats=ti(D.optimization.maxSubstats,(q,j)=>2+(5-Object.entries(U).filter(([V,{statKey:Q}])=>Q===j).length)*2)})},[u]);return o(st,{spacing:1,children:[o(M,{children:o(I,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[o(I,{item:!0,xs:8,sm:8,md:3,lg:2.3,children:o(h0,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:254,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:253,columnNumber:11},this),o(I,{item:!0,xs:12,sm:12,md:9,lg:9.7,sx:{display:"flex",flexDirection:"column",gap:1},children:o(H,{bgt:"light",sx:{flexGrow:1,p:1},children:o(uv.Provider,{value:c,children:b?o(he.Provider,{value:b,children:o(fv,{columns:{xs:1,sm:1,md:2,lg:2,xl:3}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:268,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:267,columnNumber:19},this):o(Ke,{variant:"rectangular",width:"100%",height:500},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:273,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:265,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:264,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:256,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:252,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:251,columnNumber:7},this),o(H,{bgt:"light",children:o(M,{sx:{display:"flex",gap:1,p:1,flexWrap:"wrap"},children:[o(NH,{action:z,disabled:v},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:282,columnNumber:11},this),o(vH,{disabled:v},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:283,columnNumber:11},this),o(Ps,{size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:284,columnNumber:11},this),o($s,{size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:285,columnNumber:11},this),o(Bp,{buttonGroupProps:{sx:{marginLeft:"auto"}}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:286,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:281,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:280,columnNumber:7},this),p?o(he.Provider,{value:p,children:[o(M,{children:o(I,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[o(I,{item:!0,sx:{flexGrow:-1,maxWidth:"350px"},children:[o(xH,{weaponTypeKey:m,disabled:v},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:294,columnNumber:17},this),o(gH,{disabled:v},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:298,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:293,columnNumber:15},this),o(I,{item:!0,sx:{flexGrow:-1},children:o(cH,{disabled:v},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:301,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:300,columnNumber:15},this),o(I,{item:!0,sx:{flexGrow:1},children:o(dH,{disabled:v,maxTotalRolls:O},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:304,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:303,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:292,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:291,columnNumber:11},this),o(M,{display:"flex",flexDirection:"column",gap:1,children:[S>0&&o(pi,{severity:"warning",variant:"filled",children:o(Oe,{t:e,i18nKey:"tabTheorycraft.feasibilityAlert",values:{minSubLines:T,minOtherRolls:S},children:["The current substat distribution requires at least"," ",o("strong",{children:{minSubLines:T}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:320,columnNumber:19},this)," lines of substats. Need to assign ",o("strong",{children:{minOtherRolls:S}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:321,columnNumber:34},this)," ","rolls to other substats for this solution to be feasible."]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:314,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:313,columnNumber:15},this),o(M,{display:"flex",gap:1,children:[o(ca,{disabled:v,optimizationTarget:c,setTarget:D=>g(D),targetSelectorModalProps:{excludeSections:["character","bounsStats","teamBuff"]}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:327,columnNumber:15},this),o(fi,{value:h,disabled:!c||v,onChange:D=>D!==void 0&&y(D),endAdornment:"Substats",sx:{borderRadius:1,px:1,textWrap:"nowrap",flexShrink:1},inputProps:{sx:{textAlign:"right",px:1,width:"3em",minWidth:"3em"},min:0}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:335,columnNumber:15},this),v?o(Y,{onClick:k,color:"error",startIcon:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:373,columnNumber:30},this),children:"Cancel"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:370,columnNumber:17},this):o(Y,{onClick:()=>A(!0),disabled:!c||!h||h>O,color:"success",startIcon:o(Gp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:365,columnNumber:30},this),children:e`tabTheorycraft.distribute`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:357,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:326,columnNumber:13},this),o(Y,{onClick:()=>A(!1),disabled:!c||v,children:"Log Optimized Substats"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:381,columnNumber:15},this),!!_.size&&o(pi,{severity:"info",variant:"filled",children:[o(Oe,{t:e,i18nKey:"tabTheorycraft.optAlert.scalesWith",children:["The selected Optimization target and constraints scales with:"," "]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:390,columnNumber:17},this),[..._].map(D=>o("strong",{children:[o(la,{statKey:D,iconProps:qe},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:396,columnNumber:23},this),o(Np,{statKey:D},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:397,columnNumber:23},this)]},D,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:395,columnNumber:21},this)).flatMap((D,U,P)=>U===P.length-2?[D,o("span",{children:", and "},"and",!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:402,columnNumber:38},this)]:U===P.length-1?D:[D,o("span",{children:", "},U,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:404,columnNumber:36},this)]),o(Oe,{t:e,i18nKey:"tabTheorycraft.optAlert.distribute",children:". The solver will only distribute stats to these substats."},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:406,columnNumber:17},this)," ",S>0&&o(Oe,{t:e,i18nKey:"tabTheorycraft.optAlert.feasibilty",children:"There may be additional leftover substats that should be distributed to non-scaling stats to ensure the solution is feasible."},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:410,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:389,columnNumber:15},this),o(Q1,{status:N,characterKey:n,gender:i},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:418,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:311,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:290,columnNumber:9},this):o(Ke,{variant:"rectangular",width:"100%",height:500},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:426,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabTheorycraft/index.tsx",lineNumber:250,columnNumber:5},this)}const kH=x.memo(function({levelTotal:t,upOptLevelLow:i,upOptLevelHigh:r,disabled:a,optConfigId:n}){const s=oe(),{t:l}=pe("page_character_optimize");return o(H,{bgt:"light",children:[o(ae,{sx:{display:"flex",gap:1},children:[o(W,{sx:{fontWeight:"bold"},children:l`upOptLevelFilter`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/LevelFilter.tsx",lineNumber:28,columnNumber:9},this),o(ce,{color:"info",children:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/LevelFilter.tsx",lineNumber:31,columnNumber:9},this),o(Cp,{title:l`upOptLevelFilterTooltip`,children:o(gr,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/LevelFilter.tsx",lineNumber:33,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/LevelFilter.tsx",lineNumber:32,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/LevelFilter.tsx",lineNumber:27,columnNumber:7},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/LevelFilter.tsx",lineNumber:36,columnNumber:7},this),o(nv,{levelLow:i,levelHigh:r,setLow:u=>s.optConfigs.set(n,{upOptLevelLow:u}),setHigh:u=>s.optConfigs.set(n,{upOptLevelHigh:u}),setBoth:(u,c)=>s.optConfigs.set(n,{upOptLevelLow:u,upOptLevelHigh:c}),disabled:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/LevelFilter.tsx",lineNumber:37,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/LevelFilter.tsx",lineNumber:26,columnNumber:5},this)}),Ny=[[1],[1,1,1,1],[1,2,3,4,3,2,1],[1,3,6,10,12,12,10,6,3,1],[1,4,10,20,31,40,44,40,31,20,10,4,1],[1,5,15,35,65,101,135,155,155,135,101,65,35,15,5,1]];function pc(e,t){if(e>=Ny.length)throw Error("Input to `quadrinomial` leaves expected range 0 <= n <= 5");return Ny[e][t]??0}function _a(e){const t=.254829592,i=-.284496736,r=1.421413741,a=-1.453152027,n=1.061405429,s=.3275911;let l=1;e<0&&(l=-1),e=Math.abs(e);const u=1/(1+s*e),c=1-((((n*u+a)*u+r)*u+i)*u+t)*u*Math.exp(-e*e);return l*c}function SH(e,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),i<=0?0:Math.exp(-(t-e)*(t-e)/i/2)/Math.sqrt(2*Math.PI*i)}const ka=[1,1,2,6,24,120,720];function Hn(e){for(;e>=ka.length;)ka.push(ka.length*ka[ka.length-1]);return ka[e]}function OH(e,t,i,r,a){return e+t+i+r!==a?0:Hn(a)/Hn(e)/Hn(t)/Hn(i)/Hn(r)*4**-a}function vo(e,t){if(e===0){t([0,0,0,0],1);return}for(let i=e;i>=0;i--)for(let r=e-i;r>=0;r--)for(let a=e-i-r;a>=0;a--){const n=e-i-r-a,s=OH(i,r,a,n,e);t([i,r,a,n],s)}}function d0(e,t,i){if(t<1e-5)return e>i?{p:1,upAvg:e-i}:{p:0,upAvg:0};const r=(i-e)/Math.sqrt(t),a=(1-_a(r/Math.sqrt(2)))/2,n=SH(r),s=1/(r*r),l=r<5?n/a-r:(1-2*s*(1-s*(5+37*s)))/r;return{p:a,upAvg:Math.sqrt(t)*l}}function zH(e,t,i){let r=1,a=1;for(let s=0;s<e.length;++s){if(t[s][s]<1e-5){if(e[s]<i[s])return{p:0,upAvg:0,cp:0};continue}const l=(i[s]-e[s])/Math.sqrt(t[s][s]),u=(1-_a(l/Math.sqrt(2)))/2;r*=u,s!==0&&(a*=u)}const{upAvg:n}=d0(e[0],t[0][0],i[0]);return{p:r,upAvg:n,cp:a}}const dr=17/2,g0=5/4,xy=(g0+dr**2)/4,Ty=(dr/4)**2;var b0=(e=>(e[e.Fast=0]="Fast",e[e.Slow=1]="Slow",e[e.Exact=2]="Exact",e))(b0||{});const Sa={hp:6,atk:6,def:6,hp_:4,atk_:4,def_:4,eleMas:4,enerRech_:4,critRate_:3,critDMG_:3};function zt(e,t=5){return rp(e,Di(e,t)/10)}function rp(e,t){return e.endsWith("_")?t/100:t}class DH{constructor(t,i,r,a,n=!0){this.artifacts=[],this.fixedIx=0,this.baseBuild=ti(r,c=>c?this.toArtifact(c):{id:"",values:{}}),this.nodes=t,this.thresholds=i,this.calc4th=n;const s=[];t.forEach(c=>{s.push(c,...rt.map(m=>Ni(c,p=>p.path[1],m)))});const l=aa(s,{},({path:[c]})=>c!=="dyn"),u=Hy(l,{},c=>c.path[1],5);i[0]=u(Object.values(this.baseBuild))[0],this.skippableDerivatives=rt.map(c=>t.every(m=>To(m,p=>p.path[1],c))),this.eval=(c,m)=>{const p={...this.baseBuild,[m]:{id:"",values:c}},f=u(Object.values(p));return t.map((b,g)=>{const h=g*(1+rt.length);return{v:f[h],grads:rt.map((y,C)=>f[h+1+C])}})},a.forEach(c=>this._addArtifact(c)),this.initCalc()}_addArtifact(t){this.artifacts.push(this.toUpOptArtifact(t))}toUpOptArtifact(t){const i=Pl[t.rarity],r=_o(t.mainStatKey,t.rarity,i);return{id:t.id,rollsLeft:iT(t.level,t.rarity),slotKey:t.slotKey,mainStat:t.mainStatKey,subs:t.substats.map(({key:a})=>a).filter(a=>a!==""),values:{[t.setKey]:1,[t.mainStatKey]:r,...Object.fromEntries(t.substats.filter(({key:a})=>a!=="").map(a=>[a.key,rp(a.key,a.accurateValue)]))}}}reCalc(t,i){this.artifacts[t]=this.toUpOptArtifact(i),this.calcFast(t,this.calc4th)}initCalc(){function t(i){return i.result.p*i.result.upAvg}this.artifacts.forEach((i,r)=>this.calcFast(r,this.calc4th)),this.calcSlowToIndex(5),this.artifacts=this.artifacts.filter(i=>t(i)>0),this.artifacts.sort((i,r)=>t(r)-t(i)),this.fixedIx=0}calcSlowToIndex(t,i=5){const r=this.artifacts.slice(0,this.fixedIx),a=this.artifacts.slice(this.fixedIx);function n(c){return c.result.p*c.result.upAvg}function s(c,m){if(n(c)>1e-5||n(m)>1e-5)return n(m)-n(c);const p=c.result.distr.gmm.reduce((b,{phi:g,mu:h})=>b+g*h,0);return m.result.distr.gmm.reduce((b,{phi:g,mu:h})=>b+g*h,0)-p}let l=0;const u=Math.min(t-this.fixedIx+i,a.length);do{for(;l<u;l++)this.calcSlow(this.fixedIx+l,this.calc4th);for(a.sort(s),this.artifacts=[...r,...a],l=0;l<u&&a[l].result.evalMode!==0;l++);}while(l<u)}_toResultFast(t){let i=0,r=0;const a=t.map(({prob:l,mu:u,cov:c})=>{const m=u.map((b,g)=>d0(b,c[g],this.thresholds[g])),p=Math.min(...m.map(({p:b})=>b)),f=Math.min(...m.slice(1).map(({p:b})=>b));return i+=p*l,r+=p*l*m[0].upAvg,{phi:l,cp:f,mu:u[0],sig2:c[0]}}),n=a.map(({mu:l,sig2:u})=>l-4*Math.sqrt(u)),s=a.map(({mu:l,sig2:u})=>l+4*Math.sqrt(u));return{p:i,upAvg:i<1e-6?0:r/i,distr:{gmm:a,lower:Math.min(...n),upper:Math.max(...s)},evalMode:0}}calcFast(t,i=!0){this.artifacts[t].subs.length===4&&(i=!1),i?this._calcFast4th(t):this._calcFast(t)}_calcFast(t){const{subs:i,slotKey:r,rollsLeft:a}=this.artifacts[t],n=a-(i.length<4?1:0),s={...this.artifacts[t].values};i.forEach(c=>{s[c]+=dr*(n/4)*zt(c)});const u=this.eval(s,r).map(({v:c,grads:m})=>{const p=i.map(h=>m[rt.indexOf(h)]*zt(h)),f=p.reduce((h,y)=>h+y,0),b=p.reduce((h,y)=>h+y*y,0),g=(xy*b-Ty*f**2)*n;return{mu:c,sig2:g}});this.artifacts[t].result=this._toResultFast([{prob:1,mu:u.map(({mu:c})=>c),cov:u.map(({sig2:c})=>c)}])}_calcFast4th(t){const{mainStat:i,subs:r,slotKey:a,rollsLeft:n}=this.artifacts[t],s=n-1,l=rt.filter(m=>!r.includes(m)&&m!==i),u=l.reduce((m,p)=>m+Sa[p],0),c=l.map(m=>{const p=Sa[m]/u,f={...this.artifacts[t].values};r.forEach(h=>{f[h]+=dr*(s/4)*zt(h)}),f[m]=(f[m]??0)+dr*(s/4+1)*zt(m);const g=this.eval(f,a).map(({v:h,grads:y})=>{const C=r.map(T=>y[rt.indexOf(T)]*zt(T)),N=y[rt.indexOf(m)]*zt(m),d=C.reduce((T,S)=>T+S,N),v=C.reduce((T,S)=>T+S*S,N*N),k=(xy*v-Ty*d**2)*s+g0*N*N;return{mu:h,sig2:k}});return{prob:p,mu:g.map(({mu:h})=>h),cov:g.map(({sig2:h})=>h)}});this.artifacts[t].result=this._toResultFast(c)}_toResultSlow(t){let i=0,r=0;const a=t.map(({prob:l,mu:u,cov:c})=>{const{p:m,upAvg:p,cp:f}=zH(u,c,this.thresholds);return i+=l*m,r+=l*m*p,{phi:l,cp:f,mu:u[0],sig2:c[0][0]}}),n=a.map(({mu:l,sig2:u})=>l-4*Math.sqrt(u)),s=a.map(({mu:l,sig2:u})=>l+4*Math.sqrt(u));return{p:i,upAvg:i<1e-6?0:r/i,distr:{gmm:a,lower:Math.min(...n,this.thresholds[0]),upper:Math.max(...s,this.thresholds[0])},evalMode:1}}calcSlow(t,i=!0){var r,a;((r=this.artifacts[t].result)==null?void 0:r.evalMode)===1||((a=this.artifacts[t].result)==null?void 0:a.evalMode)===2||(this.artifacts[t].subs.length===4&&(i=!1),i?this._calcSlow4th(t):this._calcSlow(t))}_calcSlow(t){const{subs:i,slotKey:r,rollsLeft:a}=this.artifacts[t],n=a-(i.length<4?1:0),s=[];vo(n,(l,u)=>{const c={...this.artifacts[t].values};i.forEach((g,h)=>{c[g]+=dr*l[h]*zt(g)});const m=this.eval(c,r),p=m.map(({grads:g})=>i.map(h=>g[rt.indexOf(h)]*zt(h))),f=m.map(g=>g.v),b=p.map(g=>p.map(h=>g.reduce((y,C,N)=>y+g[N]*h[N]*l[N],0)));s.push({prob:u,mu:f,cov:b})}),this.artifacts[t].result=this._toResultSlow(s)}_calcSlow4th(t){const{mainStat:i,subs:r,slotKey:a,rollsLeft:n}=this.artifacts[t],s=n-1,l=rt.filter(m=>!r.includes(m)&&m!==i),u=l.reduce((m,p)=>m+Sa[p],0),c=[];l.forEach(m=>{vo(s,(p,f)=>{f=f*(Sa[m]/u);const b={...this.artifacts[t].values};p[3]+=1,r.forEach((N,d)=>{b[N]+=dr*p[d]*zt(N)}),b[m]=(b[m]??0)+dr*p[3]*zt(m);const g=this.eval(b,a),h=g.map(({grads:N})=>{const d=r.map(v=>N[rt.indexOf(v)]*zt(v));return d.push(N[rt.indexOf(m)]*zt(m)),d}),y=g.map(N=>N.v),C=h.map(N=>h.map(d=>N.reduce((v,k,T)=>v+N[T]*d[T]*p[T],0)));c.push({prob:f,mu:y,cov:C})})}),this.artifacts[t].result=this._toResultSlow(c)}_toResultExact(t){let i=0,r=0;const a=t.map(({prob:s,val:l})=>{if(l.every((c,m)=>c>=this.thresholds[m]))return i+=s,r+=s*(l[0]-this.thresholds[0]),{phi:s,cp:1,mu:l[0],sig2:0};const u=l.slice(1).every((c,m)=>c>=this.thresholds[m]);return{phi:s,cp:u?1:0,mu:l[0],sig2:0}}),n=a.map(({mu:s})=>s);return{p:i,upAvg:i<1e-6?0:r/i,distr:{gmm:a,lower:Math.min(...n),upper:Math.max(...n)},evalMode:2}}calcExact(t,i=!0){var r;((r=this.artifacts[t].result)==null?void 0:r.evalMode)!==2&&(this.artifacts[t].subs.length===4&&(i=!1),i?this._calcExact4th(t):this._calcExact(t))}_calcExact(t){const{subs:i,slotKey:r,rollsLeft:a}=this.artifacts[t],n=a-(i.length<4?1:0),s=[];vo(n,(l,u)=>{const c={...this.artifacts[t].values},m=l.map((p,f)=>i[f]&&!this.skippableDerivatives[rt.indexOf(i[f])]?Vi(7*p,10*p):[NaN]);ph(...m).forEach(p=>{const f={...c};let b=1;for(let g=0;g<4;g++){if(isNaN(p[g]))continue;const h=i[g],y=p[g],C=l[g];f[h]=(f[h]??0)+y*zt(h);const N=4**-C*pc(C,y-7*C);b*=N}s.push({prob:u*b,val:this.eval(f,r).map(g=>g.v)})})}),this.artifacts[t].result=this._toResultExact(s)}_calcExact4th(t){const{mainStat:i,subs:r,slotKey:a,rollsLeft:n}=this.artifacts[t],s=n-1,l=rt.filter(m=>!r.includes(m)&&m!==i),u=l.reduce((m,p)=>m+Sa[p],0),c=[];l.forEach(m=>{const p=Sa[m]/u;vo(s,(f,b)=>{const g=f.map((h,y)=>y===3?(h+=1,this.skippableDerivatives[rt.indexOf(m)]?[NaN]:Vi(7*h,10*h)):r[y]&&!this.skippableDerivatives[rt.indexOf(r[y])]?Vi(7*h,10*h):[NaN]);ph(...g).forEach(h=>{const y={...this.artifacts[t].values};let C=1;for(let N=0;N<3;N++){if(isNaN(h[N]))continue;const d=r[N],v=h[N],k=f[N];y[d]=(y[d]??0)+v*zt(d);const T=4**-k*pc(k,v-7*k);C*=T}if(!isNaN(h[3])){const N=m,d=h[3],v=f[3]+1;y[N]=(y[N]??0)+d*zt(N);const k=4**-v*pc(v,d-7*v);C*=k}c.push({prob:p*b*C,val:this.eval(y,a).map(N=>N.v)})})})}),this.artifacts[t].result=this._toResultExact(c)}toArtifact(t){const i=_o(t.mainStatKey,t.rarity,t.level),r={id:t.id,slot:t.slotKey,level:t.level,rarity:t.rarity,values:{[t.setKey]:1,[t.mainStatKey]:i,...Object.fromEntries(t.substats.map(a=>[a.key,rp(a.key,a.accurateValue)]).filter(([,a])=>a!==0))},subs:t.substats.reduce((a,n)=>(n.key!==""&&a.push(n.key),a),[])};return delete r.values[""],r}}const ky=50;function _H(e){var l;const t=oe(),i=(l=e.upOptCalc.artifacts[e.ix])==null?void 0:l.id,r=t.arts.get(i),{data:a}=x.useContext(he),n=(r==null?void 0:r.slotKey)&&a.get(et.art[r.slotKey].id).value;return o(M,{children:o(I,{container:!0,spacing:1,children:[o(I,{item:!0,xs:12,sm:5,md:4,lg:3,xl:3,children:o(Zy,{artifactId:i,onEdit:()=>e.setArtifactIdToEdit(i),extraButtons:o(wH,{newArtId:i,disabled:i===n},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:69,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:66,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:65,columnNumber:9},this),o(I,{item:!0,xs:12,sm:7,md:8,lg:9,xl:9,children:o(AH,{...e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:73,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:72,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:64,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:63,columnNumber:5},this)}function wH({newArtId:e,disabled:t}){const i=oe(),{loadoutDatum:r,loadoutDatum:{buildType:a,buildId:n},teamChar:{key:s}}=x.useContext(Se),[l,u,c]=He(),m=i.teams.getLoadoutWeapon(r),p=ti(i.teams.getLoadoutArtifacts(r),b=>b==null?void 0:b.id),f=i.arts.get(e);if(f)return o(Ce,{children:[o(By,{equipChangeProps:{currentName:a==="real"?i.builds.get(n).name:"Equipped",currentWeapon:m==null?void 0:m.id,currentArtifacts:p,newWeapon:m==null?void 0:m.id,newArtifacts:ti(p,(b,g)=>g===f.slotKey?e:b)},showPrompt:l,onEquip:()=>{a==="equipped"?i.arts.set(e,{location:at(s)}):a==="real"&&i.builds.set(n,b=>{b.artifactIds[f.slotKey]=e})},OnHidePrompt:c},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:103,columnNumber:7},this),o(Cp,{title:o(W,{children:"Equip"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:129,columnNumber:23},this),placement:"top",arrow:!0,children:o(M,{children:o(Y,{color:"info",size:"small",onClick:u,disabled:t,children:o(Ra,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:137,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:131,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:130,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:129,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:102,columnNumber:5},this)}function AH({thresholds:e,objMin:t,objMax:i,upOptCalc:r,ix:a}){const n=r.artifacts[a],s=oe(),[,l]=ir(),u=s.arts.get(n.id),c=x.useCallback(()=>{const D=s.arts.get(n.id);D&&(r.reCalc(a,D),l())},[s,l,a,r,n.id]);x.useEffect(()=>s.arts.follow(n.id,(D,U)=>U==="update"&&c()),[s,c,n.id]);const m=e.length>1,p=(D,U)=>n.result.distr.gmm.reduce((P,{phi:$,mu:B,sig2:q})=>{const j=Math.sqrt(q);if(j<.001)return D<=B&&B<U?$+P:P;const F=_a((B-D)/j)-_a((B-U)/j);return P+$*F/2},0),f=(D,U)=>n.result.distr.gmm.reduce((P,{cp:$,phi:B,mu:q,sig2:j})=>{const F=Math.sqrt(j);if(F<.001)return D<=q&&q<U?$*B+P:P;const K=_a((q-D)/F)-_a((q-U)/F);return P+$*B*K/2},0),b=e[0],g=x.useCallback(D=>100*(D-b)/b,[b]),h=(i-t)/ky,y=rT(t,i,ky,!1).flatMap(D=>[{x:g(D),est:p(D,D+h),estCons:f(D,D+h)},{x:g(D+h),est:p(D,D+h),estCons:f(D,D+h)}]);y.unshift({x:g(t),est:0,estCons:0}),y.push({x:g(i),est:0,estCons:0});const C=y.reduce((D,{est:U})=>Math.max(D,U),0)||1,N=(b-t)/(i-t),d=n.result.p,v=n.result.upAvg,k=y,T=n.result.evalMode===b0.Exact;x.useEffect(()=>{T||(r.calcExact(a),l())},[r,T,a,l]);const S=o("span",{children:["Prob. upgrade",T?"":" (est.)",":"," ",o("strong",{children:[(100*d).toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:231,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:229,columnNumber:5},this),O=o("span",{children:["Average increase",T?"":" (est.)",":"," ",o("strong",{children:[v<=0?"":"+",(100*v/b).toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:237,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:235,columnNumber:5},this),{data:_}=x.useContext(he),z=((u==null?void 0:u.slotKey)&&_.get(et.art[u.slotKey].id).value)===n.id;return o(H,{bgt:"light",sx:{height:"100%"},children:[o(M,{sx:{display:"flex",flexDirection:"row"},children:[o(M,{sx:{height:50,width:50},children:!!(u!=null&&u.slotKey)&&o(UH,{slotKey:u.slotKey},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:252,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:250,columnNumber:9},this),o(M,{sx:{flexGrow:1,display:"flex",flexDirection:"row",alignItems:"center",gap:2,px:2,py:1},children:[o(M,{flexGrow:1,children:z?o(ce,{color:"secondary",children:"Equipped"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:268,columnNumber:15},this):o(W,{children:"Current on Build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:270,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:266,columnNumber:11},this),o(W,{children:S},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:274,columnNumber:11},this),o(W,{children:O},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:275,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:255,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:249,columnNumber:7},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:278,columnNumber:7},this),o(SN,{width:"100%",height:"100%",maxHeight:300,children:o(u0,{data:k,margin:{top:5,right:30,left:20,bottom:20},children:[o(Js,{dataKey:"x",type:"number",domain:["auto","auto"],allowDecimals:!1,tickFormatter:D=>`${D<=0?"":"+"}${D}%`,children:o(Ye,{value:"Relative Increase to Target",position:"insideBottom",style:{fill:"#eaebed"},offset:-10},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:296,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:289,columnNumber:11},this),o(Zs,{type:"number",domain:[0,C],tickFormatter:D=>`${(D*100).toFixed()}%`,children:o(Ye,{value:"Probability",position:"insideLeft",angle:-90,style:{fill:"#eaebed"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:308,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:303,columnNumber:11},this),o(na,{verticalAlign:"top",height:36},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:315,columnNumber:11},this),o("defs",{children:o("linearGradient",{id:`splitOpacity${n.id}`,x1:"0",y1:"0",x2:N,y2:"0",children:[o("stop",{offset:1,stopColor:T?"#f17704":"orange",stopOpacity:0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:325,columnNumber:15},this),o("stop",{offset:0,stopColor:T?"#f17704":"orange",stopOpacity:1},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:330,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:318,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:317,columnNumber:11},this),o(oa,{dataKey:"dne",stroke:"red",name:"Current Target Value"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:338,columnNumber:11},this),o(oa,{dataKey:"dne",stroke:"rgba(0,200,0)",name:"Average Increase"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:339,columnNumber:11},this),m&&o(tr,{type:"monotone",dataKey:"est",stroke:"grey",dot:!1,fill:"grey",legendType:"none",tooltipType:"none",opacity:.5,activeDot:!1},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:341,columnNumber:13},this),o(tr,{type:"monotone",dataKey:"estCons",stroke:T?"#f17704":"orange",dot:!1,fill:`url(#splitOpacity${n.id})`,opacity:.5,name:T?`Exact${m?" Constrained":""} Distribution`:"Estimated Distribution",activeDot:!1},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:353,columnNumber:11},this),o(kl,{x:g(b),stroke:"red",strokeDasharray:"3 3",name:"Current Target"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:367,columnNumber:11},this),o(kl,{x:g(b+v),stroke:"rgba(0,200,0,1)",strokeDasharray:"3 3",name:"Current Target"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:373,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:285,columnNumber:9},this)},n.id,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:279,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:248,columnNumber:5},this)}function UH({slotKey:e}){const t=oe(),{data:i}=x.useContext(he),r=x.useMemo(()=>t.arts.get(i.get(et.art[e].id).value),[e,i,t]);return o(yp,{slotKey:e,artifactObj:r},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/UpgradeOptChartCard.tsx",lineNumber:392,columnNumber:10},this)}function GH(){const{t:e}=pe("page_character_optimize"),{teamId:t,teamCharId:i,teamChar:{optConfigId:r,key:a},loadoutDatum:n}=x.useContext(Se),s=oe(),{gender:l}=$t(),[u,c]=x.useState(),m=s.teams.getActiveTeamChar(t).key,p=x.useMemo(()=>!s.arts.values.length,[s]),f=yi(r),{optimizationTarget:b,upOptLevelLow:g,upOptLevelHigh:h}=f,y=sv(),{target:C}=(y==null?void 0:y[a])??{},[N,d]=ir();x.useEffect(()=>s.arts.followAny((K,J)=>(J==="new"||J==="remove")&&d()),[d,s]);const v=x.useMemo(()=>{const{mainStatKeys:K,excludedLocations:J,artExclusion:V,upOptLevelLow:Q,upOptLevelHigh:se,useExcludedArts:de}=f;return N&&s.arts.values.filter(ye=>{if(!de&&V.includes(ye.id)||ye.level<Q||ye.level>se)return!1;const ne=K[ye.slotKey];if(ne!=null&&ne.length&&!ne.includes(ye.mainStatKey))return!1;const ie=at(a);return!(ye.location&&ye.location!==ie&&J.includes(ye.location))})},[f,N,s,a]),k=x.useMemo(()=>ot(v.map(({id:K})=>K),K=>!0),[v]),{levelTotal:T}=x.useMemo(()=>Ms({levelTotal:["in"]},J=>s.arts.entries.forEach(([V,Q])=>{const{level:se}=Q,{upOptLevelLow:de,upOptLevelHigh:ye}=f;se>=de&&se<=ye&&(J.levelTotal.in.total++,k[V]&&J.levelTotal.in.current++)})),[s,f,k]),S=Fk(n),O=x.useMemo(()=>{var ue;const{statFilters:K,optimizationTarget:J,mainStatKeys:V,upOptLevelLow:Q,upOptLevelHigh:se,artSetExclusion:de}=f;if(!J)return;const ye=y&&ov(s,t,i,0,[]);if(!ye)return;const ne=(ue=lv(ye.teamData,l,m)[a])==null?void 0:ue.target.data[0];if(!ne)return;Object.assign(ne,hp([ne,$p]));const ie=Ut(ne.display??{},J);if(!ie)return;const R=Object.entries(K).flatMap(([re,xe])=>xe.filter(_e=>!_e.disabled).map(_e=>{const St=Ut(ne.display??{},JSON.parse(re)),qt=(St==null?void 0:St.info)&&Mt(St.info),xt=(qt==null?void 0:qt.unit)==="%"?_e.value/100:_e.value;return{value:St,minimum:xt}})),Z=ot(Ze,re=>{var xe;return(xe=S[re])==null?void 0:xe.setKey});function le(re){const xe={...Z};xe[re.slotKey]=re.setKey;const _e={};if(Ze.forEach(xt=>{const Ot=xe[xt];Ot&&(Ot.startsWith("Prayers")||(_e[Ot]=(_e[Ot]??0)+1))}),!Object.entries(_e).every(([xt,Ot])=>{const Ci=de[xt];if(!Ci)return!0;switch(Ot){case 0:case 1:return!0;case 2:case 3:return!Ci.includes(2);case 4:case 5:return!Ci.includes(4);default:throw Error("error in respectSetExclude: num > 5")}}))return!1;if(!de.rainbow)return!0;switch(Object.values(_e).reduce((xt,Ot)=>xt+Ot%2,0)){case 0:case 1:return!0;case 2:case 3:return!de.rainbow.includes(2);case 4:case 5:return!de.rainbow.includes(4);default:throw Error("error in respectSex: nRainbow > 5")}}const E=v.map(re=>s.arts.get(re.id)).filter(Tr).filter(re=>re.rarity===5).filter(le).filter(re=>{var xe,_e;return!((xe=V[re.slotKey])!=null&&xe.length)||((_e=V[re.slotKey])==null?void 0:_e.includes(re.mainStatKey))}).filter(re=>Q<=re.level&&re.level<=se);if(!E.length)return;const ge=aa([ie,...R.map(re=>re.value)],ne,({path:[re]})=>re!=="dyn");return new DH(ge,[-1/0,...R.map(re=>re.minimum)],S,E)},[f,y,s,t,i,l,m,a,v,S]),[_,A]=x.useState(0);x.useEffect(()=>{A(0)},[O]);const z=5,{indexes:D,numPages:U,currentPageIndex:P,minObj0:$,maxObj0:B}=x.useMemo(()=>{if(!O)return{indexes:[],numPages:0,currentPageIndex:0,toShow:0,minObj0:0,maxObj0:0};const K=Math.ceil(O.artifacts.length/z),J=Ft(_,0,K-1),V=O.artifacts.slice(J*z,(J+1)*z),Q=O.thresholds[0];return{indexes:Vi(J*z,Math.min((J+1)*z-1,O.artifacts.length-1)),numPages:K,currentPageIndex:J,minObj0:V.reduce((se,de)=>Math.min(de.result.distr.lower,se),Q),maxObj0:V.reduce((se,de)=>Math.max(de.result.distr.upper,se),Q)}},[_,O]),q=x.useCallback((K,J)=>{if(!O)return;const V=J*z;O.calcSlowToIndex(V),A(J-1)},[O]),j=x.useMemo(()=>C&&y&&{data:C,teamData:y},[C,y]),F=U>1&&o(H,{bgt:"light",children:o(ae,{children:o(I,{container:!0,children:[o(I,{item:!0,flexGrow:1,children:o(Bk,{count:U,page:P+1,onChange:q},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:378,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:377,columnNumber:11},this),o(I,{item:!0,children:o(EH,{numShowing:D.length,total:(O==null?void 0:O.artifacts.length)??0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:385,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:384,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:376,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:375,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:374,columnNumber:5},this);return o(M,{display:"flex",flexDirection:"column",gap:1,children:[p&&o(Fv,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:397,columnNumber:22},this),j&&o(he.Provider,{value:j,children:o(aT,{spacing:1,children:[o(M,{children:o(I,{container:!0,spacing:1,children:[o(I,{item:!0,xs:12,sm:6,lg:3,display:"flex",flexDirection:"column",gap:1,children:[o(m0,{characterKey:a},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:415,columnNumber:19},this),o(sC,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:416,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:405,columnNumber:17},this),o(I,{item:!0,xs:12,sm:6,lg:4,display:"flex",flexDirection:"column",gap:1,children:[o(kH,{levelTotal:T.in,upOptLevelLow:g,upOptLevelHigh:h,optConfigId:r},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:429,columnNumber:19},this),o(H,{bgt:"light",children:o(c0,{disabled:!1,filteredArtIdMap:k},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:436,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:435,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:420,columnNumber:17},this),o(I,{item:!0,xs:12,sm:6,lg:5,display:"flex",flexDirection:"column",gap:1,children:[o(nC,{disabled:!1},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:452,columnNumber:19},this),o(p0,{disabled:!1},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:454,columnNumber:19},this),o(jl,{bgt:"light",dataAdSlot:"3955015620"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:455,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:443,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:403,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:402,columnNumber:13},this),o(gi,{children:o(ca,{optimizationTarget:b,setTarget:K=>s.optConfigs.set(r,{optimizationTarget:K}),disabled:!1,targetSelectorModalProps:{excludeSections:["character","bounsStats","teamBuff"]}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:460,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:459,columnNumber:13},this),o(pi,{severity:"info",children:o(Oe,{t:e,i18nKey:"upOptInfo",children:["The Artifact Upgrader identifies artifacts with high potential to boost the Optimization Target's value, guiding you to artifacts worth leveling up.",o("br",{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:478,columnNumber:17},this),"As it only swaps one artifact at a time, for the best overall build across all artifacts, use the main artifact optimizer."]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:474,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:473,columnNumber:13},this),Object.values(S).some(K=>!K)&&o(pi,{severity:"warning",children:o(Oe,{t:e,i18nKey:"upOptEmptyBuild",children:"You're using a partially empty build. Since the Artifact Upgrader only swaps artifacts individually, completing a set is unlikely. It's recommended to begin with a base build, preferably generated from the main Optimizer."},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:485,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:484,columnNumber:15},this),o(H,{bgt:"light",children:o(ae,{children:o(I,{container:!0,spacing:1,children:[o(I,{item:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:496,columnNumber:19},this),o(I,{item:!0,children:o(Ps,{size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:498,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:497,columnNumber:19},this),o(I,{item:!0,children:o($s,{size:"small"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:501,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:500,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:495,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:494,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:493,columnNumber:13},this),F,p&&o(UT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:507,columnNumber:28},this),o(x.Suspense,{fallback:!1,children:o(nT,{artifactIdToEdit:u,cancelEdit:()=>c(void 0),allowUpload:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:509,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:508,columnNumber:13},this),!(O!=null&&O.artifacts.length)&&o(pi,{severity:"warning",children:e`upOptNoResults`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:516,columnNumber:15},this),o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",sx:{width:"100%",height:600,minHeight:5e3}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:520,columnNumber:17},this),children:!!O&&D.map(K=>O.artifacts[K]&&o(_H,{upOptCalc:O,ix:K,setArtifactIdToEdit:c,thresholds:O.thresholds??[],objMax:B,objMin:$},`${K}+${O.artifacts[K].id}`,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:530,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:518,columnNumber:13},this),F]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:401,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:400,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:396,columnNumber:5},this)}function EH({numShowing:e,total:t}){return o(W,{color:"text.secondary",children:o(Oe,{i18nKey:"showingNum",count:e,value:t,children:["Showing ",{count:e}," out of ",{value:t}," Artifacts"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:559,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Tabs/TabUpgradeOpt/index.tsx",lineNumber:558,columnNumber:5},this)}function MH({tab:e}){const{loadoutDatum:t,teamChar:{key:i}}=x.useContext(Se),r=!!(t.buildTcId&&t.buildType==="tc");return o(Ce,{children:[o(nS,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:46,columnNumber:7},this),o(Sy,{tab:e,characterKey:i,isTCBuild:r},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:47,columnNumber:7},this),o(PH,{isTCBuild:r},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:48,columnNumber:7},this),o(Sy,{tab:e,characterKey:i,isTCBuild:r,hideTitle:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:49,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:45,columnNumber:5},this)}function PH({isTCBuild:e}){return o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:"100%",height:500},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:62,columnNumber:17},this),children:o(dv,{children:[o(Fi,{path:"",index:!0,element:o(nO,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:65,columnNumber:39},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:65,columnNumber:9},this),e?o(Fi,{path:"theorycraft",element:o(TH,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:68,columnNumber:46},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:68,columnNumber:11},this):o(Fi,{path:"overview",element:o(Zq,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:70,columnNumber:43},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:70,columnNumber:11},this),o(Fi,{path:"talent",element:o(tH,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:72,columnNumber:39},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:72,columnNumber:9},this),!e&&o(Fi,{path:"optimize",element:o(Iq,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:73,columnNumber:56},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:73,columnNumber:24},this),!e&&o(Fi,{path:"upopt",element:o(GH,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:75,columnNumber:53},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:75,columnNumber:24},this),o(Fi,{path:"*",element:o(gv,{to:"",replace:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:76,columnNumber:34},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:76,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:64,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:61,columnNumber:5},this)}function Sy({tab:e,characterKey:t,isTCBuild:i,hideTitle:r=!1}){const{teamChar:a,loadoutDatum:n}=x.useContext(Se),s=oe(),{t:l}=pe("page_character"),{gender:u}=$t(),c=bn(t),m=sT(t,"banner",u),p=$i(),f=Yi(p.breakpoints.down("md"));return o(H,{sx:b=>({position:"relative",boxShadow:c?`0px 0px 0px 0.5px ${b.palette[c].main} inset`:void 0,"&::before":{content:'""',display:"block",position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.4,backgroundImage:`url(${m})`,backgroundPosition:"center",backgroundSize:"cover"}}),children:[!r&&o(ae,{sx:{display:"flex",justifyContent:"center",pb:0,textShadow:"#000 0 0 10px !important",position:"relative"},children:o(ht,{title:a.description?o(W,{children:a.description},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:137,columnNumber:17},this):void 0,children:o(W,{variant:"h6",sx:{display:"flex",gap:1,alignItems:"center"},children:[o(wo,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:145,columnNumber:15},this),o("strong",{children:a.name},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:146,columnNumber:15},this),o(be,{orientation:"vertical",variant:"middle",flexItem:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:147,columnNumber:15},this),o(Ra,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:148,columnNumber:15},this),s.teams.getActiveBuildName(n)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:141,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:134,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:125,columnNumber:9},this),o(bv,{value:e??"setting",variant:f?"scrollable":"fullWidth",allowScrollButtonsMobile:!0,sx:b=>{var g;return{position:"relative","& .MuiTab-root:hover":{transition:"background-color 0.25s ease",backgroundColor:"rgba(255,255,255,0.1)"},"& .MuiTab-root.Mui-selected":{color:"white !important"},"& .MuiTab-root":{textShadow:"#000 0 0 10px !important"},"& .MuiTabs-indicator":{backgroundColor:c&&((g=b.palette[c])==null?void 0:g.main),height:"4px"}}},children:[o(fr,{value:"setting",label:l("tabs.setting"),icon:o(Ra,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:181,columnNumber:17},this),component:pr,to:""},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:178,columnNumber:9},this),i?o(fr,{value:"theorycraft",label:l("tabs.theorycraft"),icon:o(TT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:189,columnNumber:19},this),component:pr,to:"theorycraft"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:186,columnNumber:11},this):o(fr,{value:"overview",label:l("tabs.overview"),icon:o(wo,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:197,columnNumber:19},this),component:pr,to:"overview"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:194,columnNumber:11},this),o(fr,{value:"talent",label:l("tabs.talent"),icon:o(Hv,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:205,columnNumber:17},this),component:pr,to:"talent"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:202,columnNumber:9},this),!i&&o(fr,{value:"optimize",label:l("tabs.optimize"),icon:o(zT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:213,columnNumber:19},this),component:pr,to:"optimize"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:210,columnNumber:11},this),!i&&o(fr,{value:"upopt",label:l("tabs.upgradeopt"),icon:o(Kv,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:222,columnNumber:19},this),component:pr,to:"upopt"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:219,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:154,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/CharacterDisplay/Content.tsx",lineNumber:101,columnNumber:5},this)}function $H({teamId:e,characterKey:t,tab:i=""}){const r=xp(),a=oe(),{gender:n}=$t(),s=Is(e),{loadoutData:l}=s,u=l.map(b=>{if(!b)return;const g=a.teamChars.get(b.teamCharId);if(g)return bn(g.key)}),c=l.findIndex(b=>{var g;return b&&((g=a.teamChars.get(b==null?void 0:b.teamCharId))==null?void 0:g.key)===t}),m=u[c],p=$i(),f=Yi(p.breakpoints.down("md"));return o(M,{sx:b=>{var N;const g=No(xo(b.palette.contentLight.main),t?.5:1),h=[...f?[g,g]:[g],...u.map((d,v)=>{if(!d)return"rgba(0,0,0,0)";const k=b.palette[d].main,T=xo(k);return T?No(T,c===v?.5:.15):"rgba(0,0,0,0)"})],y=m&&xo(b.palette[m].main),C=y&&No(y,.3);return{background:`linear-gradient(to ${f?"bottom":"right"}, ${h.map((d,v,k)=>`${d} ${v*(100/k.length)+50/k.length}%`).join(", ")})`,borderBottom:`1px ${C??"rgb(200,200,200,0.3)"} solid`,"& .MuiTab-root:hover":{transition:"background-color 0.25s ease",backgroundColor:"rgba(255,255,255,0.1)"},"& .Mui-selected":{color:"white !important"},"& .MuiTabs-indicator":{height:"4px",backgroundColor:(m&&((N=b.palette[m])==null?void 0:N.main))??"rgb(200,200,200,0.5)"}}},children:[o(ht,{title:s.description?o(W,{children:s.description},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamCharacterSelector.tsx",lineNumber:101,columnNumber:13},this):void 0,children:o(ae,{sx:{display:"flex",justifyContent:"center",pb:0},children:o(W,{variant:"h5",display:"flex",children:s.name},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamCharacterSelector.tsx",lineNumber:106,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamCharacterSelector.tsx",lineNumber:105,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamCharacterSelector.tsx",lineNumber:98,columnNumber:7},this),o(bv,{variant:"fullWidth",value:t??"team",orientation:f?"vertical":"horizontal",children:[o(fr,{icon:o(oT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamCharacterSelector.tsx",lineNumber:117,columnNumber:17},this),iconPosition:"start",value:"team",label:"Team Settings",onClick:()=>r(`/teams/${e}/`)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamCharacterSelector.tsx",lineNumber:116,columnNumber:9},this),l.map((b,g)=>{var y;const h=b&&((y=a.teamChars.get(b==null?void 0:b.teamCharId))==null?void 0:y.key);return o(fr,{icon:h?o(Il,{characterKey:h,sideMargin:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamCharacterSelector.tsx",lineNumber:131,columnNumber:19},this):o(wo,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamCharacterSelector.tsx",lineNumber:133,columnNumber:19},this),iconPosition:"start",value:h??g,disabled:!l[g],label:h?o(Ul,{characterKey:h,gender:n},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamCharacterSelector.tsx",lineNumber:142,columnNumber:19},this):`Character ${g+1}`,onClick:()=>h&&r(`/teams/${e}/${h}/${i}`)},g,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamCharacterSelector.tsx",lineNumber:128,columnNumber:13},this)})]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamCharacterSelector.tsx",lineNumber:111,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamCharacterSelector.tsx",lineNumber:52,columnNumber:5},this)}function IH({teamId:e,loadoutDatum:t,dropdownBtnProps:i={}}){const r=oe(),{teamCharId:a,buildType:n,buildId:s,buildTcId:l}=t,u=r.teamChars.get(a),{buildIds:c,buildTcIds:m}=u,p=f=>r.teams.setLoadoutDatum(e,a,f);return o(dt,{startIcon:o(Ra,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/BuildDropdown.tsx",lineNumber:26,columnNumber:18},this),title:o(M,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[o("span",{children:r.teams.getActiveBuildName(t)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/BuildDropdown.tsx",lineNumber:29,columnNumber:11},this),n==="tc"&&o(ce,{color:"success",children:"TC"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/BuildDropdown.tsx",lineNumber:30,columnNumber:34},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/BuildDropdown.tsx",lineNumber:28,columnNumber:9},this),...i,children:[o(Pe,{disabled:n==="equipped",onClick:()=>p({buildType:"equipped"}),sx:{display:"flex",gap:1},children:"Equipped Build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/BuildDropdown.tsx",lineNumber:35,columnNumber:7},this),c.map(f=>{const{name:b}=r.builds.get(f);return o(Pe,{disabled:n==="real"&&f===s,onClick:()=>p({buildType:"real",buildId:f}),sx:{display:"flex",gap:1},children:b},f,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/BuildDropdown.tsx",lineNumber:45,columnNumber:11},this)}),m.map(f=>{const{name:b}=r.buildTcs.get(f);return o(Pe,{disabled:n==="tc"&&f===l,onClick:()=>p({buildType:"tc",buildTcId:f}),sx:{display:"flex",gap:1},children:[o("span",{children:b},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/BuildDropdown.tsx",lineNumber:69,columnNumber:13},this),o(ce,{color:"success",children:"TC"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/BuildDropdown.tsx",lineNumber:70,columnNumber:13},this)]},f,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/BuildDropdown.tsx",lineNumber:61,columnNumber:11},this)})]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/BuildDropdown.tsx",lineNumber:25,columnNumber:5},this)}function RH({teamId:e,team:t,dataContextValue:i}){const{t:r}=pe("page_character"),{loadoutData:a}=Is(e),n=a.reduce((l,u)=>l+(u?1:0),0),s=x.useMemo(()=>({teamId:e,team:t,teamCharId:"",teamChar:{}}),[t,e]);return o(H,{bgt:"light",children:[o(Ve,{title:o("span",{children:[r("tabTeambuff.team_reso")," ",o("strong",{children:o(Ee,{color:n>=4?"success":"warning",children:["(",n,"/4)"]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:49,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:48,columnNumber:13},this)," ",o(bp,{title:o(W,{children:r`tabTeambuff.resonance_tip`},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:54,columnNumber:22},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:53,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:46,columnNumber:11},this),titleTypographyProps:{variant:"h6"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:44,columnNumber:7},this),i&&o(Ce,{children:[o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:63,columnNumber:11},this),o(ae,{sx:{display:"flex",flexDirection:"column",gap:1},children:o(he.Provider,{value:i,children:o(Se.Provider,{value:s,children:o(jH,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:69,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:68,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:67,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:64,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:62,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:43,columnNumber:5},this)}function jH(){const{data:e}=x.useContext(he),t=fh.some(i=>i.canShow(e));return o(Ce,{children:fh.map((i,r)=>{const a=i.canShow(e);return!a&&t?null:o(H,{sx:{opacity:a?1:.5},children:[o(Ve,{title:o("span",{children:[i.name," ",o(bp,{title:o(W,{children:i.desc},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:93,columnNumber:28},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:92,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:90,columnNumber:17},this),action:i.icon,titleTypographyProps:{variant:"subtitle2"}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:88,columnNumber:13},this),i.canShow(e)&&o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:100,columnNumber:35},this),i.canShow(e)&&o(zr,{sections:i.sections,teamBuffOnly:!0,hideDesc:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:102,columnNumber:15},this)]},r,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:87,columnNumber:11},this)})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/ResonanceDisplay.tsx",lineNumber:82,columnNumber:5},this)}function BH(){const{data:e}=x.useContext(he),t=x.useMemo(()=>{const i=e.getTeamBuff();return[...Object.values(i.total??{}),...Object.values(i.premod??{}),...Object.values(i.enemy??{})].filter(a=>!a.isEmpty&&a.value!==0)},[e]);return t.length?o(kv,{sx:i=>({bgcolor:i.palette.contentLight.main,borderRadius:"4px","&:before":{display:"none"}}),disableGutters:!0,children:[o(Dv,{expandIcon:o(jy,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:71,columnNumber:37},this),children:o(M,{sx:{display:"flex",alignItems:"center"},children:[o(W,{children:"Received Team Buffs"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:73,columnNumber:11},this),o(ce,{sx:{ml:1},color:t.length?"success":"info",children:t.length},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:74,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:72,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:71,columnNumber:7},this),o(Ov,{sx:{p:0},children:[o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:80,columnNumber:9},this),o(Ia,{bgt:"light",children:t.map(i=>o(Es,{calcRes:i},JSON.stringify(i.info),!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:83,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:81,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:79,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:61,columnNumber:5},this):null}function LH({teamCharId:e,dataContextValue:t,teamId:i}){var y;const r=oe(),{teamData:a}=t,n=Is(i),s=kp(e),l=r.teams.getLoadoutDatum(i,e),u=s==null?void 0:s.key,c=yv(u),{key:m}=c,p=a[u],f=x.useMemo(()=>p&&{teamId:i,team:n,teamCharId:e,teamChar:s,loadoutDatum:l},[i,n,e,s,p,l]),b=x.useMemo(()=>({character:c}),[c]),g=x.useMemo(()=>p&&{data:p.target,teamData:a},[p,a]);if(!u||!f||!g||!b)return null;const h=l.buildType==="tc"&&!!((y=r.buildTcs.get(l.buildTcId))!=null&&y.character);return o(Se.Provider,{value:f,children:o(he.Provider,{value:g,children:o(Je.Provider,{value:b,children:o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:"100%",height:600},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:151,columnNumber:15},this),children:[o(H,{bgt:"light",children:o(gn,{component:pr,to:`${m}`,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:o(tv,{characterKey:m,children:o(iv,{characterKey:m,tcOverride:h},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:161,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:160,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:155,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:154,columnNumber:13},this),o(FH,{loadoutDatum:l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:169,columnNumber:13},this),o(qH,{loadoutDatum:l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:170,columnNumber:13},this),o(BH,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:171,columnNumber:13},this),o(HH,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:172,columnNumber:13},this),o(KH,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:173,columnNumber:13},this),o(VH,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:174,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:149,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:148,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:147,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:146,columnNumber:5},this)}function FH({loadoutDatum:e,loadoutDatum:{buildType:t}}){return t!=="tc"?o(rv,{hideWeapon:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:187,columnNumber:34},this):o(WH,{loadoutDatum:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:188,columnNumber:15},this)}function WH({loadoutDatum:{buildTcId:e}}){const{artifact:{sets:t}}=Rs(e);return o(H,{bgt:"light",sx:{flexGrow:1},children:o(M,{sx:{p:1,display:"flex",flexDirection:"column",gap:1},children:[o(ce,{color:"info",children:"TC Build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:209,columnNumber:9},this),Object.entries(t).map(([i,r])=>o(M,{sx:{display:"flex",alignItems:"center",gap:1},children:[o(dn,{size:2,src:Ly(i,"flower")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:215,columnNumber:13},this),o("span",{children:o(El,{setKey:i},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:217,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:216,columnNumber:13},this),o(ce,{children:["x",r]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:219,columnNumber:13},this)]},i,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:211,columnNumber:11},this))]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:200,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:199,columnNumber:5},this)}function qH({loadoutDatum:e}){const{data:t}=x.useContext(he),i=oe(),r=x.useMemo(()=>{var n;const a=((n=t.get(kr.weapon.id).value)==null?void 0:n.toString())??"invalid";return a&&a!=="invalid"?i.weapons.get(a):i.teams.getLoadoutWeapon(e)},[i,t,e]);return r?o(Yk,{weapon:r,bgt:"light"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:241,columnNumber:10},this):null}function HH(){const{data:e}=x.useContext(he),t=x.useMemo(()=>Object.entries(pv(e)).flatMap(([i,r])=>r.flatMap(a=>Ma(i).setEffectDocument(a)??[])),[e]);return t?o(zr,{bgt:"light",sections:t,teamBuffOnly:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:253,columnNumber:10},this):null}function KH(){const{character:{key:e}}=x.useContext(Je),{teamData:t}=x.useContext(he),i=t[e].weaponSheet;return i.document?o(zr,{bgt:"light",sections:i.document,teamBuffOnly:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:263,columnNumber:5},this):null}function VH(){const{character:{key:e}}=x.useContext(Je),{teamData:t}=x.useContext(he),i=t[e].characterSheet,r=Object.values(i.talent).flatMap(a=>a.sections);return r?o(zr,{bgt:"light",sections:r,teamBuffOnly:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamComponents.tsx",lineNumber:280,columnNumber:10},this):null}function XH({show:e,onHide:t,teamId:i}){const r=oe(),a=Is(i),{loadoutData:n}=a,s=(y,C)=>{const N=r.teamChars.get(y.teamCharId),d=r.optConfigs.get(N.optConfigId),{optimizationTarget:v}=d;if(!v||v[0]!=="custom")return C;const k=parseInt(v[1]);return isNaN(k)||C.exportCustomMultiTarget.includes(k)||C.exportCustomMultiTarget.push(k),C},[l,u]=x.useState(()=>n.map(y=>y?s(y,va()):va())),c=()=>{const y=r.teams.export(i,l),C=JSON.stringify(y);navigator.clipboard.writeText(C).then(()=>alert("Copied team data to clipboard.")).catch(console.error)},[m,p]=x.useState(!0),f=()=>{p(!0),u(n.map(y=>y?s(y,va()):va()))},b=()=>{p(!1),u(n.map(y=>{if(!y)return va();const C=r.teamChars.get(y.teamCharId);if(!C)return va();const{buildIds:N,buildTcIds:d,customMultiTargets:v}=C;return s(y,{convertEquipped:!0,convertbuilds:N,convertTcBuilds:d,exportCustomMultiTarget:(v==null?void 0:v.map((k,T)=>T))??[]})}))},g=$i(),h=Yi(g.breakpoints.down("md"));return o(bt,{open:e,onClose:t,children:o(H,{children:[o(Ve,{title:"Team Export",action:o(Le,{onClick:t,children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:140,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:139,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:136,columnNumber:9},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:144,columnNumber:9},this),o(ae,{sx:{display:"flex",flexDirection:"column",gap:1},children:[o(M,{sx:{display:"flex",gap:1,flexDirection:h?"column":"row"},children:[o(pi,{severity:"info",children:"Export the team data to be imported by another user. All the team and loadout data (bonus stats, enemy config, optimize config) are exported. All exported non-TC builds are converted to TC builds."},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:153,columnNumber:13},this),o(Y,{color:"info",onClick:m?b:f,children:m?"Select All":"Unselect All"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:158,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:146,columnNumber:11},this),o(I,{container:!0,columns:{xs:1,sm:2,md:4},spacing:1,children:n.map((y,C)=>!!y&&o(I,{item:!0,xs:1,children:o(YH,{loadout:y,setting:l[C],setSetting:N=>u(d=>{const v=structuredClone(d);return v[C]={...v[C],...N},v})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:168,columnNumber:21},this)},C,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:167,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:163,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:145,columnNumber:9},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:187,columnNumber:9},this),o(ae,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:o(Y,{color:"success",onClick:c,children:"Export"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:191,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:188,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:135,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:134,columnNumber:5},this)}function YH({loadout:e,setting:t,setSetting:i}){const r=oe(),a=kp(e.teamCharId),{key:n,name:s,description:l,buildIds:u,buildTcIds:c,customMultiTargets:m}=a,p=yi(a.optConfigId),{optimizationTarget:f}=p,b=f&&f[0]==="custom"?parseInt(f[1]):-1,g=lT(n),{target:h}=(g==null?void 0:g[n])??{},y=x.useMemo(()=>{if(!(!g||!h))return{data:h,teamData:g,compareData:void 0}},[h,g]);return o(H,{bgt:"light",children:[o(ae,{sx:{display:"flex",alignItems:"center",gap:1},children:[o(Il,{characterKey:n},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:243,columnNumber:9},this),o(W,{children:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:244,columnNumber:9},this),!!l&&o(ht,{title:l,children:o(gr,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:247,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:246,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:242,columnNumber:7},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:251,columnNumber:7},this),y&&o(he.Provider,{value:y,children:f&&o(Ce,{children:[o(ae,{children:[o(W,{sx:{display:"flex",gap:1,alignItems:"center"},children:[o(DT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:260,columnNumber:19},this),o(M,{children:"Optimization Target:"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:261,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:257,columnNumber:17},this),o(W,{children:o(GT,{customMultiTargets:m,optimizationTarget:f},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:264,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:263,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:256,columnNumber:15},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:270,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:255,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:253,columnNumber:9},this),!!m.length&&o(Ce,{children:[o(ae,{sx:{display:"flex",alignItems:"center",gap:1},children:[o(_T,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:279,columnNumber:13},this),o(W,{children:o("strong",{children:"Mtargets to Export"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:281,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:280,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:278,columnNumber:11},this),o(Ia,{bgt:"light",children:m.map((C,N)=>{const{name:d,description:v}=C;return o(Xr,{sx:{p:0,border:b===N?"2px solid green":void 0},children:o(to,{disabled:b===N,onClick:()=>i({exportCustomMultiTarget:Nu(t.exportCustomMultiTarget,N)}),children:[o(io,{edge:"start",checked:t.exportCustomMultiTarget.includes(N),tabIndex:-1,disableRipple:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:306,columnNumber:21},this),o(Vn,{primary:d},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:312,columnNumber:21},this),!!v&&o(ht,{title:v,children:o(gr,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:315,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:314,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:295,columnNumber:19},this)},N,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:288,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:284,columnNumber:11},this),o(be,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:323,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:277,columnNumber:9},this),o(ae,{sx:{display:"flex",alignItems:"center",gap:1},children:[o(wT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:327,columnNumber:9},this),o(W,{children:o("strong",{children:"Builds to Export"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:329,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:328,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:326,columnNumber:7},this),o(Ia,{bgt:"light",children:[o(Xr,{sx:{p:0},children:o(to,{onClick:()=>i({convertEquipped:!t.convertEquipped}),children:[o(io,{edge:"start",checked:t.convertEquipped,tabIndex:-1,disableRipple:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:339,columnNumber:13},this),o(Vn,{primary:"Equipped Build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:345,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:334,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:333,columnNumber:9},this),u.map(C=>{const N=r.builds.get(C);return o(Xr,{sx:{p:0},children:o(to,{onClick:()=>i({convertbuilds:Nu(t.convertbuilds,C)}),children:[o(io,{edge:"start",checked:t.convertbuilds.includes(C),tabIndex:-1,disableRipple:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:359,columnNumber:17},this),o(Vn,{primary:N.name},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:365,columnNumber:17},this),!!N.description&&o(ht,{title:N.description,children:o(gr,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:368,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:367,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:352,columnNumber:15},this)},C,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:351,columnNumber:13},this)}),c.map(C=>{const N=r.buildTcs.get(C);return o(Xr,{sx:{p:0},children:o(to,{onClick:()=>i({convertTcBuilds:Nu(t.convertTcBuilds,C)}),children:[o(io,{edge:"start",checked:t.convertTcBuilds.includes(C),tabIndex:-1,disableRipple:!0},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:389,columnNumber:17},this),o(Vn,{primary:o(M,{children:[N.name," ",o(ce,{children:"TC Build"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:398,columnNumber:38},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:397,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:395,columnNumber:17},this),!!N.description&&o(ht,{title:N.description,children:o(gr,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:404,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:403,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:379,columnNumber:15},this)},C,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:378,columnNumber:13},this)})]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:332,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/TeamExportModal.tsx",lineNumber:241,columnNumber:5},this)}function JH({teamId:e,teamData:t}){const i=xp(),r=oe(),[a,n,s]=He(),l=r.teams.get(e),u=l.loadoutData.every(y=>!y),{name:c,description:m}=l,p=()=>{r.teams.remove(e),i("/teams")},f=()=>{const y=r.teams.duplicate(e);i(`/teams/${y}`)},[b,g,h]=He();return o(ae,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o(kT,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:59,columnNumber:7},this),o(Wt,{fullWidth:!0,label:"Team Name",placeholder:"Team Name",value:c,onChange:y=>r.teams.set(e,{name:y})},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:60,columnNumber:7},this),o(Wt,{fullWidth:!0,label:"Team Description",value:m,onChange:y=>r.teams.set(e,{description:y}),multiline:!0,minRows:2},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:67,columnNumber:7},this),o(M,{sx:{display:"flex",gap:1},children:[o(XH,{show:a,teamId:e,onHide:s},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:76,columnNumber:9},this),o(Y,{color:"info",sx:{flexGrow:1},startIcon:o(fp,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:80,columnNumber:22},this),disabled:u,onClick:n,children:"Export Team"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:77,columnNumber:9},this),o(Y,{color:"info",sx:{flexGrow:1},disabled:u,onClick:f,startIcon:o(Bl,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:91,columnNumber:22},this),children:"Duplicate Team"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:86,columnNumber:9},this),o(ET,{teamId:e,show:b,onHide:h,onDel:()=>i("/teams")},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:95,columnNumber:9},this),o(Y,{color:"error",sx:{flexGrow:1},onClick:u?p:g,startIcon:o(As,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:105,columnNumber:22},this),children:"Delete Team"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:101,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:75,columnNumber:7},this),o(uT,{teamId:e},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:110,columnNumber:7},this),o(ZH,{teamId:e,teamData:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:111,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:58,columnNumber:5},this)}function ZH({teamId:e,teamData:t}){var g,h,y,C;const i=oe(),r=i.teams.get(e),{loadoutData:a}=r,[n,s]=x.useState(void 0),l=N=>{if(n===void 0)return;i.chars.getWithInitWeapon(N);const d=a.findIndex(v=>{var k;return v&&((k=i.teamChars.get(v.teamCharId))==null?void 0:k.key)===N});if(d<0){let v=i.teamChars.keys.find(k=>i.teamChars.get(k).key===N);v||(v=i.teamChars.new(N)),i.teams.set(e,k=>{v&&(k.loadoutData[n]={teamCharId:v})})}else{if(n===d)return;if(a[n]){const v=a[d],k=a[n];i.teams.set(e,T=>{T.loadoutData[n]=v,T.loadoutData[d]=k})}}},u=(h=i.teamChars.get((g=a[n])==null?void 0:g.teamCharId))==null?void 0:h.key,c=(y=a[0])==null?void 0:y.teamCharId,m=c&&((C=i.teamChars.get(c))==null?void 0:C.key),p=m&&(t==null?void 0:t[m]),f=p?p.target:void 0,b=x.useMemo(()=>{if(!(!t||!f))return{data:f,teamData:t,compareData:void 0}},[f,t]);return o(Ce,{children:[o(x.Suspense,{fallback:!1,children:o(cT,{filter:N=>N!==u,show:n!==void 0,onHide:()=>s(void 0),onSelect:l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:184,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:183,columnNumber:7},this),o(I,{container:!0,columns:{xs:1,md:2},spacing:2,children:[o(I,{item:!0,xs:1,children:o(RH,{teamId:e,team:r,dataContextValue:b},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:193,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:192,columnNumber:9},this),o(I,{item:!0,xs:1,children:o(jl,{bgt:"light",dataAdSlot:"5102492054",maxHeight:400},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:200,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:199,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:191,columnNumber:7},this),o(pi,{severity:"info",children:'The first character in the team receives any "active on-field character" buffs, and cannot be empty.'},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:203,columnNumber:7},this),o(I,{container:!0,columns:{xs:1,md:2,lg:4},spacing:2,children:a.map((N,d)=>o(I,{item:!0,xs:1,children:N?o(QH,{index:d,teamId:e,loadoutDatum:N,onClickChar:()=>s(d),teamData:t},N==null?void 0:N.teamCharId,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:211,columnNumber:15},this):o(Y,{onClick:()=>s(d),fullWidth:!0,disabled:!!d&&!a.some(v=>v),startIcon:o($a,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:225,columnNumber:28},this),children:"Add Character"},d,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:220,columnNumber:15},this)},(N==null?void 0:N.teamCharId)??d,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:209,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:207,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:182,columnNumber:5},this)}function QH({index:e,teamId:t,loadoutDatum:i,teamData:r,onClickChar:a}){const n=oe(),{teamCharId:s}=i,{key:l}=n.teamChars.get(s),{gender:u}=$t(),c=h=>{n.teams.set(t,y=>{y.loadoutData[e]={teamCharId:h}})},m=()=>{n.teams.set(t,h=>{const y=h.loadoutData[0];h.loadoutData[0]=i,h.loadoutData[e]=y})},p=()=>n.teams.set(t,h=>{h.loadoutData[e]=void 0}),f=l&&(r==null?void 0:r[l]),b=f?f.target:void 0,g=x.useMemo(()=>{if(!(!r||!b))return{data:b,teamData:r,compareData:void 0}},[b,r]);return o(M,{sx:{display:"flex",gap:1,flexDirection:"column"},children:[o(M,{sx:{display:"flex",gap:1},children:[o(Y,{onClick:a,color:"success",sx:{flexGrow:1},startIcon:o(Il,{characterKey:l},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:291,columnNumber:22},this),children:o(Ul,{characterKey:l,gender:u},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:293,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:287,columnNumber:9},this),o(Y,{onClick:p,color:"error",sx:{p:1,minWidth:0},children:o(gt,{},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:296,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:295,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:286,columnNumber:7},this),o(Vv,{teamCharId:s,onChangeTeamCharId:c,dropdownBtnProps:{fullWidth:!0}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:299,columnNumber:7},this),o(IH,{teamId:t,loadoutDatum:i,dropdownBtnProps:{fullWidth:!0}},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:304,columnNumber:7},this),e?o(Y,{onClick:m,color:"info",children:"To Field"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:310,columnNumber:9},this):o(Y,{disabled:!0,color:"info",children:"On-field Character"},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:314,columnNumber:9},this),g&&o(LH,{dataContextValue:g,teamCharId:s,teamId:t},void 0,!1,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:319,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kulay/Git/genshin-optimizer/libs/gi/page-team/src/TeamSetting/index.tsx",lineNumber:285,columnNumber:5},this)}function mK(){const e=oe(),{teamId:t}=mT(),i=!t||!e.teams.keys.includes(t);return x.useEffect(()=>{i||e.teams.set(t,{lastEdit:Date.now()})},[t,e.teams,i]),i?o(gv,{to:"/teams"},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:65,columnNumber:26},this):o(M,{display:"flex",flexDirection:"column",gap:1,children:o(x.Suspense,{fallback:o(Ke,{variant:"rectangular",width:"100%",height:1e3},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:70,columnNumber:19},this),children:t&&o(eK,{teamId:t},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:72,columnNumber:20},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:69,columnNumber:7},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:68,columnNumber:5},this)}const y0=o(Ke,{variant:"rectangular",width:"100%",height:1e3},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:78,columnNumber:18},void 0),fc={},hc={};function eK({teamId:e}){var N;const t=oe(),i=xp(),{silly:r}=x.useContext(av),{gender:a}=$t(),n=Is(e),{loadoutData:s}=n,{params:{characterKey:l}}=hh({path:"/teams/:teamId/:characterKey",end:!1})??{params:{}},{params:{tab:u}}=hh({path:"/teams/:teamId/:characterKey/:tab"})??{params:{}},c=x.useMemo(()=>s.find(v=>{var k;return(v==null?void 0:v.teamCharId)&&((k=t.teamChars.get(v.teamCharId))==null?void 0:k.key)===l}),[s,t.teamChars,l]);x.useEffect(()=>{c||i("",{replace:!0})},[c,i]);const m=c==null?void 0:c.teamCharId,p=(N=t.teamChars.get(m))==null?void 0:N.key,f=kp(m??""),{t:b}=pe(["sillyWisher_charNames","charNames_gen","page_character"]);pT(x.useMemo(()=>`${n.name} - ${b(`${r?"sillyWisher_charNames":"charNames_gen"}:${p?fT(p,a):"Character"}`)} - ${b(`page_character:tabs.${u}`)}`,[b,n.name,r,p,a,u]));const g=x.useMemo(()=>{if(!(!m||!f||!c))return{teamId:e,team:n,teamCharId:m,teamChar:f,loadoutDatum:c}},[e,n,m,f,c]),h=hT(e,m??""),{target:y}=(p&&(h==null?void 0:h[p]))??{},C=x.useMemo(()=>{if(!(!h||!y))return{data:y,teamData:h,compareData:void 0}},[y,h]);return o(M,{sx:{display:"flex",gap:1,flexDirection:"column"},children:o(H,{children:[o($H,{teamId:e,characterKey:p,tab:u},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:171,columnNumber:9},this),o(M,{sx:d=>{const v=p&&bn(p);if(!v)return{};const k=d.palette[v].main,T=xo(k);return T?{background:`linear-gradient(to bottom, ${No(T,.1)} 0%, rgba(0,0,0,0)) 25%`}:{}},children:g?C?o(Se.Provider,{value:g,children:o(he.Provider,{value:C,children:o(ae,{sx:{display:"flex",flexDirection:"column",gap:1},children:o(tK,{tab:u},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:196,columnNumber:21},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:193,columnNumber:19},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:192,columnNumber:17},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:191,columnNumber:15},this):y0:o(JH,{teamId:e,teamData:h},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:204,columnNumber:13},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:176,columnNumber:9},this)]},void 0,!0,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:170,columnNumber:7},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:169,columnNumber:5},this)}function tK({tab:e}){const t=oe(),{teamCharId:i,teamChar:{key:r},loadoutDatum:a}=x.useContext(Se),n=yv(r),s=x.useMemo(()=>n&&{character:n},[n]),[l,u]=x.useState(fc[i]),[c,m]=x.useState(hc[i]);x.useEffect(()=>{u(fc[i]),m(hc[i])},[i,u,m]);const p=x.useMemo(()=>({chartData:l,setChartData:h=>{h&&(fc[i]=h),u(h)},graphBuilds:c,setGraphBuilds:h=>{h&&(hc[i]=h),m(h)}}),[i,l,c,u,m]),f=Rs(a.buildTcId),b=x.useCallback(h=>{t.buildTcs.set(a.buildTcId,h)},[a.buildTcId,t]),g=x.useMemo(()=>({buildTc:a.buildType==="tc"?f:void 0,setBuildTc:b}),[f,a.buildType,b]);return s?o(Je.Provider,{value:s,children:o(kt.Provider,{value:g,children:o(os.Provider,{value:p,children:o(dT,{children:o(dv,{children:o(Fi,{path:":characterKey",children:o(Fi,{path:"*",index:!0,element:o(MH,{tab:e},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:281,columnNumber:48},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:281,columnNumber:17},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:280,columnNumber:15},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:279,columnNumber:13},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:278,columnNumber:11},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:277,columnNumber:9},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:276,columnNumber:7},this)},void 0,!1,{fileName:"C:\\Users\\kulay\\Git\\genshin-optimizer\\libs\\gi\\page-team\\src\\index.tsx",lineNumber:275,columnNumber:5},this):y0}export{mK as default};
